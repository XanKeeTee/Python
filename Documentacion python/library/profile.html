<!DOCTYPE html>

<html lang="es" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Los perfiladores de Python" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/library/profile.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Source code: Lib/profile.py, Lib/pstats.py, and Lib/profile/sample.py Introducción a los perfiladores: Python provides both statistical profiling and deterministic profiling of Python programs. A p..." />
<meta property="og:image:width" content="1146" />
<meta property="og:image:height" content="600" />
<meta property="og:image" content="https://docs.python.org/3.15/es/_images/social_previews/summary_library_profile_dc01d0f1.png" />
<meta property="og:image:alt" content="Source code: Lib/profile.py, Lib/pstats.py, and Lib/profile/sample.py Introducción a los perfiladores: Python provides both statistical profiling and deterministic profiling of Python programs. A p..." />
<meta name="description" content="Source code: Lib/profile.py, Lib/pstats.py, and Lib/profile/sample.py Introducción a los perfiladores: Python provides both statistical profiling and deterministic profiling of Python programs. A p..." />
<meta name="twitter:card" content="summary_large_image" />
<meta name="theme-color" content="#3776ab">

    <title>Los perfiladores de Python &#8212; documentación de Python - 3.15.0a0</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=234b1a7c" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?v=8cd84f99" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css?v=5349f25f" />
    
    <script src="../_static/documentation_options.js?v=bf1f176d"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=f85f4cfb"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Buscar en documentación de Python - 3.15.0a0"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="Sobre este documento" href="../about.html" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="copyright" title="Derechos de autor" href="../copyright.html" />
    <link rel="next" title="timeit — Measure execution time of small code snippets" href="timeit.html" />
    <link rel="prev" title="pdb — El Depurador de Python" href="pdb.html" />
    
      
      <script defer file-types="bz2,epub,zip" data-domain="docs.python.org" src="https://analytics.python.org/js/script.file-downloads.outbound-links.js"></script>
      
      <link rel="canonical" href="https://docs.python.org/3/library/profile.html">
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="stylesheet" href="../_static/pydoctheme_dark.css" media="(prefers-color-scheme: dark)" id="pydoctheme_dark_css">
    <link rel="shortcut icon" type="image/png" href="../_static/py.svg">
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script>
            <script type="text/javascript" src="../_static/search-focus.js"></script>
            <script type="text/javascript" src="../_static/themetoggle.js"></script> 
            <script type="text/javascript" src="../_static/rtd_switcher.js"></script>
            <meta name="readthedocs-addons-api-version" content="1">

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menú">
    <nav class="nav-content" role="navigation">
        <label for="menuToggler" class="toggler__label">
            <span></span>
        </label>
        <span class="nav-items-wrapper">
            <a href="https://www.python.org/" class="nav-logo">
                <img src="../_static/py.svg" alt="Python logo">
            </a>
            <span class="version_switcher_placeholder"></span>
            <form role="search" class="search" action="../search.html" method="get">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                    <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="search" name="q">
                <input type="submit" value="Ir">
            </form>
        </span>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
            
<label class="theme-selector-label">
    Tema
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Claro</option>
        <option value="dark">Oscuro</option>
    </select>
</label>
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#">Los perfiladores de Python</a><ul>
<li><a class="reference internal" href="#introduction-to-the-profilers">Introducción a los perfiladores</a></li>
<li><a class="reference internal" href="#what-is-statistical-profiling">What Is Statistical Profiling?</a></li>
<li><a class="reference internal" href="#instant-user-s-manual">Manual instantáneo de usuario</a></li>
<li><a class="reference internal" href="#statistical-profiler-command-line-interface">Statistical Profiler Command Line Interface</a></li>
<li><a class="reference internal" href="#module-profiling.sampling"><code class="xref py py-mod docutils literal notranslate"><span class="pre">profiling.sampling</span></code> Module Reference</a></li>
<li><a class="reference internal" href="#deterministic-profiler-command-line-interface">Deterministic Profiler Command Line Interface</a></li>
<li><a class="reference internal" href="#module-cProfile">Referencia del módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code> y <code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a></li>
<li><a class="reference internal" href="#the-stats-class">La clase <code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a></li>
<li><a class="reference internal" href="#what-is-deterministic-profiling">¿Qué es el perfil determinista?</a></li>
<li><a class="reference internal" href="#limitations">Limitaciones</a></li>
<li><a class="reference internal" href="#calibration">Calibración</a></li>
<li><a class="reference internal" href="#using-a-custom-timer">Usando un temporizador personalizado</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="pdb.html"
                          title="capítulo anterior"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pdb</span></code> — El Depurador de Python</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="timeit.html"
                          title="próximo capítulo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">timeit</span></code> — Measure execution time of small code snippets</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Report a bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/profile.rst?plain=1"
            rel="nofollow">Show source
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="timeit.html" title="timeit — Measure execution time of small code snippets"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="pdb.html" title="pdb — El Depurador de Python"
             accesskey="P">anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.15.0a0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La biblioteca estándar de Python</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="debug.html" accesskey="U">Depuración y perfilado</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Los perfiladores de Python</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="search" name="q" id="search-box">
          <input type="submit" value="Ir">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Tema
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Claro</option>
        <option value="dark">Oscuro</option>
    </select>
</label> |</li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="the-python-profilers">
<span id="profile"></span><h1 class="translated">Los perfiladores de Python<a class="headerlink" href="#the-python-profilers" title="Link to this heading">¶</a></h1>
<p class="untranslated"><strong>Source code:</strong> <a class="extlink-source reference external" href="https://github.com/python/cpython/tree/main/Lib/profile.py">Lib/profile.py</a>, <a class="extlink-source reference external" href="https://github.com/python/cpython/tree/main/Lib/pstats.py">Lib/pstats.py</a>, and <a class="extlink-source reference external" href="https://github.com/python/cpython/tree/main/Lib/profile/sample.py">Lib/profile/sample.py</a></p>
<hr class="docutils" />
<section id="introduction-to-the-profilers">
<span id="profiler-introduction"></span><h2 class="translated">Introducción a los perfiladores<a class="headerlink" href="#introduction-to-the-profilers" title="Link to this heading">¶</a></h2>
<p class="untranslated" id="index-0">Python provides both <em class="dfn">statistical profiling</em> and <em class="dfn">deterministic profiling</em> of
Python programs. A <em class="dfn">profile</em> is a set of statistics that describes how
often and for how long various parts of the program executed. These statistics
can be formatted into reports via the <a class="reference internal" href="#module-pstats" title="pstats: Statistics object for use with the profiler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pstats</span></code></a> module.</p>
<p class="untranslated">The Python standard library provides three different profiling implementations:</p>
<p class="untranslated"><strong>Statistical Profiler:</strong></p>
<ol class="arabic simple">
<li><p class="untranslated"><code class="xref py py-mod docutils literal notranslate"><span class="pre">profiling.sampling</span></code> provides statistical profiling of running Python processes
using periodic stack sampling. It can attach to any running Python process without
requiring code modification or restart, making it ideal for production debugging.</p></li>
</ol>
<p class="untranslated"><strong>Deterministic Profilers:</strong></p>
<ol class="arabic simple" start="2">
<li><p class="untranslated"><a class="reference internal" href="#module-cProfile" title="cProfile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a> is recommended for development and testing; it’s a C extension with
reasonable overhead that makes it suitable for profiling long-running
programs.  Based on <code class="xref py py-mod docutils literal notranslate"><span class="pre">lsprof</span></code>, contributed by Brett Rosen and Ted
Czotter.</p></li>
<li><p class="translated"><a class="reference internal" href="#module-profile" title="profile: Python source profiler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code></a>, un módulo Python puro cuya interfaz es imitada por <a class="reference internal" href="#module-cProfile" title="cProfile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a>, pero que agrega una sobrecarga significativa a los programas perfilados. Si está intentando extender el generador de perfiles de alguna manera, la tarea podría ser más fácil con este módulo. Originalmente diseñado y escrito por Jim Roskind.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p class="translated">Los módulos del generador de perfiles están diseñados para proporcionar un perfil de ejecución para un programa determinado, no para fines de evaluación comparativa (para eso, está <a class="reference internal" href="timeit.html#module-timeit" title="timeit: Measure the execution time of small code snippets."><code class="xref py py-mod docutils literal notranslate"><span class="pre">timeit</span></code></a> que permite obtener resultados razonablemente precisos). Esto se aplica particularmente a la evaluación comparativa del código Python contra el código C: los perfiladores introducen gastos generales para el código Python, pero no para las funciones de nivel C, por lo que el código C parecería más rápido que cualquier Python.</p>
</div>
<p class="untranslated"><strong>Profiler Comparison:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p class="untranslated">Feature</p></th>
<th class="head"><p class="untranslated">Statistical
(<code class="docutils literal notranslate"><span class="pre">profiling.sampling</span></code>)</p></th>
<th class="head"><p class="untranslated">Deterministic
(<code class="docutils literal notranslate"><span class="pre">cProfile</span></code>)</p></th>
<th class="head"><p class="untranslated">Deterministic
(<code class="docutils literal notranslate"><span class="pre">profile</span></code>)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p class="untranslated"><strong>Target</strong></p></td>
<td><p class="untranslated">Running process</p></td>
<td><p class="untranslated">Code you run</p></td>
<td><p class="untranslated">Code you run</p></td>
</tr>
<tr class="row-odd"><td><p class="untranslated"><strong>Overhead</strong></p></td>
<td><p class="untranslated">Virtually none</p></td>
<td><p class="untranslated">Moderate</p></td>
<td><p class="untranslated">High</p></td>
</tr>
<tr class="row-even"><td><p class="untranslated"><strong>Accuracy</strong></p></td>
<td><p class="untranslated">Statistical approx.</p></td>
<td><p class="untranslated">Exact call counts</p></td>
<td><p class="untranslated">Exact call counts</p></td>
</tr>
<tr class="row-odd"><td><p class="untranslated"><strong>Setup</strong></p></td>
<td><p class="untranslated">Attach to any PID</p></td>
<td><p class="untranslated">Instrument code</p></td>
<td><p class="untranslated">Instrument code</p></td>
</tr>
<tr class="row-even"><td><p class="untranslated"><strong>Use Case</strong></p></td>
<td><p class="untranslated">Production debugging</p></td>
<td><p class="untranslated">Development/testing</p></td>
<td><p class="untranslated">Profiler extension</p></td>
</tr>
<tr class="row-odd"><td><p class="untranslated"><strong>Implementation</strong></p></td>
<td><p class="untranslated">C extension</p></td>
<td><p class="untranslated">C extension</p></td>
<td><p class="untranslated">Pure Python</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p class="untranslated">The statistical profiler (<code class="xref py py-mod docutils literal notranslate"><span class="pre">profiling.sampling</span></code>) is recommended for most production
use cases due to its extremely low overhead and ability to profile running processes
without modification. It can attach to any Python process and collect performance
data with minimal impact on execution speed, making it ideal for debugging
performance issues in live applications.</p>
</div>
</section>
<section id="what-is-statistical-profiling">
<span id="statistical-profiling"></span><h2 class="untranslated">What Is Statistical Profiling?<a class="headerlink" href="#what-is-statistical-profiling" title="Link to this heading">¶</a></h2>
<p class="untranslated"><em class="dfn">Statistical profiling</em> works by periodically interrupting a running
program to capture its current call stack. Rather than monitoring every
function entry and exit like deterministic profilers, it takes snapshots at
regular intervals to build a statistical picture of where the program spends
its time.</p>
<p class="untranslated">The sampling profiler uses process memory reading (via system calls like
<code class="docutils literal notranslate"><span class="pre">process_vm_readv</span></code> on Linux, <code class="docutils literal notranslate"><span class="pre">vm_read</span></code> on macOS, and <code class="docutils literal notranslate"><span class="pre">ReadProcessMemory</span></code> on
Windows) to attach to a running Python process and extract stack trace
information without requiring any code modification or restart of the target
process. This approach provides several key advantages over traditional
profiling methods.</p>
<p class="untranslated">The fundamental principle is that if a function appears frequently in the
collected stack samples, it is likely consuming significant CPU time. By
analyzing thousands of samples, the profiler can accurately estimate the
relative time spent in different parts of the program. The statistical nature
means that while individual measurements may vary, the aggregate results
converge to represent the true performance characteristics of the application.</p>
<p class="untranslated">Since statistical profiling operates externally to the target process, it
introduces virtually no overhead to the running program. The profiler process
runs separately and reads the target process memory without interrupting its
execution. This makes it suitable for profiling production systems where
performance impact must be minimized.</p>
<p class="untranslated">The accuracy of statistical profiling improves with the number of samples
collected. Short-lived functions may be missed or underrepresented, while
long-running functions will be captured proportionally to their execution time.
This characteristic makes statistical profiling particularly effective for
identifying the most significant performance bottlenecks rather than providing
exhaustive coverage of all function calls.</p>
<p class="untranslated">Statistical profiling excels at answering questions like «which functions
consume the most CPU time?» and «where should I focus optimization efforts?»
rather than «exactly how many times was this function called?» The trade-off
between precision and practicality makes it an invaluable tool for performance
analysis in real-world applications.</p>
</section>
<section id="instant-user-s-manual">
<span id="profile-instant"></span><h2 class="translated">Manual instantáneo de usuario<a class="headerlink" href="#instant-user-s-manual" title="Link to this heading">¶</a></h2>
<p class="translated">Esta sección se proporciona a los usuarios que «no quieren leer el manual». Proporciona una visión general muy breve y permite a un usuario realizar perfiles rápidamente en una aplicación existente.</p>
<p class="untranslated"><strong>Statistical Profiling (Recommended for Production):</strong></p>
<p class="untranslated">To profile an existing running process:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">profiling</span><span class="o">.</span><span class="n">sampling</span> <span class="mi">1234</span>
</pre></div>
</div>
<p class="untranslated">To profile with custom settings:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">profiling</span><span class="o">.</span><span class="n">sampling</span> <span class="o">-</span><span class="n">i</span> <span class="mi">50</span> <span class="o">-</span><span class="n">d</span> <span class="mi">30</span> <span class="mi">1234</span>
</pre></div>
</div>
<p class="untranslated"><strong>Deterministic Profiling (Development/Testing):</strong></p>
<p class="translated">Para perfilar una función que toma un solo argumento, puede hacer:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">cProfile</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="n">cProfile</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;re.compile(&quot;foo|bar&quot;)&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">(Use <a class="reference internal" href="#module-profile" title="profile: Python source profiler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code></a> en lugar de <a class="reference internal" href="#module-cProfile" title="cProfile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a> si este último no está disponible en su sistema.)</p>
<p class="translated">La acción anterior ejecutaría <a class="reference internal" href="re.html#re.compile" title="re.compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">re.compile()</span></code></a> e imprime resultados de perfil como los siguientes:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span>      <span class="mi">214</span> <span class="n">function</span> <span class="n">calls</span> <span class="p">(</span><span class="mi">207</span> <span class="n">primitive</span> <span class="n">calls</span><span class="p">)</span> <span class="ow">in</span> <span class="mf">0.002</span> <span class="n">seconds</span>

<span class="n">Ordered</span> <span class="n">by</span><span class="p">:</span> <span class="n">cumulative</span> <span class="n">time</span>

<span class="n">ncalls</span>  <span class="n">tottime</span>  <span class="n">percall</span>  <span class="n">cumtime</span>  <span class="n">percall</span> <span class="n">filename</span><span class="p">:</span><span class="n">lineno</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
     <span class="mi">1</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span>    <span class="mf">0.002</span>    <span class="mf">0.002</span> <span class="p">{</span><span class="n">built</span><span class="o">-</span><span class="ow">in</span> <span class="n">method</span> <span class="n">builtins</span><span class="o">.</span><span class="n">exec</span><span class="p">}</span>
     <span class="mi">1</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span>    <span class="mf">0.001</span>    <span class="mf">0.001</span> <span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="p">:</span><span class="mi">1</span><span class="p">(</span><span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span><span class="p">)</span>
     <span class="mi">1</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span>    <span class="mf">0.001</span>    <span class="mf">0.001</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">250</span><span class="p">(</span><span class="nb">compile</span><span class="p">)</span>
     <span class="mi">1</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span>    <span class="mf">0.001</span>    <span class="mf">0.001</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">289</span><span class="p">(</span><span class="n">_compile</span><span class="p">)</span>
     <span class="mi">1</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span> <span class="n">_compiler</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">759</span><span class="p">(</span><span class="nb">compile</span><span class="p">)</span>
     <span class="mi">1</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span> <span class="n">_parser</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">937</span><span class="p">(</span><span class="n">parse</span><span class="p">)</span>
     <span class="mi">1</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span> <span class="n">_compiler</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">598</span><span class="p">(</span><span class="n">_code</span><span class="p">)</span>
     <span class="mi">1</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span>    <span class="mf">0.000</span> <span class="n">_parser</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">435</span><span class="p">(</span><span class="n">_parse_sub</span><span class="p">)</span>
</pre></div>
</div>
<p class="untranslated">The first line indicates that 214 calls were monitored.  Of those calls, 207
were <em class="dfn">primitive</em>, meaning that the call was not induced via recursion. The
next line: <code class="docutils literal notranslate"><span class="pre">Ordered</span> <span class="pre">by:</span> <span class="pre">cumulative</span> <span class="pre">time</span></code> indicates the output is sorted
by the <code class="docutils literal notranslate"><span class="pre">cumtime</span></code> values. The column headings include:</p>
<dl class="simple">
<dt class="translated">ncalls</dt><dd><p class="translated">por el número de llamadas.</p>
</dd>
<dt class="translated">tottime</dt><dd><p class="translated">para el tiempo total empleado en la función dada (y excluyendo el tiempo realizado en llamadas a subfunciones)</p>
</dd>
<dt class="translated">percall</dt><dd><p class="translated">es el cociente de <code class="docutils literal notranslate"><span class="pre">tottime</span></code> dividido por <code class="docutils literal notranslate"><span class="pre">ncalls</span></code></p>
</dd>
<dt class="translated">cumtime</dt><dd><p class="translated">es el tiempo acumulado empleado en esta y todas las subfunciones (desde la invocación hasta la salida). Esta cifra es precisa <em>incluso</em> para funciones recursivas.</p>
</dd>
<dt class="translated">percall</dt><dd><p class="translated">es el cociente de <code class="docutils literal notranslate"><span class="pre">cumtime</span></code> dividido por llamadas primitivas</p>
</dd>
<dt class="translated">filename:lineno(function)</dt><dd><p class="translated">proporciona los datos respectivos de cada función</p>
</dd>
</dl>
<p class="translated">Cuando hay dos números en la primera columna (por ejemplo, <code class="docutils literal notranslate"><span class="pre">3/1</span></code>), significa que la función se repite. El segundo valor es el número de llamadas primitivas y el primero es el número total de llamadas. Tenga en cuenta que cuando la función no se repite, estos dos valores son iguales y solo se imprime la figura.</p>
<p class="translated">En lugar de imprimir la salida al final de la ejecución del perfil, puede guardar los resultados en un archivo especificando un nombre de archivo en la función <code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code>:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">cProfile</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="n">cProfile</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;re.compile(&quot;foo|bar&quot;)&#39;</span><span class="p">,</span> <span class="s1">&#39;restats&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">La clase <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">pstats.Stats</span></code></a> lee los resultados del perfil desde un archivo y los formatea de varias maneras.</p>
</section>
<section id="statistical-profiler-command-line-interface">
<span id="sampling-profiler-cli"></span><h2 class="untranslated">Statistical Profiler Command Line Interface<a class="headerlink" href="#statistical-profiler-command-line-interface" title="Link to this heading">¶</a></h2>
<p class="untranslated">The <code class="xref py py-mod docutils literal notranslate"><span class="pre">profiling.sampling</span></code> module can be invoked as a script to profile running processes:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">profiling</span><span class="o">.</span><span class="n">sampling</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="n">PID</span>
</pre></div>
</div>
<p class="untranslated"><strong>Basic Usage Examples:</strong></p>
<p class="untranslated">Profile process 1234 for 10 seconds with default settings:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">profiling</span><span class="o">.</span><span class="n">sampling</span> <span class="mi">1234</span>
</pre></div>
</div>
<p class="untranslated">Profile with custom interval and duration, save to file:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">profiling</span><span class="o">.</span><span class="n">sampling</span> <span class="o">-</span><span class="n">i</span> <span class="mi">50</span> <span class="o">-</span><span class="n">d</span> <span class="mi">30</span> <span class="o">-</span><span class="n">o</span> <span class="n">profile</span><span class="o">.</span><span class="n">stats</span> <span class="mi">1234</span>
</pre></div>
</div>
<p class="untranslated">Generate collapsed stacks to use with tools like <a class="reference external" href="https://github.com/brendangregg/FlameGraph">flamegraph.pl</a>:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">profiling</span><span class="o">.</span><span class="n">sampling</span> <span class="o">--</span><span class="n">collapsed</span> <span class="mi">1234</span>
</pre></div>
</div>
<p class="untranslated">Profile all threads, sort by total time:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">profiling</span><span class="o">.</span><span class="n">sampling</span> <span class="o">-</span><span class="n">a</span> <span class="o">--</span><span class="n">sort</span><span class="o">-</span><span class="n">tottime</span> <span class="mi">1234</span>
</pre></div>
</div>
<p class="untranslated">Profile with real-time sampling statistics:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">profiling</span><span class="o">.</span><span class="n">sampling</span> <span class="o">--</span><span class="n">realtime</span><span class="o">-</span><span class="n">stats</span> <span class="mi">1234</span>
</pre></div>
</div>
<p class="untranslated"><strong>Command Line Options:</strong></p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-arg-PID">
<span class="sig-name descname"><span class="pre">PID</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-profiling.sampling-arg-PID" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Process ID of the Python process to profile (required)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-i">
<span id="cmdoption-profiling.sampling-interval"></span><span class="sig-name descname"><span class="pre">-i</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--interval</span></span><span class="sig-prename descclassname"> <span class="pre">INTERVAL</span></span><a class="headerlink" href="#cmdoption-profiling.sampling-i" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Sampling interval in microseconds (default: 100)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-d">
<span id="cmdoption-profiling.sampling-duration"></span><span class="sig-name descname"><span class="pre">-d</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--duration</span></span><span class="sig-prename descclassname"> <span class="pre">DURATION</span></span><a class="headerlink" href="#cmdoption-profiling.sampling-d" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Sampling duration in seconds (default: 10)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-a">
<span id="cmdoption-profiling.sampling-all-threads"></span><span class="sig-name descname"><span class="pre">-a</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--all-threads</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-profiling.sampling-a" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Sample all threads in the process instead of just the main thread</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-realtime-stats">
<span class="sig-name descname"><span class="pre">--realtime-stats</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-profiling.sampling-realtime-stats" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Print real-time sampling statistics during profiling</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-pstats">
<span class="sig-name descname"><span class="pre">--pstats</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-profiling.sampling-pstats" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Generate pstats output (default)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-collapsed">
<span class="sig-name descname"><span class="pre">--collapsed</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-profiling.sampling-collapsed" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Generate collapsed stack traces for flamegraphs</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-o">
<span id="cmdoption-profiling.sampling-outfile"></span><span class="sig-name descname"><span class="pre">-o</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--outfile</span></span><span class="sig-prename descclassname"> <span class="pre">OUTFILE</span></span><a class="headerlink" href="#cmdoption-profiling.sampling-o" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Save output to a file</p>
</dd></dl>

<p class="untranslated"><strong>Sorting Options (pstats format only):</strong></p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-sort-nsamples">
<span class="sig-name descname"><span class="pre">--sort-nsamples</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-profiling.sampling-sort-nsamples" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Sort by number of direct samples</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-sort-tottime">
<span class="sig-name descname"><span class="pre">--sort-tottime</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-profiling.sampling-sort-tottime" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Sort by total time</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-sort-cumtime">
<span class="sig-name descname"><span class="pre">--sort-cumtime</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-profiling.sampling-sort-cumtime" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Sort by cumulative time (default)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-sort-sample-pct">
<span class="sig-name descname"><span class="pre">--sort-sample-pct</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-profiling.sampling-sort-sample-pct" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Sort by sample percentage</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-sort-cumul-pct">
<span class="sig-name descname"><span class="pre">--sort-cumul-pct</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-profiling.sampling-sort-cumul-pct" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Sort by cumulative sample percentage</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-sort-nsamples-cumul">
<span class="sig-name descname"><span class="pre">--sort-nsamples-cumul</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-profiling.sampling-sort-nsamples-cumul" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Sort by cumulative samples</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-sort-name">
<span class="sig-name descname"><span class="pre">--sort-name</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-profiling.sampling-sort-name" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Sort by function name</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-l">
<span id="cmdoption-profiling.sampling-limit"></span><span class="sig-name descname"><span class="pre">-l</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--limit</span></span><span class="sig-prename descclassname"> <span class="pre">LIMIT</span></span><a class="headerlink" href="#cmdoption-profiling.sampling-l" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Limit the number of rows in the output (default: 15)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-profiling.sampling-no-summary">
<span class="sig-name descname"><span class="pre">--no-summary</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-profiling.sampling-no-summary" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Disable the summary section in the output</p>
</dd></dl>

<p class="untranslated"><strong>Understanding Statistical Profile Output:</strong></p>
<p class="untranslated">The statistical profiler produces output similar to deterministic profilers but with different column meanings:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Profile</span> <span class="n">Stats</span><span class="p">:</span>
       <span class="n">nsamples</span>  <span class="n">sample</span><span class="o">%</span>     <span class="n">tottime</span> <span class="p">(</span><span class="n">ms</span><span class="p">)</span>  <span class="n">cumul</span><span class="o">%</span>    <span class="n">cumtime</span> <span class="p">(</span><span class="n">ms</span><span class="p">)</span>  <span class="n">filename</span><span class="p">:</span><span class="n">lineno</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
          <span class="mi">45</span><span class="o">/</span><span class="mi">67</span>     <span class="mf">12.5</span>        <span class="mf">23.450</span>     <span class="mf">18.6</span>        <span class="mf">56.780</span>     <span class="n">mymodule</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">42</span><span class="p">(</span><span class="n">process_data</span><span class="p">)</span>
          <span class="mi">23</span><span class="o">/</span><span class="mi">23</span>      <span class="mf">6.4</span>        <span class="mf">15.230</span>      <span class="mf">6.4</span>        <span class="mf">15.230</span>     <span class="o">&lt;</span><span class="n">built</span><span class="o">-</span><span class="ow">in</span><span class="o">&gt;</span><span class="p">:</span><span class="mi">0</span><span class="p">(</span><span class="nb">len</span><span class="p">)</span>
</pre></div>
</div>
<p class="untranslated"><strong>Column Meanings:</strong></p>
<ul class="simple">
<li><p class="untranslated"><strong>nsamples</strong>: <code class="docutils literal notranslate"><span class="pre">direct/cumulative</span></code> - Times function was directly executing / on call stack</p></li>
<li><p class="untranslated"><strong>sample%</strong>: Percentage of total samples where function was directly executing</p></li>
<li><p class="untranslated"><strong>tottime</strong>: Estimated time spent directly in this function</p></li>
<li><p class="untranslated"><strong>cumul%</strong>: Percentage of samples where function was anywhere on call stack</p></li>
<li><p class="untranslated"><strong>cumtime</strong>: Estimated cumulative time including called functions</p></li>
<li><p class="untranslated"><strong>filename:lineno(function)</strong>: Location and name of the function</p></li>
</ul>
</section>
<section id="module-profiling.sampling">
<span id="profiling-sampling-module-reference"></span><span id="profile-cli"></span><h2 class="untranslated"><code class="xref py py-mod docutils literal notranslate"><span class="pre">profiling.sampling</span></code> Module Reference<a class="headerlink" href="#module-profiling.sampling" title="Link to this heading">¶</a></h2>
<p class="untranslated">This section documents the programmatic interface for the <code class="xref py py-mod docutils literal notranslate"><span class="pre">profiling.sampling</span></code> module.
For command-line usage, see <a class="reference internal" href="#sampling-profiler-cli"><span class="std std-ref">Statistical Profiler Command Line Interface</span></a>. For conceptual information
about statistical profiling, see <a class="reference internal" href="#statistical-profiling"><span class="std std-ref">What Is Statistical Profiling?</span></a></p>
<dl class="py function">
<dt class="sig sig-object py" id="profiling.sampling.sample">
<span class="sig-prename descclassname"><span class="pre">profiling.sampling.</span></span><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pid</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_interval_usec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration_sec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_summary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pstats'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">realtime_stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#profiling.sampling.sample" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Sample a Python process and generate profiling data.</p>
<p class="untranslated">This is the main entry point for statistical profiling. It creates a
<a class="reference internal" href="#profiling.sampling.SampleProfiler" title="profiling.sampling.SampleProfiler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SampleProfiler</span></code></a>, collects stack traces from the target process, and
outputs the results in the specified format.</p>
<dl class="field-list simple">
<dt class="field-odd untranslated">Parámetros<span class="colon">:</span></dt>
<dd class="field-odd untranslated"><ul class="simple">
<li><p><strong>pid</strong> (<a class="reference internal" href="functions.html#int" title="int"><em>int</em></a>) – Process ID of the target Python process</p></li>
<li><p><strong>sort</strong> (<a class="reference internal" href="functions.html#int" title="int"><em>int</em></a>) – Sort order for pstats output (default: 2 for cumulative time)</p></li>
<li><p><strong>sample_interval_usec</strong> (<a class="reference internal" href="functions.html#int" title="int"><em>int</em></a>) – Sampling interval in microseconds (default: 100)</p></li>
<li><p><strong>duration_sec</strong> (<a class="reference internal" href="functions.html#int" title="int"><em>int</em></a>) – Duration to sample in seconds (default: 10)</p></li>
<li><p><strong>filename</strong> (<a class="reference internal" href="stdtypes.html#str" title="str"><em>str</em></a>) – Output filename (None for stdout/default naming)</p></li>
<li><p><strong>all_threads</strong> (<a class="reference internal" href="functions.html#bool" title="bool"><em>bool</em></a>) – Whether to sample all threads (default: False)</p></li>
<li><p><strong>limit</strong> (<a class="reference internal" href="functions.html#int" title="int"><em>int</em></a>) – Maximum number of functions to display (default: None)</p></li>
<li><p><strong>show_summary</strong> (<a class="reference internal" href="functions.html#bool" title="bool"><em>bool</em></a>) – Whether to show summary statistics (default: True)</p></li>
<li><p><strong>output_format</strong> (<a class="reference internal" href="stdtypes.html#str" title="str"><em>str</em></a>) – Output format - “pstats” or “collapsed” (default: “pstats”)</p></li>
<li><p><strong>realtime_stats</strong> (<a class="reference internal" href="functions.html#bool" title="bool"><em>bool</em></a>) – Whether to display real-time statistics (default: False)</p></li>
</ul>
</dd>
<dt class="field-even untranslated">Muestra<span class="colon">:</span></dt>
<dd class="field-even untranslated"><p><a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><strong>ValueError</strong></a> – If output_format is not “pstats” or “collapsed”</p>
</dd>
</dl>
<p class="untranslated">Examples:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Basic usage - profile process 1234 for 10 seconds</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">profiling.sampling</span>
<span class="n">profiling</span><span class="o">.</span><span class="n">sampling</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">1234</span><span class="p">)</span>

<span class="c1"># Profile with custom settings</span>
<span class="n">profiling</span><span class="o">.</span><span class="n">sampling</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">1234</span><span class="p">,</span> <span class="n">duration_sec</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">sample_interval_usec</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">all_threads</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Generate collapsed stack traces for flamegraph.pl</span>
<span class="n">profiling</span><span class="o">.</span><span class="n">sampling</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">1234</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="s1">&#39;collapsed&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;profile.collapsed&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="profiling.sampling.SampleProfiler">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">profiling.sampling.</span></span><span class="sig-name descname"><span class="pre">SampleProfiler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_interval_usec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_threads</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#profiling.sampling.SampleProfiler" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Low-level API for the statistical profiler.</p>
<p class="untranslated">This profiler uses periodic stack sampling to collect performance data
from running Python processes with minimal overhead. It can attach to
any Python process by PID and collect stack traces at regular intervals.</p>
<dl class="field-list simple">
<dt class="field-odd untranslated">Parámetros<span class="colon">:</span></dt>
<dd class="field-odd untranslated"><ul class="simple">
<li><p><strong>pid</strong> (<a class="reference internal" href="functions.html#int" title="int"><em>int</em></a>) – Process ID of the target Python process</p></li>
<li><p><strong>sample_interval_usec</strong> (<a class="reference internal" href="functions.html#int" title="int"><em>int</em></a>) – Sampling interval in microseconds</p></li>
<li><p><strong>all_threads</strong> (<a class="reference internal" href="functions.html#bool" title="bool"><em>bool</em></a>) – Whether to sample all threads or just the main thread</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="profiling.sampling.SampleProfiler.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration_sec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#profiling.sampling.SampleProfiler.sample" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Sample the target process for the specified duration.</p>
<p class="untranslated">Collects stack traces from the target process at regular intervals
and passes them to the provided collector for processing.</p>
<dl class="field-list simple">
<dt class="field-odd untranslated">Parámetros<span class="colon">:</span></dt>
<dd class="field-odd untranslated"><ul class="simple">
<li><p><strong>collector</strong> – Object that implements <code class="docutils literal notranslate"><span class="pre">collect()</span></code> method to process stack traces</p></li>
<li><p><strong>duration_sec</strong> (<a class="reference internal" href="functions.html#int" title="int"><em>int</em></a>) – Duration to sample in seconds (default: 10)</p></li>
</ul>
</dd>
</dl>
<p class="untranslated">The method tracks sampling statistics and can display real-time
information if realtime_stats is enabled.</p>
</dd></dl>

</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt class="untranslated"><a class="reference internal" href="#sampling-profiler-cli"><span class="std std-ref">Statistical Profiler Command Line Interface</span></a></dt><dd><p class="untranslated">Command-line interface documentation for the statistical profiler.</p>
</dd>
</dl>
</div>
</section>
<section id="deterministic-profiler-command-line-interface">
<h2 class="untranslated">Deterministic Profiler Command Line Interface<a class="headerlink" href="#deterministic-profiler-command-line-interface" title="Link to this heading">¶</a></h2>
<p class="translated">Los archivos <a class="reference internal" href="#module-cProfile" title="cProfile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a> y <a class="reference internal" href="#module-profile" title="profile: Python source profiler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code></a> también se pueden invocar como un script para perfilar otro script. Por ejemplo:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">cProfile</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">output_file</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="n">sort_order</span><span class="p">]</span> <span class="p">(</span><span class="o">-</span><span class="n">m</span> <span class="n">module</span> <span class="o">|</span> <span class="n">myscript</span><span class="o">.</span><span class="n">py</span><span class="p">)</span>
</pre></div>
</div>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-cProfile-o">
<span class="sig-name descname"><span class="pre">-o</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;output_file&gt;</span></span><a class="headerlink" href="#cmdoption-cProfile-o" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Writes the profile results to a file instead of to stdout.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-cProfile-s">
<span class="sig-name descname"><span class="pre">-s</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;sort_order&gt;</span></span><a class="headerlink" href="#cmdoption-cProfile-s" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Specifies one of the <a class="reference internal" href="#pstats.Stats.sort_stats" title="pstats.Stats.sort_stats"><code class="xref py py-func docutils literal notranslate"><span class="pre">sort_stats()</span></code></a> sort values
to sort the output by.
This only applies when <a class="reference internal" href="#cmdoption-cProfile-o"><code class="xref std std-option docutils literal notranslate"><span class="pre">-o</span></code></a> is not supplied.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-cProfile-m">
<span class="sig-name descname"><span class="pre">-m</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;module&gt;</span></span><a class="headerlink" href="#cmdoption-cProfile-m" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">Specifies that a module is being profiled instead of a script.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.7: </span>Se agregó la opción <code class="docutils literal notranslate"><span class="pre">-m</span></code> a <a class="reference internal" href="#module-cProfile" title="cProfile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.8: </span>Se agregó la opción <code class="docutils literal notranslate"><span class="pre">-m</span></code> a <a class="reference internal" href="#module-profile" title="profile: Python source profiler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code></a>.</p>
</div>
</dd></dl>

<p class="translated">Los módulos <a class="reference internal" href="#module-pstats" title="pstats: Statistics object for use with the profiler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pstats</span></code></a> clase <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a> tienen una variedad de métodos para manipular e imprimir los datos guardados en un archivo de resultados de perfil:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pstats</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pstats</span><span class="w"> </span><span class="kn">import</span> <span class="n">SortKey</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">pstats</span><span class="o">.</span><span class="n">Stats</span><span class="p">(</span><span class="s1">&#39;restats&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">strip_dirs</span><span class="p">()</span><span class="o">.</span><span class="n">sort_stats</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">print_stats</span><span class="p">()</span>
</pre></div>
</div>
<p class="translated">El método <a class="reference internal" href="#pstats.Stats.strip_dirs" title="pstats.Stats.strip_dirs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">strip_dirs()</span></code></a> eliminó la ruta extraña de todos los nombres de módulos. El método <a class="reference internal" href="#pstats.Stats.sort_stats" title="pstats.Stats.sort_stats"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sort_stats()</span></code></a> clasificó todas las entradas de acuerdo con el módulo/línea/nombre de cadena de caracteres estándar que se imprime. El método <a class="reference internal" href="#pstats.Stats.print_stats" title="pstats.Stats.print_stats"><code class="xref py py-meth docutils literal notranslate"><span class="pre">print_stats()</span></code></a> imprimió todas las estadísticas. Puede intentar las siguientes llamadas de clasificación:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">sort_stats</span><span class="p">(</span><span class="n">SortKey</span><span class="o">.</span><span class="n">NAME</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">print_stats</span><span class="p">()</span>
</pre></div>
</div>
<p class="translated">La primera llamada realmente ordenará la lista por nombre de función, y la segunda llamada imprimirá las estadísticas. Las siguientes son algunas llamadas interesantes para experimentar:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">sort_stats</span><span class="p">(</span><span class="n">SortKey</span><span class="o">.</span><span class="n">CUMULATIVE</span><span class="p">)</span><span class="o">.</span><span class="n">print_stats</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Esto ordena el perfil por tiempo acumulado en una función y luego solo imprime las diez líneas más significativas. Si desea comprender qué algoritmos están tomando tiempo, la línea anterior es lo que usaría.</p>
<p class="translated">Si estuviera buscando ver qué funciones se repetían mucho y toman mucho tiempo, usted haría:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">sort_stats</span><span class="p">(</span><span class="n">SortKey</span><span class="o">.</span><span class="n">TIME</span><span class="p">)</span><span class="o">.</span><span class="n">print_stats</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">para ordenar según el tiempo dedicado a cada función y luego imprimir las estadísticas de las diez funciones principales.</p>
<p class="translated">También puedes probar:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">sort_stats</span><span class="p">(</span><span class="n">SortKey</span><span class="o">.</span><span class="n">FILENAME</span><span class="p">)</span><span class="o">.</span><span class="n">print_stats</span><span class="p">(</span><span class="s1">&#39;__init__&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Esto ordenará todas las estadísticas por nombre de archivo y luego imprimirá estadísticas solo para los métodos de inicio de clase (ya que están escritos con <code class="docutils literal notranslate"><span class="pre">__init__</span></code> en ellos). Como último ejemplo, puedes probar:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">sort_stats</span><span class="p">(</span><span class="n">SortKey</span><span class="o">.</span><span class="n">TIME</span><span class="p">,</span> <span class="n">SortKey</span><span class="o">.</span><span class="n">CUMULATIVE</span><span class="p">)</span><span class="o">.</span><span class="n">print_stats</span><span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="s1">&#39;init&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Esta línea clasifica las estadísticas con una clave primaria de tiempo y una clave secundaria de tiempo acumulado, y luego imprime algunas de las estadísticas. Para ser específicos, la lista primero se reduce al 50% (re: <code class="docutils literal notranslate"><span class="pre">.5</span></code>) de su tamaño original, luego solo se mantienen las líneas que contienen <code class="docutils literal notranslate"><span class="pre">`init</span></code> y se imprime esa sub-sublista.</p>
<p class="translated">Si se preguntó qué funciones denominaban las funciones anteriores, ahora podría (<code class="docutils literal notranslate"><span class="pre">p</span></code> todavía está ordenada según el último criterio) hacer:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">print_callers</span><span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="s1">&#39;init&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">y obtendría una lista de llamadas para cada una de las funciones enumeradas.</p>
<p class="translated">Si desea más funcionalidad, tendrá que leer el manual o adivinar lo que hacen las siguientes funciones:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">print_callees</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;restats&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Invocado como un script, el módulo <a class="reference internal" href="#module-pstats" title="pstats: Statistics object for use with the profiler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pstats</span></code></a> es un navegador de estadísticas para leer y examinar volcados de perfil. Tiene una interfaz simple orientada a la línea de comandos (implementada usando <a class="reference internal" href="cmd.html#module-cmd" title="cmd: Build line-oriented command interpreters."><code class="xref py py-mod docutils literal notranslate"><span class="pre">cmd</span></code></a>) y ayuda interactiva.</p>
</section>
<section id="module-cProfile">
<span id="profile-and-cprofile-module-reference"></span><h2 class="translated">Referencia del módulo <a class="reference internal" href="#module-profile" title="profile: Python source profiler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code></a> y <a class="reference internal" href="#module-cProfile" title="cProfile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a><a class="headerlink" href="#module-cProfile" title="Link to this heading">¶</a></h2>
<p class="translated" id="module-profile">Los módulos <a class="reference internal" href="#module-profile" title="profile: Python source profiler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code></a> y <a class="reference internal" href="#module-cProfile" title="cProfile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a> proporcionan las siguientes funciones:</p>
<dl class="py function">
<dt class="sig sig-object py" id="profile.run">
<span class="sig-prename descclassname"><span class="pre">profile.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#profile.run" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Esta función toma un único argumento que se puede pasar a la función <a class="reference internal" href="functions.html#exec" title="exec"><code class="xref py py-func docutils literal notranslate"><span class="pre">exec()</span></code></a> y un nombre de archivo opcional. En todos los casos esta rutina ejecuta:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">exec</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">__main__</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">,</span> <span class="n">__main__</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">y recopila estadísticas de perfiles de la ejecución. Si no hay ningún nombre de archivo, esta función crea automáticamente una instancia de <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a> e imprime un informe de perfil simple. Si se especifica el valor de clasificación, se pasa a esta instancia <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a> para controlar cómo se ordenan los resultados.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="profile.runctx">
<span class="sig-prename descclassname"><span class="pre">profile.</span></span><span class="sig-name descname"><span class="pre">runctx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">globals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#profile.runctx" title="Link to this definition">¶</a></dt>
<dd><p class="untranslated">This function is similar to <a class="reference internal" href="#profile.run" title="profile.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a>, with added arguments to supply the
globals and locals mappings for the <em>command</em> string. This routine
executes:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">exec</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="nb">globals</span><span class="p">,</span> <span class="nb">locals</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">y recopila estadísticas de perfiles como en la función <a class="reference internal" href="#profile.run" title="profile.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run()</span></code></a> anterior.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="profile.Profile">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">profile.</span></span><span class="sig-name descname"><span class="pre">Profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeunit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subcalls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">builtins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#profile.Profile" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Esta clase normalmente solo es usada si se necesita un control más preciso sobre la creación de perfiles que el que proporciona la función <code class="xref py py-func docutils literal notranslate"><span class="pre">cProfile.run()</span></code>.</p>
<p class="translated">Se puede suministrar un temporizador personalizado para medir cuánto tiempo tarda el código en ejecutarse mediante el argumento <em>timer</em>. Esta debe ser una función que retorna un solo número que representa la hora actual. Si el número es un entero, la <em>timeunit</em> especifica un multiplicador que especifica la duración de cada unidad de tiempo. Por ejemplo, si el temporizador retorna tiempos medidos en miles de segundos, la unidad de tiempo sería <code class="docutils literal notranslate"><span class="pre">.001</span></code>.</p>
<p class="translated">El uso directo de la clase <a class="reference internal" href="#profile.Profile" title="profile.Profile"><code class="xref py py-class docutils literal notranslate"><span class="pre">Profile</span></code></a> permite formatear los resultados del perfil sin escribir los datos del perfil en un archivo:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">cProfile</span><span class="o">,</span><span class="w"> </span><span class="nn">pstats</span><span class="o">,</span><span class="w"> </span><span class="nn">io</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pstats</span><span class="w"> </span><span class="kn">import</span> <span class="n">SortKey</span>
<span class="n">pr</span> <span class="o">=</span> <span class="n">cProfile</span><span class="o">.</span><span class="n">Profile</span><span class="p">()</span>
<span class="n">pr</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span>
<span class="c1"># ... do something ...</span>
<span class="n">pr</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
<span class="n">sortby</span> <span class="o">=</span> <span class="n">SortKey</span><span class="o">.</span><span class="n">CUMULATIVE</span>
<span class="n">ps</span> <span class="o">=</span> <span class="n">pstats</span><span class="o">.</span><span class="n">Stats</span><span class="p">(</span><span class="n">pr</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">sort_stats</span><span class="p">(</span><span class="n">sortby</span><span class="p">)</span>
<span class="n">ps</span><span class="o">.</span><span class="n">print_stats</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">getvalue</span><span class="p">())</span>
</pre></div>
</div>
<p class="translated">La clase <a class="reference internal" href="#profile.Profile" title="profile.Profile"><code class="xref py py-class docutils literal notranslate"><span class="pre">Profile</span></code></a> también se puede usar como administrador de contexto (solo se admite en el módulo <a class="reference internal" href="#module-cProfile" title="cProfile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a>. Ver <a class="reference internal" href="stdtypes.html#typecontextmanager"><span class="std std-ref">Tipos gestores de contexto</span></a>):</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">cProfile</span>

<span class="k">with</span> <span class="n">cProfile</span><span class="o">.</span><span class="n">Profile</span><span class="p">()</span> <span class="k">as</span> <span class="n">pr</span><span class="p">:</span>
    <span class="c1"># ... do something ...</span>

    <span class="n">pr</span><span class="o">.</span><span class="n">print_stats</span><span class="p">()</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.8: </span>Se agregó soporte de administrador de contexto.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="profile.Profile.enable">
<span class="sig-name descname"><span class="pre">enable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#profile.Profile.enable" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Comienza a recopilar datos de perfiles. Solo en <a class="reference internal" href="#module-cProfile" title="cProfile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="profile.Profile.disable">
<span class="sig-name descname"><span class="pre">disable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#profile.Profile.disable" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Deja de recopilar datos de perfiles. Solo en <a class="reference internal" href="#module-cProfile" title="cProfile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="profile.Profile.create_stats">
<span class="sig-name descname"><span class="pre">create_stats</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#profile.Profile.create_stats" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Deja de recopilar datos de perfiles y registre los resultados internamente como el perfil actual.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="profile.Profile.print_stats">
<span class="sig-name descname"><span class="pre">print_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#profile.Profile.print_stats" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Crea un objeto <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a> en función del perfil actual e imprima los resultados en <em>stdout</em>.</p>
<p class="untranslated">The <em>sort</em> parameter specifies the sorting order of the displayed
statistics. It accepts a single key or a tuple of keys to enable
multi-level sorting, as in <a class="reference internal" href="#pstats.Stats.sort_stats" title="pstats.Stats.sort_stats"><code class="xref py py-func docutils literal notranslate"><span class="pre">Stats.sort_stats</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.13: </span><a class="reference internal" href="#profile.Profile.print_stats" title="profile.Profile.print_stats"><code class="xref py py-meth docutils literal notranslate"><span class="pre">print_stats()</span></code></a> now accepts a tuple of keys.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="profile.Profile.dump_stats">
<span class="sig-name descname"><span class="pre">dump_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#profile.Profile.dump_stats" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Escribe los resultados del perfil actual en <em>filename</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="profile.Profile.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#profile.Profile.run" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Perfila el cmd a través de <a class="reference internal" href="functions.html#exec" title="exec"><code class="xref py py-func docutils literal notranslate"><span class="pre">exec()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="profile.Profile.runctx">
<span class="sig-name descname"><span class="pre">runctx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">globals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#profile.Profile.runctx" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Perfila el cmd a través de <a class="reference internal" href="functions.html#exec" title="exec"><code class="xref py py-func docutils literal notranslate"><span class="pre">exec()</span></code></a> con el entorno global y local especificado.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="profile.Profile.runcall">
<span class="sig-name descname"><span class="pre">runcall</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="positional-only-separator o"><abbr title="Positional-only parameter separator (PEP 570)"><span class="pre">/</span></abbr></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#profile.Profile.runcall" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Perfila <code class="docutils literal notranslate"><span class="pre">func(*args,</span> <span class="pre">**kwargs)</span></code></p>
</dd></dl>

</dd></dl>

<p class="translated">Tenga en cuenta que la creación de perfiles solo funcionará si el comando/función llamado realmente regresa. Si el intérprete se termina (por ejemplo, a través de una llamada a <a class="reference internal" href="sys.html#sys.exit" title="sys.exit"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.exit()</span></code></a> durante la ejecución del comando/función llamado) no se imprimirán resultados de generación de perfiles.</p>
</section>
<section id="the-stats-class">
<span id="profile-stats"></span><h2 class="translated">La clase <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a><a class="headerlink" href="#the-stats-class" title="Link to this heading">¶</a></h2>
<p class="translated">El análisis de los datos del generador de perfiles es realizado utilizando la clase <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a>.</p>
<dl class="py class" id="module-pstats">
<dt class="sig sig-object py" id="pstats.Stats">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pstats.</span></span><span class="sig-name descname"><span class="pre">Stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*filenames</span> <span class="pre">or</span> <span class="pre">profile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream=sys.stdout</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pstats.Stats" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Este constructor de clase crea una instancia de un «objeto de estadísticas» a partir de un <em>filename</em> (o una lista de nombres de archivo) o de una instancia <code class="xref py py-class docutils literal notranslate"><span class="pre">Profile</span></code>. La salida se imprimirá en la secuencia especificada por <em>stream</em>.</p>
<p class="translated">El archivo seleccionado por el constructor anterior debe haber sido creado por la versión correspondiente de <a class="reference internal" href="#module-profile" title="profile: Python source profiler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code></a> o <a class="reference internal" href="#module-cProfile" title="cProfile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a>. Para ser específicos, <em>no</em> hay compatibilidad de archivos garantizada con futuras versiones de este generador de perfiles, y no hay compatibilidad con archivos producidos por otros perfiladores, o el mismo generador de perfiles ejecutado en un sistema operativo diferente. Si se proporcionan varios archivos, se combinarán todas las estadísticas para funciones idénticas, de modo que se pueda considerar una vista general de varios procesos en un solo informe. Si es necesario combinar archivos adicionales con datos en un objeto existente <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a>, se puede usar el método <a class="reference internal" href="#pstats.Stats.add" title="pstats.Stats.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add()</span></code></a>.</p>
<p class="translated">En lugar de leer los datos del perfil de un archivo, se puede usar un objeto <code class="xref py py-class docutils literal notranslate"><span class="pre">cProfile.Profile</span></code> o <a class="reference internal" href="#profile.Profile" title="profile.Profile"><code class="xref py py-class docutils literal notranslate"><span class="pre">profile.Profile</span></code></a> como fuente de datos del perfil.</p>
<p class="translated">los objetos <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a> tienen los siguientes métodos:</p>
<dl class="py method">
<dt class="sig sig-object py" id="pstats.Stats.strip_dirs">
<span class="sig-name descname"><span class="pre">strip_dirs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pstats.Stats.strip_dirs" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Este método para la clase <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a> elimina toda la información de ruta principal de los nombres de archivo. Es muy útil para reducir el tamaño de la impresión para que quepa en (cerca de) 80 columnas. Este método modifica el objeto y se pierde la información eliminada. Después de realizar una operación de tira, se considera que el objeto tiene sus entradas en un orden «aleatorio», como lo fue justo después de la inicialización y carga del objeto. Si <a class="reference internal" href="#pstats.Stats.strip_dirs" title="pstats.Stats.strip_dirs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">strip_dirs()</span></code></a> hace que dos nombres de funciones no se puedan distinguir (están en la misma línea del mismo nombre de archivo y tienen el mismo nombre de función), entonces las estadísticas para estas dos entradas se acumulan en un sola entrada.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pstats.Stats.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">filenames</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pstats.Stats.add" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Este método de la clase <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a> acumula información de perfil adicional en el objeto de perfil actual. Sus argumentos deben referirse a los nombres de archivo creados por la versión correspondiente de <a class="reference internal" href="#profile.run" title="profile.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">profile.run()</span></code></a> or <code class="xref py py-func docutils literal notranslate"><span class="pre">cProfile.run()</span></code>. Las estadísticas para funciones con nombre idéntico (re: archivo, línea, nombre) se acumulan automáticamente en estadísticas de función única.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pstats.Stats.dump_stats">
<span class="sig-name descname"><span class="pre">dump_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pstats.Stats.dump_stats" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Guarda los datos cargados en el objeto <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a> en un archivo llamado <em>filename</em>. El archivo se crea si no existe y se sobrescribe si ya existe. Esto es equivalente al método del mismo nombre en las clases: class <a class="reference internal" href="#profile.Profile" title="profile.Profile"><code class="xref py py-class docutils literal notranslate"><span class="pre">profile.Profile</span></code></a> y <code class="xref py py-class docutils literal notranslate"><span class="pre">cProfile.Profile</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pstats.Stats.sort_stats">
<span class="sig-name descname"><span class="pre">sort_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">keys</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pstats.Stats.sort_stats" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Este método modifica el objeto <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a> ordenándolo de acuerdo con los criterios proporcionados. El argumento puede ser una cadena de caracteres o una enumeración SortKey que identifica la base de una clasificación (ejemplo: <code class="docutils literal notranslate"><span class="pre">'time'</span></code>, <code class="docutils literal notranslate"><span class="pre">'name'</span></code>, <code class="docutils literal notranslate"><span class="pre">SortKey.TIME</span></code> o <code class="docutils literal notranslate"><span class="pre">SortKey.NAME</span></code>). El argumento enumeraciones SortKey tiene ventaja sobre el argumento de cadena de caracteres en que es más robusto y menos propenso a errores.</p>
<p class="translated">Cuando se proporciona más de una llave, se utilizan llaves adicionales como criterios secundarios cuando hay igualdad en todas las llaves seleccionadas antes que ellas. Por ejemplo, <code class="docutils literal notranslate"><span class="pre">sort_stats(SortKey.NAME,</span> <span class="pre">SortKey.FILE)</span></code> ordenará todas las entradas de acuerdo con el nombre de su función y resolverá todos los vínculos (nombres de función idénticos) clasificándolos por nombre de archivo.</p>
<p class="translated">Para el argumento de cadena de caracteres, se pueden usar abreviaturas para cualquier nombre de llaves, siempre que la abreviatura no sea ambigua.</p>
<p class="translated">Los siguientes son la cadena de caracteres válida y SortKey:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p class="translated">Arg de cadena de caracteres válido</p></th>
<th class="head"><p class="translated">Arg de enumeración válido</p></th>
<th class="head"><p class="translated">Significado</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'calls'</span></code></p></td>
<td><p class="translated">SortKey.CALLS</p></td>
<td><p class="translated">recuento de llamadas</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'cumulative'</span></code></p></td>
<td><p class="translated">SortKey.CUMULATIVE</p></td>
<td><p class="translated">tiempo acumulado</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'cumtime'</span></code></p></td>
<td><p class="translated">N/A</p></td>
<td><p class="translated">tiempo acumulado</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'file'</span></code></p></td>
<td><p class="translated">N/A</p></td>
<td><p class="translated">nombre de archivo</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'filename'</span></code></p></td>
<td><p class="translated">SortKey.FILENAME</p></td>
<td><p class="translated">nombre de archivo</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'module'</span></code></p></td>
<td><p class="translated">N/A</p></td>
<td><p class="translated">nombre de archivo</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'ncalls'</span></code></p></td>
<td><p class="translated">N/A</p></td>
<td><p class="translated">recuento de llamadas</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'pcalls'</span></code></p></td>
<td><p class="translated">SortKey.PCALLS</p></td>
<td><p class="translated">recuento de llamadas primitivas</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'line'</span></code></p></td>
<td><p class="translated">SortKey.LINE</p></td>
<td><p class="translated">número de línea</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'name'</span></code></p></td>
<td><p class="translated">SortKey.NAME</p></td>
<td><p class="translated">nombre de la función</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'nfl'</span></code></p></td>
<td><p class="translated">SortKey.NFL</p></td>
<td><p class="translated">nombre/archivo/línea</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'stdname'</span></code></p></td>
<td><p class="translated">SortKey.STDNAME</p></td>
<td><p class="translated">nombre estándar</p></td>
</tr>
<tr class="row-even"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'time'</span></code></p></td>
<td><p class="translated">SortKey.TIME</p></td>
<td><p class="translated">tiempo interno</p></td>
</tr>
<tr class="row-odd"><td><p class="translated"><code class="docutils literal notranslate"><span class="pre">'tottime'</span></code></p></td>
<td><p class="translated">N/A</p></td>
<td><p class="translated">tiempo interno</p></td>
</tr>
</tbody>
</table>
<p class="translated">Tenga en cuenta que todos los tipos de estadísticas están en orden descendente (colocando primero los elementos que requieren más tiempo), donde las búsquedas de nombre, archivo y número de línea están en orden ascendente (alfabético). La sutil distinción entre <code class="docutils literal notranslate"><span class="pre">SortKey.NFL</span></code> y <code class="docutils literal notranslate"><span class="pre">SortKey.STDNAME</span></code> es que el nombre estándar es una especie de nombre tal como está impreso, lo que significa que los números de línea incrustados se comparan de manera extraña. Por ejemplo, las líneas 3, 20 y 40 aparecerían (si los nombres de los archivos fueran los mismos) en el orden de las cadenas 20, 3 y 40. En contraste, <code class="docutils literal notranslate"><span class="pre">SortKey.NFL</span></code> hace una comparación numérica de los números de línea. De hecho, <code class="docutils literal notranslate"><span class="pre">sort_stats(SortKey.NFL)</span></code> es lo mismo que <code class="docutils literal notranslate"><span class="pre">sort_stats(SortKey.NAME,</span> <span class="pre">SortKey.FILENAME,</span> <span class="pre">SortKey.LINE)</span></code>.</p>
<p class="translated">Por razones de compatibilidad con versiones anteriores, se permiten los argumentos numéricos <code class="docutils literal notranslate"><span class="pre">-1</span></code>, <code class="docutils literal notranslate"><span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span></code>, y <code class="docutils literal notranslate"><span class="pre">2</span></code>. Se interpretan como <code class="docutils literal notranslate"><span class="pre">'stdname'</span></code>, <code class="docutils literal notranslate"><span class="pre">'calls'</span></code>, <code class="docutils literal notranslate"><span class="pre">'time'</span></code>, y <code class="docutils literal notranslate"><span class="pre">'cumulative'</span></code> respectivamente. Si se usa este formato de estilo antiguo (numérico), solo se usará una clave de clasificación (la tecla numérica) y los argumentos adicionales se ignorarán en silencio.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.7: </span>Enumeración SortKey añadida.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pstats.Stats.reverse_order">
<span class="sig-name descname"><span class="pre">reverse_order</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pstats.Stats.reverse_order" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Este método para la clase <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a> invierte el orden de la lista básica dentro del objeto. Tenga en cuenta que, de forma predeterminada, el orden ascendente vs descendente se selecciona correctamente en función de la llave de clasificación elegida.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pstats.Stats.print_stats">
<span class="sig-name descname"><span class="pre">print_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">restrictions</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pstats.Stats.print_stats" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Este método para la clase <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a> imprime un informe como se describe en la definición <a class="reference internal" href="#profile.run" title="profile.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">profile.run()</span></code></a>.</p>
<p class="translated">El orden de la impresión se basa en la última operación <a class="reference internal" href="#pstats.Stats.sort_stats" title="pstats.Stats.sort_stats"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sort_stats()</span></code></a> realizada en el objeto (sujeto a advertencias en <a class="reference internal" href="#pstats.Stats.add" title="pstats.Stats.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add()</span></code></a> y <a class="reference internal" href="#pstats.Stats.strip_dirs" title="pstats.Stats.strip_dirs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">strip_dirs()</span></code></a>).</p>
<p class="untranslated">The arguments provided (if any) can be used to limit the list down to the
significant entries.  Initially, the list is taken to be the complete set
of profiled functions.  Each restriction is either an integer (to select a
count of lines), or a decimal fraction between 0.0 and 1.0 inclusive (to
select a percentage of lines), or a string that will be interpreted as a
regular expression (to pattern match the standard name that is printed).
If several restrictions are provided, then they are applied sequentially.
For example:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">print_stats</span><span class="p">(</span><span class="mf">.1</span><span class="p">,</span> <span class="s1">&#39;foo:&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">primero limitaría la impresión al primer 10% de la lista, y luego solo imprimiría las funciones que formaban parte del nombre del archivo <code class="file docutils literal notranslate"><span class="pre">.*foo:</span></code>. En contraste, el comando:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">print_stats</span><span class="p">(</span><span class="s1">&#39;foo:&#39;</span><span class="p">,</span> <span class="mf">.1</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">limitaría la lista a todas las funciones que tengan nombres de archivo: archivo <code class="file docutils literal notranslate"><span class="pre">.*foo:</span></code>, y luego procedería a imprimir solo el primer 10% de ellas.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pstats.Stats.print_callers">
<span class="sig-name descname"><span class="pre">print_callers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">restrictions</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pstats.Stats.print_callers" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Este método para la clase <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a> imprime una lista de todas las funciones que llamaron a cada función en la base de datos perfilada. El orden es idéntico al proporcionado por <a class="reference internal" href="#pstats.Stats.print_stats" title="pstats.Stats.print_stats"><code class="xref py py-meth docutils literal notranslate"><span class="pre">print_stats()</span></code></a>, y la definición del argumento de restricción también es idéntica. Cada persona que llama se informa en su propia línea. El formato difiere ligeramente según el generador de perfiles que produjo las estadísticas:</p>
<ul class="simple">
<li><p class="translated">Con <a class="reference internal" href="#module-profile" title="profile: Python source profiler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code></a>, se muestra un número entre paréntesis después de cada llamada para mostrar cuántas veces se realizó esta llamada específica. Por conveniencia, un segundo número sin paréntesis repite el tiempo acumulado empleado en la función de la derecha.</p></li>
<li><p class="translated">Con <a class="reference internal" href="#module-cProfile" title="cProfile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a>, cada persona que llama está precedida por tres números: la cantidad de veces que se realizó esta llamada específica y los tiempos totales y acumulativos gastados en la función actual mientras fue invocada por esta persona que llama.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pstats.Stats.print_callees">
<span class="sig-name descname"><span class="pre">print_callees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">restrictions</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pstats.Stats.print_callees" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Este método para la clase <a class="reference internal" href="#pstats.Stats" title="pstats.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a> imprime una lista de todas las funciones que fueron llamadas por la función indicada. Aparte de esta inversión de la dirección de las llamadas (re: llamado vs fue llamado por), los argumentos y el orden son idénticos al método <a class="reference internal" href="#pstats.Stats.print_callers" title="pstats.Stats.print_callers"><code class="xref py py-meth docutils literal notranslate"><span class="pre">print_callers()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pstats.Stats.get_stats_profile">
<span class="sig-name descname"><span class="pre">get_stats_profile</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pstats.Stats.get_stats_profile" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Este método retorna una instancia de StatsProfile, la cual contiene un mapeo de nombres de función a instancias de FunctionProfile. Cada instancia de FunctionProfile mantiene información relacionada al perfil de la función, como cuánto demoró la función en ejecutarse, cuantas veces fue llamada, etc…</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.9: </span>Añadidas las siguientes clases de datos: StatsProfile, FunctionProfile. Añadida la siguiente función: get_stats_profile.</p>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="what-is-deterministic-profiling">
<span id="deterministic-profiling"></span><h2 class="translated">¿Qué es el perfil determinista?<a class="headerlink" href="#what-is-deterministic-profiling" title="Link to this heading">¶</a></h2>
<p class="untranslated"><em class="dfn">Deterministic profiling</em> is meant to reflect the fact that all <em>function
call</em>, <em>function return</em>, and <em>exception</em> events are monitored, and precise
timings are made for the intervals between these events (during which time the
user’s code is executing).  In contrast, <em class="dfn">statistical profiling</em> (which is
provided by the <code class="xref py py-mod docutils literal notranslate"><span class="pre">profiling.sampling</span></code> module) periodically samples the effective instruction pointer, and
deduces where time is being spent.  The latter technique traditionally involves
less overhead (as the code does not need to be instrumented), but provides only
relative indications of where time is being spent.</p>
<p class="translated">En Python, dado que hay un intérprete activo durante la ejecución, no se requiere la presencia de código instrumentado para realizar un perfil determinista. Python proporciona automáticamente un <em class="dfn">hook</em> (retrollamada  opcional) para cada evento. Además, la naturaleza interpretada de Python tiende a agregar tanta sobrecarga a la ejecución, que los perfiles deterministas tienden a agregar solo una pequeña sobrecarga de procesamiento en aplicaciones típicas. El resultado es que el perfil determinista no es tan costoso, pero proporciona estadísticas extensas de tiempo de ejecución sobre la ejecución de un programa Python.</p>
<p class="translated">Las estadísticas de recuento de llamadas se pueden usar para identificar errores en el código (recuentos sorprendentes) e identificar posibles puntos de expansión en línea (recuentos altos de llamadas). Las estadísticas de tiempo interno se pueden utilizar para identificar «bucles activos» que deben optimizarse cuidadosamente. Las estadísticas de tiempo acumulativo deben usarse para identificar errores de alto nivel en la selección de algoritmos. Tenga en cuenta que el manejo inusual de los tiempos acumulativos en este generador de perfiles permite que las estadísticas de implementaciones recursivas de algoritmos se comparen directamente con implementaciones iterativas.</p>
</section>
<section id="limitations">
<span id="profile-limitations"></span><h2 class="translated">Limitaciones<a class="headerlink" href="#limitations" title="Link to this heading">¶</a></h2>
<p class="translated">Una limitación tiene que ver con la precisión de la información de sincronización. Hay un problema fundamental con los perfiladores deterministas que implican precisión. La restricción más obvia es que el «reloj» subyacente solo funciona a una velocidad (típicamente) de aproximadamente 0,001 segundos. Por lo tanto, ninguna medición será más precisa que el reloj subyacente. Si se toman suficientes medidas, entonces el «error» tenderá a promediar. Desafortunadamente, eliminar este primer error induce una segunda fuente de error.</p>
<p class="translated">El segundo problema es que «lleva un tiempo» desde que se distribuye un evento hasta que la llamada del generador de perfiles para obtener la hora en realidad <em>obtiene</em> el estado del reloj. Del mismo modo, hay un cierto retraso al salir del controlador de eventos del generador de perfiles desde el momento en que se obtuvo el valor del reloj (y luego se retiró), hasta que el código del usuario se está ejecutando nuevamente. Como resultado, las funciones que se llaman muchas veces, o llaman a muchas funciones, generalmente acumularán este error. El error que se acumula de esta manera es típicamente menor que la precisión del reloj (menos de un tic de reloj), pero <em>puede</em> acumularse y volverse muy significativo.</p>
<p class="translated">El problema es más importante con <a class="reference internal" href="#module-profile" title="profile: Python source profiler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code></a> que con la sobrecarga inferior <a class="reference internal" href="#module-cProfile" title="cProfile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a>. Por esta razón, <a class="reference internal" href="#module-profile" title="profile: Python source profiler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code></a> proporciona un medio para calibrarse a sí mismo para una plataforma dada para que este error pueda ser eliminado probabilísticamente (en promedio). Después de calibrar el generador de perfiles, será más preciso (en un sentido al menos cuadrado), pero a veces producirá números negativos (cuando el recuento de llamadas es excepcionalmente bajo y los dioses de la probabilidad trabajan en su contra :-) ) <em>No</em> se alarme por los números negativos en el perfil. Deberían aparecer <em>solo</em> si ha calibrado su generador de perfiles, y los resultados son realmente mejores que sin calibración.</p>
</section>
<section id="calibration">
<span id="profile-calibration"></span><h2 class="translated">Calibración<a class="headerlink" href="#calibration" title="Link to this heading">¶</a></h2>
<p class="translated">El generador de perfiles del módulo <a class="reference internal" href="#module-profile" title="profile: Python source profiler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code></a> resta una constante de cada tiempo de manejo de eventos para compensar la sobrecarga de llamar a la función de tiempo y eliminar los resultados. Por defecto, la constante es 0. El siguiente procedimiento se puede usar para obtener una mejor constante para una plataforma dada (ver <a class="reference internal" href="#profile-limitations"><span class="std std-ref">Limitaciones</span></a>).</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">profile</span>
<span class="n">pr</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">Profile</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pr</span><span class="o">.</span><span class="n">calibrate</span><span class="p">(</span><span class="mi">10000</span><span class="p">))</span>
</pre></div>
</div>
<p class="translated">El método ejecuta la cantidad de llamadas de Python dadas por el argumento, directamente y nuevamente bajo el generador de perfiles, midiendo el tiempo para ambos. Luego, calcula la sobrecarga oculta por evento del generador de perfiles y la retorna como un valor flotante. Por ejemplo, en un Intel Core i5 de 1.8Ghz que ejecuta macOS y usa el time.process_time () de Python como temporizador, el número mágico es aproximadamente 4.04e-6.</p>
<p class="translated">El objetivo de este ejercicio es obtener un resultado bastante consistente. Si su computadora es <em>muy</em> rápida, o su función de temporizador tiene una resolución pobre, es posible que tenga que pasar 100000, o incluso 1000000, para obtener resultados consistentes.</p>
<p class="translated">Cuando tiene una respuesta consistente, hay tres formas de usarla:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">profile</span>

<span class="c1"># 1. Apply computed bias to all Profile instances created hereafter.</span>
<span class="n">profile</span><span class="o">.</span><span class="n">Profile</span><span class="o">.</span><span class="n">bias</span> <span class="o">=</span> <span class="n">your_computed_bias</span>

<span class="c1"># 2. Apply computed bias to a specific Profile instance.</span>
<span class="n">pr</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">Profile</span><span class="p">()</span>
<span class="n">pr</span><span class="o">.</span><span class="n">bias</span> <span class="o">=</span> <span class="n">your_computed_bias</span>

<span class="c1"># 3. Specify computed bias in instance constructor.</span>
<span class="n">pr</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">Profile</span><span class="p">(</span><span class="n">bias</span><span class="o">=</span><span class="n">your_computed_bias</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Si tiene una opción, es mejor que elija una constante más pequeña, y luego sus resultados «con menos frecuencia» se mostrarán como negativos en las estadísticas del perfil.</p>
</section>
<section id="using-a-custom-timer">
<span id="profile-timers"></span><h2 class="translated">Usando un temporizador personalizado<a class="headerlink" href="#using-a-custom-timer" title="Link to this heading">¶</a></h2>
<p class="translated">Si desea cambiar la forma en que se determina el tiempo actual (por ejemplo, para forzar el uso del tiempo del reloj de pared o el tiempo transcurrido del proceso), pase la función de temporización que desee a la clase constructora <code class="xref py py-class docutils literal notranslate"><span class="pre">Profile</span></code>:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">pr</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">Profile</span><span class="p">(</span><span class="n">your_time_func</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">El generador de perfiles resultante llamará a <code class="docutils literal notranslate"><span class="pre">your_time_func</span></code>. Dependiendo de si está utilizando <a class="reference internal" href="#profile.Profile" title="profile.Profile"><code class="xref py py-class docutils literal notranslate"><span class="pre">profile.Profile</span></code></a> o <code class="xref py py-class docutils literal notranslate"><span class="pre">cProfile.Profile</span></code>, el valor de retorno de <code class="docutils literal notranslate"><span class="pre">your_time_func</span></code> se interpretará de manera diferente:</p>
<dl>
<dt class="translated"><a class="reference internal" href="#profile.Profile" title="profile.Profile"><code class="xref py py-class docutils literal notranslate"><span class="pre">profile.Profile</span></code></a></dt><dd><p class="translated"><code class="docutils literal notranslate"><span class="pre">your_time_func</span></code> debería retornar un solo número o una lista de números cuya suma es la hora actual (como lo que <a class="reference internal" href="os.html#os.times" title="os.times"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.times()</span></code></a> retorna). Si la función retorna un número de tiempo único o la lista de números retornados tiene una longitud de 2, obtendrá una versión especialmente rápida de la rutina de envío.</p>
<p class="untranslated">Be warned that you should calibrate the profiler class for the timer function
that you choose (see <a class="reference internal" href="#profile-calibration"><span class="std std-ref">Calibración</span></a>).  For most machines, a timer
that returns a lone integer value will provide the best results in terms of
low overhead during profiling.  (<a class="reference internal" href="os.html#os.times" title="os.times"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.times()</span></code></a> is <em>pretty</em> bad, as it
returns a tuple of floating-point values).  If you want to substitute a
better timer in the cleanest fashion, derive a class and hardwire a
replacement dispatch method that best handles your timer call, along with the
appropriate calibration constant.</p>
</dd>
<dt class="translated"><code class="xref py py-class docutils literal notranslate"><span class="pre">cProfile.Profile</span></code></dt><dd><p class="translated"><code class="docutils literal notranslate"><span class="pre">your_time_func</span></code> debería retornar un solo número. Si retorna enteros, también puede invocar al constructor de la clase con un segundo argumento que especifique la duración real de una unidad de tiempo. Por ejemplo, si <code class="docutils literal notranslate"><span class="pre">your_integer_time_func</span></code> retorna tiempos medidos en miles de segundos, construiría la instancia <code class="xref py py-class docutils literal notranslate"><span class="pre">Profile</span></code> de la siguiente manera:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">pr</span> <span class="o">=</span> <span class="n">cProfile</span><span class="o">.</span><span class="n">Profile</span><span class="p">(</span><span class="n">your_integer_time_func</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">)</span>
</pre></div>
</div>
<p class="untranslated">As the <code class="xref py py-class docutils literal notranslate"><span class="pre">cProfile.Profile</span></code> class cannot be calibrated, custom timer
functions should be used with care and should be as fast as possible.  For
the best results with a custom timer, it might be necessary to hard-code it
in the C source of the internal <code class="xref py py-mod docutils literal notranslate"><span class="pre">_lsprof</span></code> module.</p>
</dd>
</dl>
<p class="translated">Python 3.3 agrega varias funciones nuevas en <a class="reference internal" href="time.html#module-time" title="time: Time access and conversions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">time</span></code></a> que se puede usar para realizar mediciones precisas del proceso o el tiempo del reloj de pared (<em>wall-clock time</em>). Por ejemplo, vea <a class="reference internal" href="time.html#time.perf_counter" title="time.perf_counter"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.perf_counter()</span></code></a>.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#">Los perfiladores de Python</a><ul>
<li><a class="reference internal" href="#introduction-to-the-profilers">Introducción a los perfiladores</a></li>
<li><a class="reference internal" href="#what-is-statistical-profiling">What Is Statistical Profiling?</a></li>
<li><a class="reference internal" href="#instant-user-s-manual">Manual instantáneo de usuario</a></li>
<li><a class="reference internal" href="#statistical-profiler-command-line-interface">Statistical Profiler Command Line Interface</a></li>
<li><a class="reference internal" href="#module-profiling.sampling"><code class="xref py py-mod docutils literal notranslate"><span class="pre">profiling.sampling</span></code> Module Reference</a></li>
<li><a class="reference internal" href="#deterministic-profiler-command-line-interface">Deterministic Profiler Command Line Interface</a></li>
<li><a class="reference internal" href="#module-cProfile">Referencia del módulo <code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code> y <code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a></li>
<li><a class="reference internal" href="#the-stats-class">La clase <code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a></li>
<li><a class="reference internal" href="#what-is-deterministic-profiling">¿Qué es el perfil determinista?</a></li>
<li><a class="reference internal" href="#limitations">Limitaciones</a></li>
<li><a class="reference internal" href="#calibration">Calibración</a></li>
<li><a class="reference internal" href="#using-a-custom-timer">Usando un temporizador personalizado</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="pdb.html"
                          title="capítulo anterior"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pdb</span></code> — El Depurador de Python</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="timeit.html"
                          title="próximo capítulo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">timeit</span></code> — Measure execution time of small code snippets</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Report a bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/profile.rst?plain=1"
            rel="nofollow">Show source
        </a>
      </li>
    </ul>
  </div>
        </div>
<div id="sidebarbutton" title="Contraer barra lateral">
<span>«</span>
</div>

      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="timeit.html" title="timeit — Measure execution time of small code snippets"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="pdb.html" title="pdb — El Depurador de Python"
             >anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.15.0a0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La biblioteca estándar de Python</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="debug.html" >Depuración y perfilado</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Los perfiladores de Python</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="search" name="q" id="search-box">
          <input type="submit" value="Ir">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Tema
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Claro</option>
        <option value="dark">Oscuro</option>
    </select>
</label> |</li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Derechos de autor</a> 2001 Python Software Foundation.
    <br>
    Ésta página tiene la licencia Python Software Foundation Versión 2.
    <br>
    Ejemplos, guías, y otro código en la documentación están bajo la licencia adicional Zero Clause BSD.
    <br>
    
      Ver <a href="/license.html">Historia y Licencia</a> para más información.<br>
    
    
    <br>

    La Python Software Foundation es una corporación sin fines de lucro.
<a href="https://www.python.org/psf/donations/">Por favor dona.</a>
<br>
    <br>
      Última actualización en oct 06, 2025 (04:51 UTC).
    
      <a href="/bugs.html">Encontraste un bug</a>?
    
    <br>

    Creado usando <a href="https://www.sphinx-doc.org/">Sphinx</a>8.2.3.
    </div>

  </body>
</html>