<!DOCTYPE html>

<html lang="es" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="smtplib — SMTP protocol client" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/library/smtplib.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Código fuente: Lib/smtplib.py El módulo smtplib define un objeto de sesión de cliente SMTP que se puede utilizar para enviar correo a cualquier máquina de Internet con un demonio de escucha SMTP o ..." />
<meta property="og:image:width" content="1146" />
<meta property="og:image:height" content="600" />
<meta property="og:image" content="https://docs.python.org/3.15/es/_images/social_previews/summary_library_smtplib_ab443833.png" />
<meta property="og:image:alt" content="Código fuente: Lib/smtplib.py El módulo smtplib define un objeto de sesión de cliente SMTP que se puede utilizar para enviar correo a cualquier máquina de Internet con un demonio de escucha SMTP o ..." />
<meta name="description" content="Código fuente: Lib/smtplib.py El módulo smtplib define un objeto de sesión de cliente SMTP que se puede utilizar para enviar correo a cualquier máquina de Internet con un demonio de escucha SMTP o ..." />
<meta name="twitter:card" content="summary_large_image" />
<meta name="theme-color" content="#3776ab">

    <title>smtplib — SMTP protocol client &#8212; documentación de Python - 3.15.0a0</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=234b1a7c" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?v=8cd84f99" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css?v=5349f25f" />
    
    <script src="../_static/documentation_options.js?v=bf1f176d"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=f85f4cfb"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Buscar en documentación de Python - 3.15.0a0"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="Sobre este documento" href="../about.html" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="copyright" title="Derechos de autor" href="../copyright.html" />
    <link rel="next" title="uuid — UUID objects according to RFC 9562" href="uuid.html" />
    <link rel="prev" title="imaplib — IMAP4 protocol client" href="imaplib.html" />
    
      
      <script defer file-types="bz2,epub,zip" data-domain="docs.python.org" src="https://analytics.python.org/js/script.file-downloads.outbound-links.js"></script>
      
      <link rel="canonical" href="https://docs.python.org/3/library/smtplib.html">
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="stylesheet" href="../_static/pydoctheme_dark.css" media="(prefers-color-scheme: dark)" id="pydoctheme_dark_css">
    <link rel="shortcut icon" type="image/png" href="../_static/py.svg">
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script>
            <script type="text/javascript" src="../_static/search-focus.js"></script>
            <script type="text/javascript" src="../_static/themetoggle.js"></script> 
            <script type="text/javascript" src="../_static/rtd_switcher.js"></script>
            <meta name="readthedocs-addons-api-version" content="1">

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menú">
    <nav class="nav-content" role="navigation">
        <label for="menuToggler" class="toggler__label">
            <span></span>
        </label>
        <span class="nav-items-wrapper">
            <a href="https://www.python.org/" class="nav-logo">
                <img src="../_static/py.svg" alt="Python logo">
            </a>
            <span class="version_switcher_placeholder"></span>
            <form role="search" class="search" action="../search.html" method="get">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                    <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="search" name="q">
                <input type="submit" value="Ir">
            </form>
        </span>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
            
<label class="theme-selector-label">
    Tema
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Claro</option>
        <option value="dark">Oscuro</option>
    </select>
</label>
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code> — SMTP protocol client</a><ul>
<li><a class="reference internal" href="#smtp-objects">Objetos SMTP</a></li>
<li><a class="reference internal" href="#smtp-example">Ejemplo SMTP</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="imaplib.html"
                          title="capítulo anterior"><code class="xref py py-mod docutils literal notranslate"><span class="pre">imaplib</span></code> — IMAP4 protocol client</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="uuid.html"
                          title="próximo capítulo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">uuid</span></code> — UUID objects according to <strong>RFC 9562</strong></a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Report a bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/smtplib.rst?plain=1"
            rel="nofollow">Show source
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="uuid.html" title="uuid — UUID objects according to RFC 9562"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="imaplib.html" title="imaplib — IMAP4 protocol client"
             accesskey="P">anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.15.0a0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La biblioteca estándar de Python</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="internet.html" accesskey="U">Protocolos y soporte de Internet</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code> — SMTP protocol client</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="search" name="q" id="search-box">
          <input type="submit" value="Ir">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Tema
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Claro</option>
        <option value="dark">Oscuro</option>
    </select>
</label> |</li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-smtplib">
<span id="smtplib-smtp-protocol-client"></span><h1 class="untranslated"><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code> — SMTP protocol client<a class="headerlink" href="#module-smtplib" title="Link to this heading">¶</a></h1>
<p class="translated"><strong>Código fuente:</strong> <a class="extlink-source reference external" href="https://github.com/python/cpython/tree/main/Lib/smtplib.py">Lib/smtplib.py</a></p>
<hr class="docutils" id="index-0" />
<p class="translated">El módulo <a class="reference internal" href="#module-smtplib" title="smtplib: SMTP protocol client (requires sockets)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code></a> define un objeto de sesión de cliente SMTP que se puede utilizar para enviar correo a cualquier máquina de Internet con un demonio de escucha SMTP o ESMTP. Para obtener detalles sobre el funcionamiento de SMTP y ESMTP, consulte <span class="target" id="index-23"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc821.html"><strong>RFC 821</strong></a> (Protocolo simple de transferencia de correo) y <span class="target" id="index-24"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc1869.html"><strong>RFC 1869</strong></a> (Extensiones de servicio SMTP).</p>
<div class="availability docutils container">
<p class="untranslated"><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: not WASI.</p>
<p class="untranslated">This module does not work or is not available on WebAssembly. See
<a class="reference internal" href="intro.html#wasm-availability"><span class="std std-ref">Plataformas WebAssembly</span></a> for more information.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="smtplib.SMTP">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host=''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_hostname=None</span></span></em>, <span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em>, <span class="optional">]</span><em class="sig-param"><span class="n"><span class="pre">source_address=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Una instancia <a class="reference internal" href="#smtplib.SMTP" title="smtplib.SMTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP</span></code></a> encapsula una conexión SMTP. Tiene métodos que admiten un repertorio completo de operaciones SMTP y ESMTP. Si se proporcionan los parámetros de <em>port</em> y <em>host</em> opcionales, se llama al método SMTP <a class="reference internal" href="#smtplib.SMTP.connect" title="smtplib.SMTP.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">connect()</span></code></a> con esos parámetros durante la inicialización. Si se especifica, <em>local_hostname</em> se utiliza como FQDN del host local en el comando HELO /EHLO. De lo contrario, el nombre de host local se encuentra mediante <a class="reference internal" href="socket.html#socket.getfqdn" title="socket.getfqdn"><code class="xref py py-func docutils literal notranslate"><span class="pre">socket.getfqdn()</span></code></a>. Si la llamada <a class="reference internal" href="#smtplib.SMTP.connect" title="smtplib.SMTP.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">connect()</span></code></a> retorna algo que no sea un código de éxito, se lanza un <a class="reference internal" href="#smtplib.SMTPConnectError" title="smtplib.SMTPConnectError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPConnectError</span></code></a>. El parámetro opcional <em>timeout</em> especifica un tiempo de espera en segundos para bloquear operaciones como el intento de conexión (si no se especifica, se utilizará la configuración de tiempo de espera global predeterminada). Si expira el tiempo de espera, se lanza <a class="reference internal" href="exceptions.html#TimeoutError" title="TimeoutError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TimeoutError</span></code></a>. El parámetro opcional <em>source_address</em> permite la vinculación a alguna dirección de origen específica en una máquina con múltiples interfaces de red y/o algún puerto TCP de origen específico. Se necesita una tupla de 2 (host, port), para que el socket se vincule como su dirección de origen antes de conectarse. Si se omite (o si el <em>host</em> o el <em>port</em> son <code class="docutils literal notranslate"><span class="pre">''</span></code> y/o 0 respectivamente), se utilizará el comportamiento predeterminado del sistema operativo.</p>
<p class="translated">Para un uso normal, solo debe requerir los métodos initialization/connect, <a class="reference internal" href="#smtplib.SMTP.sendmail" title="smtplib.SMTP.sendmail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sendmail()</span></code></a> y <a class="reference internal" href="#smtplib.SMTP.quit" title="smtplib.SMTP.quit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SMTP.quit()</span></code></a>. A continuación se incluye un ejemplo.</p>
<p class="translated">La clase <a class="reference internal" href="#smtplib.SMTP" title="smtplib.SMTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP</span></code></a> admite la instrucción <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>. Cuando se usa así, el comando SMTP <code class="docutils literal notranslate"><span class="pre">QUIT</span></code> se emite automáticamente cuando la <code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code> sale de la instrucción. por ejemplo:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">smtplib</span><span class="w"> </span><span class="kn">import</span> <span class="n">SMTP</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">SMTP</span><span class="p">(</span><span class="s2">&quot;domain.org&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">smtp</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">smtp</span><span class="o">.</span><span class="n">noop</span><span class="p">()</span>
<span class="gp">...</span>
<span class="go">(250, b&#39;Ok&#39;)</span>
<span class="gp">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p class="audit-hook translated">Todos los comandos lanzarán un <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">evento de auditoría</span></a> <code class="docutils literal notranslate"><span class="pre">smtplib.SMTP.send</span></code> con argumentos <code class="docutils literal notranslate"><span class="pre">self</span></code> y <code class="docutils literal notranslate"><span class="pre">data</span></code>, donde <code class="docutils literal notranslate"><span class="pre">data</span></code> son los bytes que están a punto de ser enviado al host remoto.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>Se agregó soporte para la sentencia <a class="reference internal" href="../reference/compound_stmts.html#with"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">with</span></code></a>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>Se agregó el argumento <em>source_address</em>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.5: </span>La extensión SMTPUTF8 (<span class="target" id="index-25"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc6531.html"><strong>RFC 6531</strong></a>) ahora es compatible.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.9: </span>Si el parámetro <em>timeout</em> se define a cero, lanzará un <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a> para evitar la creación de un socket no bloqueado.</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="smtplib.SMTP_SSL">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTP_SSL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host=''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_hostname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em>, <span class="optional">]</span><em class="sig-param"><span class="n"><span class="pre">context=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_address=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP_SSL" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Una instancia de <a class="reference internal" href="#smtplib.SMTP_SSL" title="smtplib.SMTP_SSL"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP_SSL</span></code></a> se comporta exactamente igual que las instancias de <a class="reference internal" href="#smtplib.SMTP" title="smtplib.SMTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP</span></code></a>. <a class="reference internal" href="#smtplib.SMTP_SSL" title="smtplib.SMTP_SSL"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP_SSL</span></code></a> debe usarse para situaciones donde se requiere SSL desde el comienzo de la conexión y el uso <code class="xref py py-meth docutils literal notranslate"><span class="pre">starttls()</span></code> no es apropiado. Si no se especifica <em>host</em>, se utiliza el host local. Si <em>port</em> es cero, se utiliza el puerto estándar SMTP sobre SSL (465). Los argumentos opcionales <em>local_hostname</em>, <em>timeout</em> y <em>source_address</em> tienen el mismo significado que en la clase <a class="reference internal" href="#smtplib.SMTP" title="smtplib.SMTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP</span></code></a>. <em>context</em>, también opcional, puede contener una <a class="reference internal" href="ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">SSLContext</span></code></a> y permite configurar varios aspectos de la conexión segura. Por favor lea <a class="reference internal" href="ssl.html#ssl-security"><span class="std std-ref">Consideraciones de seguridad</span></a> para conocer las mejores prácticas.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>se agregó <em>contexto</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>Se agregó el argumento <em>source_address</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.4: </span>La clase ahora admite la verificación del nombre de host con <a class="reference internal" href="ssl.html#ssl.SSLContext.check_hostname" title="ssl.SSLContext.check_hostname"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ssl.SSLContext.check_hostname</span></code></a> y <em>Server Name Indication</em> (ver <a class="reference internal" href="ssl.html#ssl.HAS_SNI" title="ssl.HAS_SNI"><code class="xref py py-data docutils literal notranslate"><span class="pre">ssl.HAS_SNI</span></code></a>).</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.9: </span>Si el parámetro <em>timeout</em> se define a cero, lanzará un <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a> para evitar la creación de un socket no bloqueado</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.12: </span>Los parámetros obsoletos <em>keyfile y *certifile</em> se han eliminado.</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="smtplib.LMTP">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">LMTP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host=''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port=LMTP_PORT</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_hostname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_address=None</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.LMTP" title="Link to this definition">¶</a></dt>
<dd><p class="translated">El protocolo LMTP, que es muy similar a ESMTP, se basa en gran medida en el cliente SMTP estándar. Es común usar sockets Unix para LMTP, por lo que nuestro método <code class="xref py py-meth docutils literal notranslate"><span class="pre">connect()</span></code> debe ser compatible con eso, así como con un servidor host:puerto regular. Los argumentos opcionales <em>local_hostname</em> y <em>source_address</em> tienen el mismo significado que en la clase <a class="reference internal" href="#smtplib.SMTP" title="smtplib.SMTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP</span></code></a>. Para especificar un socket Unix, debe usar una ruta absoluta para <em>host</em>, comenzando con “/”.</p>
<p class="translated">Se admite la autenticación mediante el mecanismo SMTP habitual. Cuando se usa un socket Unix, LMTP generalmente no admite ni requiere autenticación, pero su millaje puede variar.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.9: </span>Se ha añadido el parámetro opcional <em>timeout</em>.</p>
</div>
</dd></dl>

<p class="translated">También se define una buena selección de excepciones:</p>
<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPException">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPException</span></span><a class="headerlink" href="#smtplib.SMTPException" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Subclase de <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a> que es la clase de excepción base para todas las demás excepciones proporcionadas por este módulo.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.4: </span>SMTPException se convirtió en subclase de <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a></p>
</div>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPServerDisconnected">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPServerDisconnected</span></span><a class="headerlink" href="#smtplib.SMTPServerDisconnected" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Esta excepción se genera cuando el servidor se desconecta inesperadamente o cuando se intenta usar la instancia <a class="reference internal" href="#smtplib.SMTP" title="smtplib.SMTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP</span></code></a> antes de conectarlo a un servidor.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPResponseException">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPResponseException</span></span><a class="headerlink" href="#smtplib.SMTPResponseException" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Clase base para todas las excepciones que incluyen un código de error SMTP. Estas excepciones se generan en algunos casos cuando el servidor SMTP devuelve un código de error. El código de error se almacena en el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">smtp_code</span></code> del error, y el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">smtp_error</span></code> se establece en el mensaje de error.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPSenderRefused">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPSenderRefused</span></span><a class="headerlink" href="#smtplib.SMTPSenderRefused" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Dirección del remitente rechazada.  Además de los atributos establecidos por todas las excepciones <a class="reference internal" href="#smtplib.SMTPResponseException" title="smtplib.SMTPResponseException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPResponseException</span></code></a>, éste establece “remitente” para la cadena de caracteres que el servidor SMTP rechazó.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPRecipientsRefused">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPRecipientsRefused</span></span><a class="headerlink" href="#smtplib.SMTPRecipientsRefused" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Se rechazaron todas las direcciones de destinatarios.  Los errores para cada destinatario son accesibles mediante el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">recipients</span></code>, el cual es un diccionario del mismo tipo que el <a class="reference internal" href="#smtplib.SMTP.sendmail" title="smtplib.SMTP.sendmail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SMTP.sendmail()</span></code></a> retorna.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPDataError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPDataError</span></span><a class="headerlink" href="#smtplib.SMTPDataError" title="Link to this definition">¶</a></dt>
<dd><p class="translated">El servidor SMTP se negó a aceptar los datos del mensaje.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPConnectError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPConnectError</span></span><a class="headerlink" href="#smtplib.SMTPConnectError" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Se produjo un error durante el establecimiento de conexión  con el servidor.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPHeloError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPHeloError</span></span><a class="headerlink" href="#smtplib.SMTPHeloError" title="Link to this definition">¶</a></dt>
<dd><p class="translated">El servidor rechazó nuestro mensaje <code class="docutils literal notranslate"><span class="pre">HELO</span></code>.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPNotSupportedError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPNotSupportedError</span></span><a class="headerlink" href="#smtplib.SMTPNotSupportedError" title="Link to this definition">¶</a></dt>
<dd><p class="translated">El servidor no admite el comando o la opción que se intentó.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.5.</span></p>
</div>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="smtplib.SMTPAuthenticationError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">smtplib.</span></span><span class="sig-name descname"><span class="pre">SMTPAuthenticationError</span></span><a class="headerlink" href="#smtplib.SMTPAuthenticationError" title="Link to this definition">¶</a></dt>
<dd><p class="translated">La autenticación SMTP salió mal.  Lo más probable es que el servidor no aceptó la combinación proporcionada de username/password.</p>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">Ver también</p>
<dl class="simple">
<dt class="translated"><span class="target" id="index-26"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc821.html"><strong>RFC 821</strong></a> -  Protocolo Simple de Transferencia</dt><dd><p class="translated">Definición de protocolo para SMTP. Este documento cubre el modelo, el procedimiento operativo y los detalles del protocolo para SMTP.</p>
</dd>
<dt class="translated"><span class="target" id="index-27"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc1869.html"><strong>RFC 1869</strong></a> - Extensiones de Servicio SMTP</dt><dd><p class="translated">Definición de las extensiones ESMTP para SMTP. Esto describe un marco para extender SMTP con nuevos comandos, que admite el descubrimiento dinámico de los comandos proporcionados por el servidor y define algunos comandos adicionales.</p>
</dd>
</dl>
</div>
<section id="smtp-objects">
<span id="id1"></span><h2 class="translated">Objetos SMTP<a class="headerlink" href="#smtp-objects" title="Link to this heading">¶</a></h2>
<p class="translated">Una instancia <a class="reference internal" href="#smtplib.SMTP" title="smtplib.SMTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">SMTP</span></code></a> tiene los siguientes métodos:</p>
<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.set_debuglevel">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">set_debuglevel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.set_debuglevel" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Establezca el nivel de salida de depuración. Un valor de 1 o <code class="docutils literal notranslate"><span class="pre">True</span></code> para <em>level</em> da como resultado mensajes de depuración para la conexión y para todos los mensajes enviados y recibidos desde el servidor. Un valor de 2 para <em>level</em> da como resultado que estos mensajes tengan una marca de tiempo.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.5: </span>Se agregó el nivel de depuración 2.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.docmd">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">docmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.docmd" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Envía un comando <em>cmd</em> al servidor.  El argumento opcional <em>args</em> simplemente se concatena con el comando, separado por un espacio.</p>
<p class="translated">Esto devuelve una tupla de 2 compuestos por un código de respuesta numérico y la línea de respuesta real (las respuestas de varias líneas se unen en una línea larga).</p>
<p class="translated">En funcionamiento normal, no debería ser necesario llamar a este método explícitamente. Se utiliza para implementar otros métodos y puede resultar útil para probar extensiones privadas.</p>
<p class="translated">Si se pierde la conexión con el servidor mientras se espera la respuesta, se activará <a class="reference internal" href="#smtplib.SMTPServerDisconnected" title="smtplib.SMTPServerDisconnected"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPServerDisconnected</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.connect">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'localhost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.connect" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Conéctese a un host en un puerto determinado. Los valores predeterminados son para conectarse al host local en el puerto SMTP estándar (25). Si el nombre de host termina con dos puntos (<code class="docutils literal notranslate"><span class="pre">':'</span></code>) seguido de un número, ese sufijo se eliminará y el número se interpretará como el número de puerto a utilizar. El constructor invoca automáticamente este método si se especifica un host durante la instanciación. Devuelve una tupla de 2 del código de respuesta y el mensaje enviado por el servidor en su respuesta de conexión.</p>
<p class="audit-hook translated">Genera un <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">evento de auditoría</span></a> <code class="docutils literal notranslate"><span class="pre">smtplib.connect</span></code> con argumentos <code class="docutils literal notranslate"><span class="pre">self</span></code>, <code class="docutils literal notranslate"><span class="pre">host</span></code>, <code class="docutils literal notranslate"><span class="pre">port</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.helo">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">helo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.helo" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Identifíquese en el servidor SMTP usando <code class="docutils literal notranslate"><span class="pre">HELO</span></code>. El argumento del nombre de host tiene como valor predeterminado el nombre de dominio completo del host local. El mensaje devuelto por el servidor se almacena como el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">helo_resp</span></code> del objeto.</p>
<p class="translated">En funcionamiento normal, no debería ser necesario llamar a este método explícitamente. Será llamado implícitamente por <a class="reference internal" href="#smtplib.SMTP.sendmail" title="smtplib.SMTP.sendmail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sendmail()</span></code></a> cuando sea necesario.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.ehlo">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">ehlo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.ehlo" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Identifíquese en un servidor ESMTP mediante <code class="docutils literal notranslate"><span class="pre">EHLO</span></code>. El argumento del nombre de host tiene como valor predeterminado el nombre de dominio completo del host local. Examine la respuesta para la opción ESMTP y guárdelos para que los utilice <a class="reference internal" href="#smtplib.SMTP.has_extn" title="smtplib.SMTP.has_extn"><code class="xref py py-meth docutils literal notranslate"><span class="pre">has_extn()</span></code></a>. También establece varios atributos informativos: el mensaje retornado por el servidor se almacena como el atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">ehlo_resp</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">does_esmtp</span></code> se establece en <code class="docutils literal notranslate"><span class="pre">True</span></code> o <code class="docutils literal notranslate"><span class="pre">False</span></code> dependiendo de si el servidor admite ESMTP, y <code class="xref py py-attr docutils literal notranslate"><span class="pre">esmtp_features</span></code> será un diccionario que contiene los nombres de las extensiones de servicio SMTP de este servidor soportes, y sus parámetros (si los hay).</p>
<p class="translated">A menos que desee utilizar <a class="reference internal" href="#smtplib.SMTP.has_extn" title="smtplib.SMTP.has_extn"><code class="xref py py-meth docutils literal notranslate"><span class="pre">has_extn()</span></code></a> antes de enviar correo, no debería ser necesario llamar a este método explícitamente. Se llamará implícitamente por <a class="reference internal" href="#smtplib.SMTP.sendmail" title="smtplib.SMTP.sendmail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sendmail()</span></code></a> cuando sea necesario.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.ehlo_or_helo_if_needed">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">ehlo_or_helo_if_needed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.ehlo_or_helo_if_needed" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Este método llama a <a class="reference internal" href="#smtplib.SMTP.ehlo" title="smtplib.SMTP.ehlo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ehlo()</span></code></a> o <a class="reference internal" href="#smtplib.SMTP.helo" title="smtplib.SMTP.helo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">helo()</span></code></a> si no ha habido ningún comando <code class="docutils literal notranslate"><span class="pre">EHLO</span></code> o <code class="docutils literal notranslate"><span class="pre">HELO</span></code> anterior en esta sesión. Primero prueba ESMTP <code class="docutils literal notranslate"><span class="pre">EHLO</span></code>.</p>
<dl class="simple">
<dt class="translated"><a class="reference internal" href="#smtplib.SMTPHeloError" title="smtplib.SMTPHeloError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPHeloError</span></code></a></dt><dd><p class="translated">El servidor no respondió correctamente al saludo <code class="docutils literal notranslate"><span class="pre">HELO</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.has_extn">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">has_extn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.has_extn" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Retorna <a class="reference internal" href="constants.html#True" title="True"><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></a> si <em>name</em> está en el conjunto de extensiones de servicio SMTP devueltas por el servidor, <a class="reference internal" href="constants.html#False" title="False"><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></a> en caso contrario. El método es insensible a la presencia de mayúsculas en <em>name</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.verify">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">verify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.verify" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Verifique la validez de una dirección en este servidor usando SMTP <code class="docutils literal notranslate"><span class="pre">VRFY</span></code>. Retorna una tupla que consta del código 250 y una dirección completa <span class="target" id="index-28"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc822.html"><strong>RFC 822</strong></a> (incluido el nombre humano) si la dirección del usuario es válida. De lo contrario, devuelve un código de error SMTP de 400 o más y una cadena de error.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p class="translated">Muchos sitios desactivan SMTP <code class="docutils literal notranslate"><span class="pre">VRFY</span></code> para frustrar a los spammers.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.login">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">login</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_response_ok</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.login" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Inicie sesión en un servidor SMTP que requiera autenticación. Los argumentos son el nombre de usuario y la contraseña para autenticarse. Si no ha habido ningún comando <code class="docutils literal notranslate"><span class="pre">EHLO</span></code> o <code class="docutils literal notranslate"><span class="pre">HELO</span></code> anterior en esta sesión, este método prueba primero ESMTP <code class="docutils literal notranslate"><span class="pre">EHLO</span></code>. Este método regresará normalmente si la autenticación fue exitosa o puede generar las siguientes excepciones:</p>
<dl class="simple">
<dt class="translated"><a class="reference internal" href="#smtplib.SMTPHeloError" title="smtplib.SMTPHeloError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPHeloError</span></code></a></dt><dd><p class="translated">El servidor no respondió correctamente al saludo <code class="docutils literal notranslate"><span class="pre">HELO</span></code>.</p>
</dd>
<dt class="translated"><a class="reference internal" href="#smtplib.SMTPAuthenticationError" title="smtplib.SMTPAuthenticationError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPAuthenticationError</span></code></a></dt><dd><p class="translated">El servidor no aceptó la combinación de nombre de username/password.</p>
</dd>
<dt class="translated"><a class="reference internal" href="#smtplib.SMTPNotSupportedError" title="smtplib.SMTPNotSupportedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPNotSupportedError</span></code></a></dt><dd><p class="translated">El servidor no admite el comando <code class="docutils literal notranslate"><span class="pre">AUTH</span></code>.</p>
</dd>
<dt class="translated"><a class="reference internal" href="#smtplib.SMTPException" title="smtplib.SMTPException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPException</span></code></a></dt><dd><p class="translated">No se encontró ningún método de autenticación adecuado.</p>
</dd>
</dl>
<p class="translated">Cada uno de los métodos de autenticación admitidos por <a class="reference internal" href="#module-smtplib" title="smtplib: SMTP protocol client (requires sockets)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code></a> se prueban a su vez si se anuncian como admitidos por el servidor. Consulte <a class="reference internal" href="#smtplib.SMTP.auth" title="smtplib.SMTP.auth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">auth()</span></code></a> para obtener una lista de los métodos de autenticación admitidos. <em>initial_response_ok</em> se pasa a <a class="reference internal" href="#smtplib.SMTP.auth" title="smtplib.SMTP.auth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">auth()</span></code></a>.</p>
<p class="translated">El argumento de palabra clave opcional <em>initial_response_ok</em> especifica si, para los métodos de autenticación que lo admiten, se puede enviar una «respuesta inicial» como se especifica en <span class="target" id="index-29"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc4954.html"><strong>RFC 4954</strong></a> junto con el comando <code class="docutils literal notranslate"><span class="pre">AUTH</span></code>, en lugar de requerir un desafío/respuesta .</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.5: </span><a class="reference internal" href="#smtplib.SMTPNotSupportedError" title="smtplib.SMTPNotSupportedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPNotSupportedError</span></code></a> se puede generar y se agregó el parámetro <em>initial_response_ok</em>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.auth">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">auth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mechanism</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">authobject</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_response_ok</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.auth" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Emita un comando <code class="docutils literal notranslate"><span class="pre">SMTP</span></code> <code class="docutils literal notranslate"><span class="pre">AUTH</span></code> para el <em>mechanism</em> de autenticación especificado y maneje la respuesta de desafío a través de <em>authobject</em>.</p>
<p class="translated"><em>mechanism</em> especifica qué mecanismo de autenticación se utilizará como argumento para el comando <code class="docutils literal notranslate"><span class="pre">AUTH</span></code>; los valores válidos son los enumerados en el elemento <code class="docutils literal notranslate"><span class="pre">auth</span></code> de <code class="xref py py-attr docutils literal notranslate"><span class="pre">esmtp_features</span></code>.</p>
<p class="translated"><em>authobject</em> debe ser un objeto que se pueda invocar y  que tome un único argumento opcional:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">authobject</span><span class="p">(</span><span class="n">challenge</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Si la verificación de respuesta inicial devuelve <code class="docutils literal notranslate"><span class="pre">None</span></code>, o si <em>initial_response_ok</em> es falso, se llamará a <code class="docutils literal notranslate"><span class="pre">authobject()</span></code> para procesar la respuesta de desafío del servidor; el argumento <em>challenge</em> que se pasa será un <code class="docutils literal notranslate"><span class="pre">bytes</span></code>. Debería devolver <em>data</em> ASCII <code class="docutils literal notranslate"><span class="pre">str</span></code> que serán codificados en base64 y enviados al servidor.</p>
<p class="translated">Si la verificación de respuesta inicial devuelve <code class="docutils literal notranslate"><span class="pre">None</span></code>, o si <em>initial_response_ok</em> es falso, se llamará a <code class="docutils literal notranslate"><span class="pre">authobject()</span></code> para procesar la respuesta de desafío del servidor; el argumento <em>challenge</em> que se pasa será un <code class="docutils literal notranslate"><span class="pre">bytes</span></code>. Debería devolver <em>data</em> ASCII <code class="docutils literal notranslate"><span class="pre">str</span></code> que serán codificados en base64 y enviados al servidor.</p>
<p class="translated">La clase <code class="docutils literal notranslate"><span class="pre">SMTP</span></code> proporciona <code class="docutils literal notranslate"><span class="pre">authobjects</span></code> para los mecanismos <code class="docutils literal notranslate"><span class="pre">CRAM-MD5</span></code>, <code class="docutils literal notranslate"><span class="pre">PLAIN</span></code> y <code class="docutils literal notranslate"><span class="pre">LOGIN</span></code>; se denominan <code class="docutils literal notranslate"><span class="pre">SMTP.auth_cram_md5</span></code>, <code class="docutils literal notranslate"><span class="pre">SMTP.auth_plain</span></code> y <code class="docutils literal notranslate"><span class="pre">SMTP.auth_login</span></code> respectivamente. Todos requieren que las propiedades de <code class="docutils literal notranslate"><span class="pre">user</span></code> y <code class="docutils literal notranslate"><span class="pre">password</span></code> de la instancia <code class="docutils literal notranslate"><span class="pre">SMTP</span></code> se establezcan en los valores adecuados.</p>
<p class="translated">El código de usuario normalmente no necesita llamar a <code class="docutils literal notranslate"><span class="pre">auth</span></code> directamente, sino que puede llamar al método <a class="reference internal" href="#smtplib.SMTP.login" title="smtplib.SMTP.login"><code class="xref py py-meth docutils literal notranslate"><span class="pre">login()</span></code></a>, que probará cada uno de los mecanismos anteriores a su vez, en el orden indicado. <code class="docutils literal notranslate"><span class="pre">auth</span></code> está expuesto para facilitar la implementación de métodos de autenticación que no (o aún no) son compatibles directamente con <a class="reference internal" href="#module-smtplib" title="smtplib: SMTP protocol client (requires sockets)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.5.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.starttls">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">starttls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.starttls" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Ponga la conexión SMTP en modo TLS (Seguridad de la capa de transporte). Todos los comandos SMTP que siguen se cifrarán. Entonces deberías llamar a <a class="reference internal" href="#smtplib.SMTP.ehlo" title="smtplib.SMTP.ehlo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ehlo()</span></code></a> de nuevo.</p>
<p class="translated">Si se proporcionan <em>keyfile</em> y <em>certfile</em>, se utilizan para crear una <a class="reference internal" href="ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">ssl.SSLContext</span></code></a>.</p>
<p class="translated">El parámetro <em>context</em> opcional es un objeto <a class="reference internal" href="ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">ssl.SSLContext</span></code></a>; Esta es una alternativa al uso de un archivo de claves y un archivo de certificado y, si se especifica, tanto <em>keyfile</em> como <em>certfile</em> deben ser <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p class="translated">Si no ha habido ningún comando <code class="docutils literal notranslate"><span class="pre">EHLO</span></code> o <code class="docutils literal notranslate"><span class="pre">HELO</span></code> anterior en esta sesión, este método intenta ESMTP <code class="docutils literal notranslate"><span class="pre">EHLO</span></code> primero.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.12: </span>Los parámetros obsoletos <em>keyfile y *certifile</em> se han eliminado.</p>
</div>
<dl class="simple">
<dt class="translated"><a class="reference internal" href="#smtplib.SMTPHeloError" title="smtplib.SMTPHeloError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPHeloError</span></code></a></dt><dd><p class="translated">El servidor no respondió correctamente al saludo <code class="docutils literal notranslate"><span class="pre">HELO</span></code>.</p>
</dd>
<dt class="translated"><a class="reference internal" href="#smtplib.SMTPNotSupportedError" title="smtplib.SMTPNotSupportedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPNotSupportedError</span></code></a></dt><dd><p class="translated">El servidor no admite la extensión STARTTLS.</p>
</dd>
<dt class="translated"><a class="reference internal" href="exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a></dt><dd><p class="translated">La compatibilidad con SSL/TLS no está disponible para su intérprete de Python.</p>
</dd>
</dl>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.3: </span>se agregó <em>contexto</em>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.4: </span>El método ahora admite la verificación del nombre de host con <code class="xref py py-attr docutils literal notranslate"><span class="pre">SSLContext.check_hostname</span></code> y <em>Server Name Indicator</em> (ver <a class="reference internal" href="ssl.html#ssl.HAS_SNI" title="ssl.HAS_SNI"><code class="xref py py-data docutils literal notranslate"><span class="pre">HAS_SNI</span></code></a>).</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.5: </span>El error generado por falta de compatibilidad con STARTTLS ahora es la subclase <a class="reference internal" href="#smtplib.SMTPNotSupportedError" title="smtplib.SMTPNotSupportedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPNotSupportedError</span></code></a> en lugar de la base <a class="reference internal" href="#smtplib.SMTPException" title="smtplib.SMTPException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPException</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.sendmail">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">sendmail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_addr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_addrs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mail_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rcpt_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.sendmail" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Enviar correo. Los argumentos requeridos son <span class="target" id="index-30"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc822.html"><strong>RFC 822</strong></a> cadena de dirección de origen, una lista de <span class="target" id="index-31"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc822.html"><strong>RFC 822</strong></a> cadenas de dirección (una cadena simple se tratará como una lista con 1 dirección) y una cadena de mensaje. La persona que llama puede pasar una lista de opciones de ESMTP (como <code class="docutils literal notranslate"><span class="pre">8bitmime</span></code>) para usar en los comandos <code class="docutils literal notranslate"><span class="pre">MAIL</span> <span class="pre">FROM</span></code> como <em>mail_options</em>. Las opciones de ESMTP (como los comandos <code class="docutils literal notranslate"><span class="pre">DSN</span></code>) que deben usarse con todos los comandos <code class="docutils literal notranslate"><span class="pre">RCPT</span></code> se pueden pasar como <em>rcpt_options</em>. (Si necesita usar diferentes opciones de ESMTP para diferentes destinatarios, debe usar los métodos de bajo nivel como <code class="xref py py-meth docutils literal notranslate"><span class="pre">mail()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">rcpt()</span></code> y <code class="xref py py-meth docutils literal notranslate"><span class="pre">data()</span></code> para enviar el mensaje).</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p class="translated">Los parámetros <em>from_addr</em> y <em>to_addrs</em> se utilizan para construir el sobre del mensaje utilizado por los agentes de transporte. <code class="docutils literal notranslate"><span class="pre">sendmail</span></code> no modifica los encabezados de los mensajes de ninguna manera.</p>
</div>
<p class="translated"><em>msg</em> puede ser una cadena que contenga caracteres en el rango ASCII o una cadena de bytes. Una cadena se codifica en bytes utilizando el códec ascii, y los caracteres <code class="docutils literal notranslate"><span class="pre">\r</span></code> y <code class="docutils literal notranslate"><span class="pre">\n</span></code> solitarios se convierten en caracteres <code class="docutils literal notranslate"><span class="pre">\</span> <span class="pre">r\n</span></code>. Una cadena de bytes no se modifica.</p>
<p class="translated">Si no ha habido ningún comando <code class="docutils literal notranslate"><span class="pre">EHLO</span></code> o <code class="docutils literal notranslate"><span class="pre">HELO</span></code> anterior en esta sesión, este método prueba primero ESMTP <code class="docutils literal notranslate"><span class="pre">EHLO</span></code>. Si el servidor utiliza ESMTP, se le pasará el tamaño del mensaje y cada una de las opciones especificadas (si la opción está en el conjunto de funciones que anuncia el servidor). Si <code class="docutils literal notranslate"><span class="pre">EHLO</span></code> falla, se probará <code class="docutils literal notranslate"><span class="pre">HELO</span></code> y se eliminarán las opciones de ESMTP.</p>
<p class="translated">Este método volverá normalmente si se acepta el correo para al menos un destinatario. De lo contrario, lanzará una excepción. Es decir, si este método no genera una excepción, alguien debería recibir su correo. Si este método no genera una excepción, devuelve un diccionario, con una entrada para cada destinatario rechazado. Cada entrada contiene una tupla del código de error SMTP y el mensaje de error adjunto enviado por el servidor.</p>
<p class="translated">Si se incluye <code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code>” en <em>mail_options * y el servidor lo admite, *from_addr</em> y <em>to_addrs</em> pueden contener caracteres no ASCII.</p>
<p class="translated">Este método puede lanzar las siguientes excepciones:</p>
<dl class="simple">
<dt class="translated"><a class="reference internal" href="#smtplib.SMTPRecipientsRefused" title="smtplib.SMTPRecipientsRefused"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPRecipientsRefused</span></code></a></dt><dd><p class="translated">Todos los destinatarios fueron rechazados. Nadie recibió el correo. El atributo <code class="xref py py-attr docutils literal notranslate"><span class="pre">recipients</span></code> del objeto de excepción es un diccionario con información sobre los destinatarios rechazados (como el que se retorna cuando se aceptó al menos un destinatario).</p>
</dd>
<dt class="translated"><a class="reference internal" href="#smtplib.SMTPHeloError" title="smtplib.SMTPHeloError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPHeloError</span></code></a></dt><dd><p class="translated">El servidor no respondió correctamente al saludo <code class="docutils literal notranslate"><span class="pre">HELO</span></code>.</p>
</dd>
<dt class="translated"><a class="reference internal" href="#smtplib.SMTPSenderRefused" title="smtplib.SMTPSenderRefused"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPSenderRefused</span></code></a></dt><dd><p class="translated">El servidor no aceptó el <em>from_addr</em>.</p>
</dd>
<dt class="translated"><a class="reference internal" href="#smtplib.SMTPDataError" title="smtplib.SMTPDataError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPDataError</span></code></a></dt><dd><p class="translated">El servidor respondió con un código de error inesperado (que no sea el rechazo de un destinatario).</p>
</dd>
<dt class="translated"><a class="reference internal" href="#smtplib.SMTPNotSupportedError" title="smtplib.SMTPNotSupportedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPNotSupportedError</span></code></a></dt><dd><p class="translated">Se proporcionó <code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code> en <em>mail_options</em> pero el servidor no lo admite.</p>
</dd>
</dl>
<p class="translated">A menos que se indique lo contrario, la conexión estará abierta incluso después de que se lance una excepción.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.2: </span><em>msg</em> puede ser una cadena de bytes.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Distinto en la versión 3.5: </span>Se agregó compatibilidad con <code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code>, así que la <a class="reference internal" href="#smtplib.SMTPNotSupportedError" title="smtplib.SMTPNotSupportedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPNotSupportedError</span></code></a> puede ser lanzada si se especifica <code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code> ya que el servidor no lo admite.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.send_message">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">send_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_addr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_addrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mail_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rcpt_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.send_message" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Este es un método conveniente para llamar a <a class="reference internal" href="#smtplib.SMTP.sendmail" title="smtplib.SMTP.sendmail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sendmail()</span></code></a> con el mensaje representado por un objeto <a class="reference internal" href="email.compat32-message.html#email.message.Message" title="email.message.Message"><code class="xref py py-class docutils literal notranslate"><span class="pre">email.message.Message</span></code></a>. Los argumentos tienen el mismo significado que para <a class="reference internal" href="#smtplib.SMTP.sendmail" title="smtplib.SMTP.sendmail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sendmail()</span></code></a>, excepto que <em>msg</em> es un objeto <code class="docutils literal notranslate"><span class="pre">Mensaje</span></code>.</p>
<p class="translated">Si <em>from_addr</em> es <code class="docutils literal notranslate"><span class="pre">None</span></code> o <em>to_addrs</em> es <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">send_message</span></code> llena esos argumentos con direcciones extraídas de los encabezados de <em>msg</em> como se especifica en <span class="target" id="index-32"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5322.html"><strong>RFC 5322</strong></a>: <em>from_addr</em> se establece en el campo <em class="mailheader">Sender</em> si está presente, y de lo contrario, en el campo <em class="mailheader">From</em>. <em>to_addrs</em> combina los valores (si los hay) de los campos <em class="mailheader">To</em>, <em class="mailheader">Cc</em> y <em class="mailheader">Bcc</em> de <em>msg</em>. Si aparece exactamente un conjunto de encabezados <em class="mailheader">Resent-*</em> en el mensaje, los encabezados normales se ignoran y en su lugar se utilizan los encabezados <em class="mailheader">Resent- *</em>. Si el mensaje contiene más de un conjunto de encabezados <em class="mailheader">Resent-*</em>, se lanza un <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>, ya que no hay forma de detectar sin ambigüedades el conjunto más reciente de encabezados <em class="mailheader">Resent-</em>.</p>
<p class="untranslated"><code class="docutils literal notranslate"><span class="pre">send_message</span></code> serializes <em>msg</em> using
<a class="reference internal" href="email.generator.html#email.generator.BytesGenerator" title="email.generator.BytesGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BytesGenerator</span></code></a> with <code class="docutils literal notranslate"><span class="pre">\r\n</span></code> as the <em>linesep</em>, and
calls <a class="reference internal" href="#smtplib.SMTP.sendmail" title="smtplib.SMTP.sendmail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sendmail()</span></code></a> to transmit the resulting message.  Regardless of the
values of <em>from_addr</em> and <em>to_addrs</em>, <code class="docutils literal notranslate"><span class="pre">send_message</span></code> does not transmit any
<em class="mailheader">Bcc</em> or <em class="mailheader">Resent-Bcc</em> headers that may appear
in <em>msg</em>.  If any of the addresses in <em>from_addr</em> and <em>to_addrs</em> contain
non-ASCII characters and the server does not advertise <code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code> support,
an <a class="reference internal" href="#smtplib.SMTPNotSupportedError" title="smtplib.SMTPNotSupportedError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SMTPNotSupportedError</span></code></a> is raised.  Otherwise the <code class="docutils literal notranslate"><span class="pre">Message</span></code> is
serialized with a clone of its <a class="reference internal" href="email.policy.html#module-email.policy" title="email.policy: Controlling the parsing and generating of messages"><code class="xref py py-mod docutils literal notranslate"><span class="pre">policy</span></code></a> with the
<a class="reference internal" href="email.policy.html#email.policy.EmailPolicy.utf8" title="email.policy.EmailPolicy.utf8"><code class="xref py py-attr docutils literal notranslate"><span class="pre">utf8</span></code></a> attribute set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, and
<code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code> and <code class="docutils literal notranslate"><span class="pre">BODY=8BITMIME</span></code> are added to <em>mail_options</em>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.2.</span></p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.5: </span>Soporte para direcciones internacionalizadas (<code class="docutils literal notranslate"><span class="pre">SMTPUTF8</span></code>).</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="smtplib.SMTP.quit">
<span class="sig-prename descclassname"><span class="pre">SMTP.</span></span><span class="sig-name descname"><span class="pre">quit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#smtplib.SMTP.quit" title="Link to this definition">¶</a></dt>
<dd><p class="translated">Termine la sesión SMTP y cierre la conexión.  Retorna el resultado del comando SMTP <code class="docutils literal notranslate"><span class="pre">QUIT</span></code>.</p>
</dd></dl>

<p class="translated">Los métodos de bajo nivel correspondientes a los comandos estándar SMTP/ESMTP <code class="docutils literal notranslate"><span class="pre">`HELP</span></code>, <code class="docutils literal notranslate"><span class="pre">RSET</span></code>, <code class="docutils literal notranslate"><span class="pre">NOOP</span></code>, <code class="docutils literal notranslate"><span class="pre">MAIL</span></code>, <code class="docutils literal notranslate"><span class="pre">RCPT</span></code>, y <code class="docutils literal notranslate"><span class="pre">DATA</span></code> también están soportados. Normalmente, no es necesario llamarlos directamente, por lo que no se documentan aquí. Para más detalles, consulte el código del módulo.</p>
</section>
<section id="smtp-example">
<span id="id2"></span><h2 class="translated">Ejemplo SMTP<a class="headerlink" href="#smtp-example" title="Link to this heading">¶</a></h2>
<p class="untranslated">This example prompts the user for addresses needed in the message envelope (“To”
and “From” addresses), and the message to be delivered.  Note that the headers
to be included with the message must be included in the message as entered; this
example doesn’t do any processing of the <span class="target" id="index-12"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc822.html"><strong>RFC 822</strong></a> headers.  In particular, the
“To” and “From” addresses must be included in the message headers explicitly:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">smtplib</span>

<span class="k">def</span><span class="w"> </span><span class="nf">prompt</span><span class="p">(</span><span class="n">title</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">input</span><span class="p">(</span><span class="n">title</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

<span class="n">from_addr</span> <span class="o">=</span> <span class="n">prompt</span><span class="p">(</span><span class="s2">&quot;From: &quot;</span><span class="p">)</span>
<span class="n">to_addrs</span>  <span class="o">=</span> <span class="n">prompt</span><span class="p">(</span><span class="s2">&quot;To: &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Enter message, end with ^D (Unix) or ^Z (Windows):&quot;</span><span class="p">)</span>

<span class="c1"># Add the From: and To: headers at the start!</span>
<span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;From: </span><span class="si">{</span><span class="n">from_addr</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;To: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">to_addrs</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">]</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">EOFError</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Message length is&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">msg</span><span class="p">))</span>

<span class="n">server</span> <span class="o">=</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTP</span><span class="p">(</span><span class="s2">&quot;localhost&quot;</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">set_debuglevel</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">sendmail</span><span class="p">(</span><span class="n">from_addr</span><span class="p">,</span> <span class="n">to_addrs</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p class="translated">En general, querrá usar las características del paquete <a class="reference internal" href="email.html#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages."><code class="xref py py-mod docutils literal notranslate"><span class="pre">email</span></code></a> para construir un mensaje de correo electrónico, que luego puede enviar a través de <a class="reference internal" href="#smtplib.SMTP.send_message" title="smtplib.SMTP.send_message"><code class="xref py py-meth docutils literal notranslate"><span class="pre">send_message()</span></code></a>; ver <a class="reference internal" href="email.examples.html#email-examples"><span class="std std-ref">email: Ejemplos</span></a>.</p>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code> — SMTP protocol client</a><ul>
<li><a class="reference internal" href="#smtp-objects">Objetos SMTP</a></li>
<li><a class="reference internal" href="#smtp-example">Ejemplo SMTP</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="imaplib.html"
                          title="capítulo anterior"><code class="xref py py-mod docutils literal notranslate"><span class="pre">imaplib</span></code> — IMAP4 protocol client</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="uuid.html"
                          title="próximo capítulo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">uuid</span></code> — UUID objects according to <strong>RFC 9562</strong></a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Report a bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/smtplib.rst?plain=1"
            rel="nofollow">Show source
        </a>
      </li>
    </ul>
  </div>
        </div>
<div id="sidebarbutton" title="Contraer barra lateral">
<span>«</span>
</div>

      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="uuid.html" title="uuid — UUID objects according to RFC 9562"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="imaplib.html" title="imaplib — IMAP4 protocol client"
             >anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.15.0a0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La biblioteca estándar de Python</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="internet.html" >Protocolos y soporte de Internet</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">smtplib</span></code> — SMTP protocol client</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="search" name="q" id="search-box">
          <input type="submit" value="Ir">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Tema
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Claro</option>
        <option value="dark">Oscuro</option>
    </select>
</label> |</li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Derechos de autor</a> 2001 Python Software Foundation.
    <br>
    Ésta página tiene la licencia Python Software Foundation Versión 2.
    <br>
    Ejemplos, guías, y otro código en la documentación están bajo la licencia adicional Zero Clause BSD.
    <br>
    
      Ver <a href="/license.html">Historia y Licencia</a> para más información.<br>
    
    
    <br>

    La Python Software Foundation es una corporación sin fines de lucro.
<a href="https://www.python.org/psf/donations/">Por favor dona.</a>
<br>
    <br>
      Última actualización en oct 06, 2025 (04:51 UTC).
    
      <a href="/bugs.html">Encontraste un bug</a>?
    
    <br>

    Creado usando <a href="https://www.sphinx-doc.org/">Sphinx</a>8.2.3.
    </div>

  </body>
</html>