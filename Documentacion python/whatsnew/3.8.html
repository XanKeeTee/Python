<!DOCTYPE html>

<html lang="es" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Qué hay de nuevo en Python 3.8" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/whatsnew/3.8.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Editor, Raymond Hettinger,. Este artículo explica las nuevas características de Python 3.8, en comparación con 3.7. Python 3.8 se lanzó el 14 de octubre de 2019. Para obtener detalles completos, co..." />
<meta property="og:image:width" content="1146" />
<meta property="og:image:height" content="600" />
<meta property="og:image" content="https://docs.python.org/3.15/es/_images/social_previews/summary_whatsnew_3.8_e700c5be.png" />
<meta property="og:image:alt" content="Editor, Raymond Hettinger,. Este artículo explica las nuevas características de Python 3.8, en comparación con 3.7. Python 3.8 se lanzó el 14 de octubre de 2019. Para obtener detalles completos, co..." />
<meta name="description" content="Editor, Raymond Hettinger,. Este artículo explica las nuevas características de Python 3.8, en comparación con 3.7. Python 3.8 se lanzó el 14 de octubre de 2019. Para obtener detalles completos, co..." />
<meta name="twitter:card" content="summary_large_image" />
<meta name="theme-color" content="#3776ab">

    <title>Qué hay de nuevo en Python 3.8 &#8212; documentación de Python - 3.15.0a0</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=234b1a7c" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?v=8cd84f99" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css?v=5349f25f" />
    
    <script src="../_static/documentation_options.js?v=bf1f176d"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=f85f4cfb"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Buscar en documentación de Python - 3.15.0a0"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="Sobre este documento" href="../about.html" />
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="copyright" title="Derechos de autor" href="../copyright.html" />
    <link rel="next" title="Qué hay de nuevo en Python 3.7" href="3.7.html" />
    <link rel="prev" title="Qué hay de nuevo en Python 3.9" href="3.9.html" />
    
      
      <script defer file-types="bz2,epub,zip" data-domain="docs.python.org" src="https://analytics.python.org/js/script.file-downloads.outbound-links.js"></script>
      
      <link rel="canonical" href="https://docs.python.org/3/whatsnew/3.8.html">
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="stylesheet" href="../_static/pydoctheme_dark.css" media="(prefers-color-scheme: dark)" id="pydoctheme_dark_css">
    <link rel="shortcut icon" type="image/png" href="../_static/py.svg">
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script>
            <script type="text/javascript" src="../_static/search-focus.js"></script>
            <script type="text/javascript" src="../_static/themetoggle.js"></script> 
            <script type="text/javascript" src="../_static/rtd_switcher.js"></script>
            <meta name="readthedocs-addons-api-version" content="1">

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menú">
    <nav class="nav-content" role="navigation">
        <label for="menuToggler" class="toggler__label">
            <span></span>
        </label>
        <span class="nav-items-wrapper">
            <a href="https://www.python.org/" class="nav-logo">
                <img src="../_static/py.svg" alt="Python logo">
            </a>
            <span class="version_switcher_placeholder"></span>
            <form role="search" class="search" action="../search.html" method="get">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                    <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="search" name="q">
                <input type="submit" value="Ir">
            </form>
        </span>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
            
<label class="theme-selector-label">
    Tema
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Claro</option>
        <option value="dark">Oscuro</option>
    </select>
</label>
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#">Qué hay de nuevo en Python 3.8</a><ul>
<li><a class="reference internal" href="#summary-release-highlights">Resumen – Aspectos destacados de la versión</a></li>
<li><a class="reference internal" href="#new-features">Nuevas características</a><ul>
<li><a class="reference internal" href="#assignment-expressions">Expresiones de asignación</a></li>
<li><a class="reference internal" href="#positional-only-parameters">Parámetros solo posicionales</a></li>
<li><a class="reference internal" href="#parallel-filesystem-cache-for-compiled-bytecode-files">Caché del sistema de archivos paralelo para archivos de bytecode compilados</a></li>
<li><a class="reference internal" href="#debug-build-uses-the-same-abi-as-release-build">La compilación de depuración usa la misma ABI que la compilación de lanzamiento</a></li>
<li><a class="reference internal" href="#f-strings-support-for-self-documenting-expressions-and-debugging">los f-strings soportan <code class="docutils literal notranslate"><span class="pre">=</span></code> para expresiones autodocumentadas y depuración</a></li>
<li><a class="reference internal" href="#pep-578-python-runtime-audit-hooks">PEP 578: Ganchos de auditoría en tiempo de ejecución de Python</a></li>
<li><a class="reference internal" href="#pep-587-python-initialization-configuration">PEP 587: Configuración de inicialización de Python</a></li>
<li><a class="reference internal" href="#pep-590-vectorcall-a-fast-calling-protocol-for-cpython">PEP 590: Vectorcall: un protocolo de llamada rápida para CPython</a></li>
<li><a class="reference internal" href="#pickle-protocol-5-with-out-of-band-data-buffers">Protocolo 5 de Pickle con búferes de datos fuera de banda</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-language-changes">Otros cambios en el lenguaje</a></li>
<li><a class="reference internal" href="#new-modules">Nuevos módulos</a></li>
<li><a class="reference internal" href="#improved-modules">Módulos mejorados</a><ul>
<li><a class="reference internal" href="#ast">ast</a></li>
<li><a class="reference internal" href="#asyncio">asyncio</a></li>
<li><a class="reference internal" href="#builtins">builtins</a></li>
<li><a class="reference internal" href="#collections">collections</a></li>
<li><a class="reference internal" href="#cprofile">cProfile</a></li>
<li><a class="reference internal" href="#csv">csv</a></li>
<li><a class="reference internal" href="#curses">curses</a></li>
<li><a class="reference internal" href="#ctypes">ctypes</a></li>
<li><a class="reference internal" href="#datetime">datetime</a></li>
<li><a class="reference internal" href="#functools">functools</a></li>
<li><a class="reference internal" href="#gc">gc</a></li>
<li><a class="reference internal" href="#gettext">gettext</a></li>
<li><a class="reference internal" href="#gzip">gzip</a></li>
<li><a class="reference internal" href="#idle-and-idlelib">IDLE e idlelib</a></li>
<li><a class="reference internal" href="#inspect">inspect</a></li>
<li><a class="reference internal" href="#io">io</a></li>
<li><a class="reference internal" href="#itertools">itertools</a></li>
<li><a class="reference internal" href="#json-tool">json.tool</a></li>
<li><a class="reference internal" href="#logging">logging</a></li>
<li><a class="reference internal" href="#math">math</a></li>
<li><a class="reference internal" href="#mmap">mmap</a></li>
<li><a class="reference internal" href="#multiprocessing">multiprocessing</a></li>
<li><a class="reference internal" href="#os">os</a></li>
<li><a class="reference internal" href="#os-path">os.path</a></li>
<li><a class="reference internal" href="#pathlib">pathlib</a></li>
<li><a class="reference internal" href="#pickle">pickle</a></li>
<li><a class="reference internal" href="#plistlib">plistlib</a></li>
<li><a class="reference internal" href="#pprint">pprint</a></li>
<li><a class="reference internal" href="#py-compile">py_compile</a></li>
<li><a class="reference internal" href="#shlex">shlex</a></li>
<li><a class="reference internal" href="#shutil">shutil</a></li>
<li><a class="reference internal" href="#socket">socket</a></li>
<li><a class="reference internal" href="#ssl">ssl</a></li>
<li><a class="reference internal" href="#statistics">statistics</a></li>
<li><a class="reference internal" href="#sys">sys</a></li>
<li><a class="reference internal" href="#tarfile">tarfile</a></li>
<li><a class="reference internal" href="#threading">threading</a></li>
<li><a class="reference internal" href="#tokenize">tokenize</a></li>
<li><a class="reference internal" href="#tkinter">tkinter</a></li>
<li><a class="reference internal" href="#time">time</a></li>
<li><a class="reference internal" href="#typing">typing</a></li>
<li><a class="reference internal" href="#unicodedata">unicodedata</a></li>
<li><a class="reference internal" href="#unittest">unittest</a></li>
<li><a class="reference internal" href="#venv">venv</a></li>
<li><a class="reference internal" href="#weakref">weakref</a></li>
<li><a class="reference internal" href="#xml">xml</a></li>
<li><a class="reference internal" href="#xmlrpc">xmlrpc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#optimizations">Optimizaciones</a></li>
<li><a class="reference internal" href="#build-and-c-api-changes">Cambios en la compilación y la API de C</a></li>
<li><a class="reference internal" href="#deprecated">Obsoleto</a></li>
<li><a class="reference internal" href="#api-and-feature-removals">APIs y características eliminadas</a></li>
<li><a class="reference internal" href="#porting-to-python-3-8">Portando a Python 3.8</a><ul>
<li><a class="reference internal" href="#changes-in-python-behavior">Cambios en el comportamiento de Python</a></li>
<li><a class="reference internal" href="#changes-in-the-python-api">Cambios en la API de Python</a></li>
<li><a class="reference internal" href="#changes-in-the-c-api">Cambios en la API de C</a></li>
<li><a class="reference internal" href="#cpython-bytecode-changes">Cambios en el bytecode de CPython</a></li>
<li><a class="reference internal" href="#demos-and-tools">Demos y herramientas</a></li>
</ul>
</li>
<li><a class="reference internal" href="#notable-changes-in-python-3-8-1">Cambios notables en Python 3.8.1</a></li>
<li><a class="reference internal" href="#notable-changes-in-python-3-8-2">Notable changes in Python 3.8.2</a></li>
<li><a class="reference internal" href="#notable-changes-in-python-3-8-3">Notable changes in Python 3.8.3</a></li>
<li><a class="reference internal" href="#notable-changes-in-python-3-8-8">Cambios notables en Python 3.8.8</a></li>
<li><a class="reference internal" href="#notable-changes-in-python-3-8-9">Notable changes in Python 3.8.9</a></li>
<li><a class="reference internal" href="#notable-changes-in-python-3-8-10">Notable changes in Python 3.8.10</a><ul>
<li><a class="reference internal" href="#macos-11-0-big-sur-and-apple-silicon-mac-support">macOS 11.0 (Big Sur) and Apple Silicon Mac support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id1">Notable changes in Python 3.8.10</a><ul>
<li><a class="reference internal" href="#urllib-parse">urllib.parse</a></li>
</ul>
</li>
<li><a class="reference internal" href="#notable-changes-in-python-3-8-12">Cambios notables en Python 3.8.1</a><ul>
<li><a class="reference internal" href="#id2">Cambios en la API de Python</a></li>
</ul>
</li>
<li><a class="reference internal" href="#notable-security-feature-in-3-8-14">Notable security feature in 3.8.14</a></li>
<li><a class="reference internal" href="#notable-changes-in-3-8-17">Notable changes in 3.8.17</a><ul>
<li><a class="reference internal" href="#id3">tarfile</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="3.9.html"
                          title="capítulo anterior">Qué hay de nuevo en Python 3.9</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="3.7.html"
                          title="próximo capítulo">Qué hay de nuevo en Python 3.7</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Report a bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/whatsnew/3.8.rst?plain=1"
            rel="nofollow">Show source
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="3.7.html" title="Qué hay de nuevo en Python 3.7"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="3.9.html" title="Qué hay de nuevo en Python 3.9"
             accesskey="P">anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.15.0a0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Qué hay de nuevo en Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Qué hay de nuevo en Python 3.8</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="search" name="q" id="search-box">
          <input type="submit" value="Ir">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Tema
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Claro</option>
        <option value="dark">Oscuro</option>
    </select>
</label> |</li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="what-s-new-in-python-3-8">
<h1 class="translated">Qué hay de nuevo en Python 3.8<a class="headerlink" href="#what-s-new-in-python-3-8" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd translated">Editor<span class="colon">:</span></dt>
<dd class="field-odd translated"><p class="translated">Raymond Hettinger</p>
</dd>
</dl>
<p class="translated">Este artículo explica las nuevas características de Python 3.8, en comparación con 3.7. Python 3.8 se lanzó el 14 de octubre de 2019. Para obtener detalles completos, consulte <a class="reference internal" href="changelog.html#changelog"><span class="std std-ref">changelog</span></a>.</p>
<section id="summary-release-highlights">
<h2 class="translated">Resumen – Aspectos destacados de la versión<a class="headerlink" href="#summary-release-highlights" title="Link to this heading">¶</a></h2>
</section>
<section id="new-features">
<h2 class="translated">Nuevas características<a class="headerlink" href="#new-features" title="Link to this heading">¶</a></h2>
<section id="assignment-expressions">
<h3 class="translated">Expresiones de asignación<a class="headerlink" href="#assignment-expressions" title="Link to this heading">¶</a></h3>
<p class="translated">La nueva sintaxis <code class="docutils literal notranslate"><span class="pre">:=</span></code> asigna valores a variables como parte de una expresión más grande. Se le conoce cariñosamente como «el operador morsa» debido a su parecido con <a class="reference external" href="https://en.wikipedia.org/wiki/Walrus#/media/File:Pacific_Walrus_-_Bull_(8247646168).jpg">los ojos y colmillos de una morsa</a>.</p>
<p class="translated">En el siguiente ejemplo, la expresión de asignación ayuda evitando que se tenga que llamar a <a class="reference internal" href="../library/functions.html#len" title="len"><code class="xref py py-func docutils literal notranslate"><span class="pre">len()</span></code></a> dos veces:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;List is too long (</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2"> elements, expected &lt;= 10)&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Un beneficio similar surge durante la búsqueda de coincidencias mediante expresiones regulares donde los objetos de coincidencias se necesitan dos veces, una para comprobar si se produjo una coincidencia y otra para extraer un subgrupo:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">discount</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="k">if</span> <span class="p">(</span><span class="n">mo</span> <span class="o">:=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\d+)</span><span class="si">% d</span><span class="s1">iscount&#39;</span><span class="p">,</span> <span class="n">advertisement</span><span class="p">)):</span>
    <span class="n">discount</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">mo</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="o">/</span> <span class="mf">100.0</span>
</pre></div>
</div>
<p class="translated">El operador también es útil en bucles while que calculan un valor para comprobar la terminación del bucle y posteriormente necesitan nuevamente ese mismo valor en el cuerpo del bucle:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Loop over fixed length blocks</span>
<span class="k">while</span> <span class="p">(</span><span class="n">block</span> <span class="o">:=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">256</span><span class="p">))</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
    <span class="n">process</span><span class="p">(</span><span class="n">block</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Otra motivación de uso surge en las listas por comprensión en las que un valor calculado en una condición de filtrado también se necesita en el cuerpo de la expresión:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">clean_name</span><span class="o">.</span><span class="n">title</span><span class="p">()</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span>
 <span class="k">if</span> <span class="p">(</span><span class="n">clean_name</span> <span class="o">:=</span> <span class="n">normalize</span><span class="p">(</span><span class="s1">&#39;NFC&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span> <span class="ow">in</span> <span class="n">allowed_names</span><span class="p">]</span>
</pre></div>
</div>
<p class="translated">Intenta limitar el uso del «operador morsa» a aquellos casos en los que reduce la complejidad y mejora la legibilidad del código.</p>
<p class="translated">Consultar <span class="target" id="index-53"></span><a class="pep reference external" href="https://peps.python.org/pep-0572/"><strong>PEP 572</strong></a> para obtener una descripción completa.</p>
<p class="translated">(Contribución de Emily Morehouse en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35224">bpo-35224</a>.)</p>
</section>
<section id="positional-only-parameters">
<h3 class="translated">Parámetros solo posicionales<a class="headerlink" href="#positional-only-parameters" title="Link to this heading">¶</a></h3>
<p class="untranslated">There is a new function parameter syntax <code class="docutils literal notranslate"><span class="pre">/</span></code> to indicate that some
function parameters must be specified positionally and cannot be used as
keyword arguments.  This is the same notation shown by <code class="docutils literal notranslate"><span class="pre">help()</span></code> for C
functions annotated with Larry Hastings”
<a class="reference external" href="https://devguide.python.org/development-tools/clinic/">Argument Clinic</a> tool.</p>
<p class="translated">En el siguiente ejemplo, los parámetros <em>a</em> y <em>b</em> son solo posicionales, mientras que <em>c</em> o <em>d</em> pueden ser posicionales o por palabra clave y <em>e</em> o <em>f</em> deben proporcionarse por palabra clave exclusivamente:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">La siguiente es una invocación válida:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Sin embargo, estas son invocaciones inválidas:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>   <span class="c1"># b cannot be a keyword argument</span>
<span class="n">f</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">f</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>           <span class="c1"># e must be a keyword argument</span>
</pre></div>
</div>
<p class="translated">Un caso de uso de esta notación es permitir que las funciones puras de Python emulen completamente los comportamientos de las funciones codificadas en C existentes. Por ejemplo, la función incorporada <a class="reference internal" href="../library/functions.html#divmod" title="divmod"><code class="xref py py-func docutils literal notranslate"><span class="pre">divmod()</span></code></a> no acepta argumentos por palabra clave:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">divmod</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="o">/</span><span class="p">):</span>
    <span class="s2">&quot;Emulate the built in divmod() function&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">a</span> <span class="o">//</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">%</span> <span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">Otro caso de uso es excluir los argumentos por palabra clave cuando el nombre del parámetro no es útil. Por ejemplo, la función incorporada <a class="reference internal" href="../library/functions.html#len" title="len"><code class="xref py py-func docutils literal notranslate"><span class="pre">len()</span></code></a> tiene la firma <code class="docutils literal notranslate"><span class="pre">len(obj,</span> <span class="pre">/)</span></code>. Esto excluye llamadas inoportunas como:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">obj</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>  <span class="c1"># The &quot;obj&quot; keyword argument impairs readability</span>
</pre></div>
</div>
<p class="translated">Un beneficio adicional de marcar un parámetro como solo posicional es que permite cambiar el nombre del parámetro en el futuro sin riesgo de romper el código del cliente. Por ejemplo, en el módulo <a class="reference internal" href="../library/statistics.html#module-statistics" title="statistics: Mathematical statistics functions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">statistics</span></code></a>, el nombre del parámetro <em>dist</em> puede cambiarse en el futuro. Esto es posible gracias a la siguiente especificación de función:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">quantiles</span><span class="p">(</span><span class="n">dist</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;exclusive&#39;</span><span class="p">)</span>
    <span class="o">...</span>
</pre></div>
</div>
<p class="translated">Dado que los parámetros a la izquierda de <code class="docutils literal notranslate"><span class="pre">/</span></code> no se exponen como posibles palabras clave, los nombres de los parámetros permanecen disponibles para su uso en <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>         <span class="c1"># a and b are used in two ways</span>
<span class="go">10 20 {&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;c&#39;: 3}</span>
</pre></div>
</div>
<p class="translated">Esto simplifica enormemente la implementación de funciones y métodos que necesitan aceptar argumentos por palabra clave arbitrarios. Por ejemplo, aquí hay un extracto del código del módulo <a class="reference internal" href="../library/collections.html#module-collections" title="collections: Container datatypes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code></a>:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Counter</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">iterable</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
        <span class="c1"># Note &quot;iterable&quot; is a possible keyword argument</span>
</pre></div>
</div>
<p class="translated">Consultar <span class="target" id="index-54"></span><a class="pep reference external" href="https://peps.python.org/pep-0570/"><strong>PEP 570</strong></a> para obtener una descripción completa.</p>
<p class="translated">(Contribución de Pablo Galindo en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36540">bpo-36540</a>.)</p>
</section>
<section id="parallel-filesystem-cache-for-compiled-bytecode-files">
<h3 class="translated">Caché del sistema de archivos paralelo para archivos de bytecode compilados<a class="headerlink" href="#parallel-filesystem-cache-for-compiled-bytecode-files" title="Link to this heading">¶</a></h3>
<p class="translated">La nueva configuración <span class="target" id="index-55"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONPYCACHEPREFIX"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONPYCACHEPREFIX</span></code></a> (también disponible mediante la opción <a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span></code></a> <code class="docutils literal notranslate"><span class="pre">pycache_prefix</span></code>) configura la caché implícita de bytecode para que use un árbol del sistema de archivos paralelo separado, en lugar de los subdirectorios <code class="docutils literal notranslate"><span class="pre">__pycache__</span></code> predeterminados dentro cada directorio de origen.</p>
<p class="translated">La ubicación de la caché se define en <a class="reference internal" href="../library/sys.html#sys.pycache_prefix" title="sys.pycache_prefix"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.pycache_prefix</span></code></a> (<a class="reference internal" href="../library/constants.html#None" title="None"><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></a> indica la ubicación predeterminada en los subdirectorios <code class="docutils literal notranslate"><span class="pre">__pycache__</span></code>).</p>
<p class="translated">(Contribución de Carl Meyer en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33499">bpo-33499</a>.)</p>
</section>
<section id="debug-build-uses-the-same-abi-as-release-build">
<h3 class="translated">La compilación de depuración usa la misma ABI que la compilación de lanzamiento<a class="headerlink" href="#debug-build-uses-the-same-abi-as-release-build" title="Link to this heading">¶</a></h3>
<p class="translated">Python ahora usa la misma ABI, independientemente de que esté compilado en modo de lanzamiento o de depuración. En Unix, cuando Python se compila en modo de depuración, ahora es posible cargar extensiones C compiladas en modo de lanzamiento y extensiones C compiladas usando la ABI estable.</p>
<p class="translated">Las versiones de versiones y <a class="reference internal" href="../using/configure.html#debug-build"><span class="std std-ref">debug builds</span></a> ahora son compatibles con ABI: definir la macro <code class="docutils literal notranslate"><span class="pre">Py_DEBUG</span></code> ya no implica la macro <code class="docutils literal notranslate"><span class="pre">Py_TRACE_REFS</span></code>, que presenta la única incompatibilidad ABI. La macro <code class="docutils literal notranslate"><span class="pre">Py_TRACE_REFS</span></code>, que agrega la función <a class="reference internal" href="../library/sys.html#sys.getobjects" title="sys.getobjects"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.getobjects()</span></code></a> y la variable de entorno <span class="target" id="index-56"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONDUMPREFS"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONDUMPREFS</span></code></a>, se puede configurar utilizando la nueva opción de compilación <a class="reference internal" href="../using/configure.html#cmdoption-with-trace-refs"><code class="xref std std-option docutils literal notranslate"><span class="pre">./configure</span> <span class="pre">--with-trace-refs</span></code></a>. (Contribuido por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36465">bpo-36465</a>.)</p>
<p class="translated">En Unix, las extensiones en C ya no están enlazadas a libpython, excepto en Android y Cygwin. Ahora es posible que un intérprete Python enlazado estáticamente cargue una extensión de C creada con una biblioteca dinámica de Python. (Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=21536">bpo-21536</a>.)</p>
<p class="translated">En Unix, cuando Python se compila en modo de depuración, la importación ahora también busca extensiones C compiladas en modo de lanzamiento y extensiones C compiladas con la ABI estable. (Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36722">bpo-36722</a>.)</p>
<p class="translated">Para integrar Python en una aplicación, se debe pasar una nueva opción <code class="docutils literal notranslate"><span class="pre">--embed</span></code> a <code class="docutils literal notranslate"><span class="pre">python3-config</span> <span class="pre">--libs</span> <span class="pre">--embed</span></code> para obtener <code class="docutils literal notranslate"><span class="pre">-lpython3.8</span></code> (enlaza la aplicación a libpython ). Para ser compatible con 3.8 y versiones anteriores, prueba primero con <code class="docutils literal notranslate"><span class="pre">python3-config</span> <span class="pre">--libs</span> <span class="pre">--embed</span></code> y vuelve a usar <code class="docutils literal notranslate"><span class="pre">python3-config</span> <span class="pre">--libs</span></code> (sin <code class="docutils literal notranslate"><span class="pre">--embed</span></code>) si falla el comando anterior.</p>
<p class="translated">Agrega un módulo pkg-config <code class="docutils literal notranslate"><span class="pre">python-3.8-embed</span></code> para integrar Python en una aplicación: <code class="docutils literal notranslate"><span class="pre">pkg-config</span> <span class="pre">python-3.8-embed</span> <span class="pre">--libs</span></code> incluye <code class="docutils literal notranslate"><span class="pre">-lpython3.8</span></code>. Para que sea compatible con 3.8 y versiones anteriores, primero intenta usar <code class="docutils literal notranslate"><span class="pre">pkg-config</span> <span class="pre">python-X.Y-embed</span> <span class="pre">--libs</span></code> y vuelve a <code class="docutils literal notranslate"><span class="pre">pkg-config</span> <span class="pre">python-X.Y</span> <span class="pre">--libs</span></code> (sin <code class="docutils literal notranslate"><span class="pre">--embed</span></code>) si el comando anterior falla (reemplaza <code class="docutils literal notranslate"><span class="pre">XY</span></code> con la versión de Python).</p>
<p class="translated">Por otro lado, <code class="docutils literal notranslate"><span class="pre">pkg-config</span> <span class="pre">python3.8</span> <span class="pre">--libs</span></code> ya no contiene <code class="docutils literal notranslate"><span class="pre">-lpython3.8</span></code>. Las extensiones en C no deben estar enlazadas a libpython (excepto en Android y Cygwin, cuyos casos son manejados por el script); este cambio no es retrocompatible a propósito. (Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36721">bpo-36721</a>.)</p>
</section>
<section id="f-strings-support-for-self-documenting-expressions-and-debugging">
<span id="bpo-36817-whatsnew"></span><h3 class="translated">los f-strings soportan <code class="docutils literal notranslate"><span class="pre">=</span></code> para expresiones autodocumentadas y depuración<a class="headerlink" href="#f-strings-support-for-self-documenting-expressions-and-debugging" title="Link to this heading">¶</a></h3>
<p class="translated">Se ha agregado un especificador <code class="docutils literal notranslate"><span class="pre">=</span></code> a los <a class="reference internal" href="../glossary.html#term-f-string"><span class="xref std std-term">f-string</span></a>s. Un f-string como <code class="docutils literal notranslate"><span class="pre">f'{expr=}'</span></code> se expandirá al texto de la expresión, seguido de un signo igual y luego la representación de la expresión evaluada. Por ejemplo:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="s1">&#39;eric_idle&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">member_since</span> <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="mi">1975</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">31</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">user</span><span class="si">=}</span><span class="s1"> </span><span class="si">{</span><span class="n">member_since</span><span class="si">=}</span><span class="s1">&#39;</span>
<span class="go">&quot;user=&#39;eric_idle&#39; member_since=datetime.date(1975, 7, 31)&quot;</span>
</pre></div>
</div>
<p class="translated">Los <a class="reference internal" href="../reference/lexical_analysis.html#f-strings"><span class="std std-ref">especificadores de formato de los f-string</span></a> usuales permiten un mayor control sobre como se muestra el resultado de la expresión:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">delta</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span> <span class="o">-</span> <span class="n">member_since</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">user</span><span class="si">=!s}</span><span class="s1">  </span><span class="si">{</span><span class="n">delta</span><span class="o">.</span><span class="n">days</span><span class="si">=:</span><span class="s1">,d</span><span class="si">}</span><span class="s1">&#39;</span>
<span class="go">&#39;user=eric_idle  delta.days=16,075&#39;</span>
</pre></div>
</div>
<p class="translated">El especificador <code class="docutils literal notranslate"><span class="pre">=</span></code> mostrará la expresión completa para que se puedan mostrar los cálculos:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">theta</span><span class="si">=}</span><span class="s1">  </span><span class="si">{</span><span class="n">cos</span><span class="p">(</span><span class="n">radians</span><span class="p">(</span><span class="n">theta</span><span class="p">))</span><span class="si">=:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="go">theta=30  cos(radians(theta))=0.866</span>
</pre></div>
</div>
<p class="translated">(Contribución de Eric V. Smith y Larry Hastings en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36817">bpo-36817</a>.)</p>
</section>
<section id="pep-578-python-runtime-audit-hooks">
<h3 class="translated">PEP 578: Ganchos de auditoría en tiempo de ejecución de Python<a class="headerlink" href="#pep-578-python-runtime-audit-hooks" title="Link to this heading">¶</a></h3>
<p class="translated">Este PEP agrega un gancho de auditoría y un gancho abierto verificado. Ambos están disponibles desde Python y desde el código nativo, lo que permite que las aplicaciones y los frameworks escritos en código Python puro aprovechen las notificaciones adicionales, al tiempo que permiten a los integradores o administradores de sistemas implementar compilaciones de Python donde la auditoría siempre está habilitada.</p>
<p class="translated">Consultar <span class="target" id="index-57"></span><a class="pep reference external" href="https://peps.python.org/pep-0578/"><strong>PEP 578</strong></a> para obtener más detalles.</p>
</section>
<section id="pep-587-python-initialization-configuration">
<h3 class="translated">PEP 587: Configuración de inicialización de Python<a class="headerlink" href="#pep-587-python-initialization-configuration" title="Link to this heading">¶</a></h3>
<p class="translated">El <span class="target" id="index-58"></span><a class="pep reference external" href="https://peps.python.org/pep-0587/"><strong>PEP 587</strong></a> agrega una nueva API de C para configurar la inicialización de Python, proporcionando un control más preciso de toda la configuración y mejores informes de errores.</p>
<p class="translated">Nuevas estructuras:</p>
<ul class="simple">
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyConfig" title="PyConfig"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyConfig</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyPreConfig" title="PyPreConfig"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyPreConfig</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyStatus" title="PyStatus"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyStatus</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyWideStringList" title="PyWideStringList"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyWideStringList</span></code></a></p></li>
</ul>
<p class="translated">Nuevas funciones:</p>
<ul class="simple">
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyConfig_Clear" title="PyConfig_Clear"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Clear()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyConfig_InitIsolatedConfig" title="PyConfig_InitIsolatedConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_InitIsolatedConfig()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyConfig_InitPythonConfig" title="PyConfig_InitPythonConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_InitPythonConfig()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyConfig_Read" title="PyConfig_Read"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Read()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyConfig_SetArgv" title="PyConfig_SetArgv"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_SetArgv()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyConfig_SetBytesArgv" title="PyConfig_SetBytesArgv"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_SetBytesArgv()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyConfig_SetBytesString" title="PyConfig_SetBytesString"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_SetBytesString()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyConfig_SetString" title="PyConfig_SetString"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_SetString()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyPreConfig_InitIsolatedConfig" title="PyPreConfig_InitIsolatedConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyPreConfig_InitIsolatedConfig()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyPreConfig_InitPythonConfig" title="PyPreConfig_InitPythonConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyPreConfig_InitPythonConfig()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyStatus_Error" title="PyStatus_Error"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyStatus_Error()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyStatus_Exception" title="PyStatus_Exception"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyStatus_Exception()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyStatus_Exit" title="PyStatus_Exit"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyStatus_Exit()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyStatus_IsError" title="PyStatus_IsError"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyStatus_IsError()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyStatus_IsExit" title="PyStatus_IsExit"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyStatus_IsExit()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyStatus_NoMemory" title="PyStatus_NoMemory"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyStatus_NoMemory()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyStatus_Ok" title="PyStatus_Ok"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyStatus_Ok()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyWideStringList_Append" title="PyWideStringList_Append"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyWideStringList_Append()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.PyWideStringList_Insert" title="PyWideStringList_Insert"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyWideStringList_Insert()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init.html#c.Py_BytesMain" title="Py_BytesMain"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_BytesMain()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.Py_ExitStatusException" title="Py_ExitStatusException"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_ExitStatusException()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init.html#c.Py_InitializeFromConfig" title="Py_InitializeFromConfig"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_InitializeFromConfig()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.Py_PreInitialize" title="Py_PreInitialize"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_PreInitialize()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.Py_PreInitializeFromArgs" title="Py_PreInitializeFromArgs"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_PreInitializeFromArgs()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init_config.html#c.Py_PreInitializeFromBytesArgs" title="Py_PreInitializeFromBytesArgs"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_PreInitializeFromBytesArgs()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/init.html#c.Py_RunMain" title="Py_RunMain"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_RunMain()</span></code></a></p></li>
</ul>
<p class="translated">Este PEP también agrega los campos <code class="docutils literal notranslate"><span class="pre">_PyRuntimeState.preconfig</span></code> (tipo <a class="reference internal" href="../c-api/init_config.html#c.PyPreConfig" title="PyPreConfig"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyPreConfig</span></code></a>) y <code class="docutils literal notranslate"><span class="pre">PyInterpreterState.config</span></code> (tipo <a class="reference internal" href="../c-api/init_config.html#c.PyConfig" title="PyConfig"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyConfig</span></code></a>) a estas estructuras internas. <code class="docutils literal notranslate"><span class="pre">PyInterpreterState.config</span></code> se convierte en la nueva configuración de referencia, reemplazando las variables de configuración globales y otras variables privadas.</p>
<p class="translated">Consultar <a class="reference internal" href="../c-api/init_config.html#init-config"><span class="std std-ref">Configuración de inicialización de Python</span></a> para la documentación.</p>
<p class="translated">Consultar <span class="target" id="index-59"></span><a class="pep reference external" href="https://peps.python.org/pep-0587/"><strong>PEP 587</strong></a> para obtener una descripción completa.</p>
<p class="translated">(Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36763">bpo-36763</a>.)</p>
</section>
<section id="pep-590-vectorcall-a-fast-calling-protocol-for-cpython">
<h3 class="translated">PEP 590: Vectorcall: un protocolo de llamada rápida para CPython<a class="headerlink" href="#pep-590-vectorcall-a-fast-calling-protocol-for-cpython" title="Link to this heading">¶</a></h3>
<p class="translated"><a class="reference internal" href="../c-api/call.html#vectorcall"><span class="std std-ref">El protocolo vectorcall</span></a> se agrega a la API de Python / C. Está destinado a formalizar las optimizaciones existentes que ya se realizaron para varias clases. Cualquier <a class="reference internal" href="../c-api/typeobj.html#static-types"><span class="std std-ref">static type</span></a> que implemente un invocable puede utilizar este protocolo.</p>
<p class="translated">Actualmente es provisional. El objetivo es hacerlo completamente público en Python 3.9.</p>
<p class="translated">Consultar <span class="target" id="index-60"></span><a class="pep reference external" href="https://peps.python.org/pep-0590/"><strong>PEP 590</strong></a> para obtener una descripción completa.</p>
<p class="translated">(Contribución de Jeroen Demeyer, Mark Shannon y Petr Viktorin en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36974">bpo-36974</a>.)</p>
</section>
<section id="pickle-protocol-5-with-out-of-band-data-buffers">
<h3 class="translated">Protocolo 5 de Pickle con búferes de datos fuera de banda<a class="headerlink" href="#pickle-protocol-5-with-out-of-band-data-buffers" title="Link to this heading">¶</a></h3>
<p class="translated">Cuando <a class="reference internal" href="../library/pickle.html#module-pickle" title="pickle: Convert Python objects to streams of bytes and back."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickle</span></code></a> se usa para transferir grandes cantidades de datos entre procesos de Python, con la finalidad de aprovechar el procesamiento de múltiples núcleos o máquinas, es importante optimizar la transferencia reduciendo las copias en memoria y posiblemente aplicando técnicas personalizadas, como la compresión dependiente de datos.</p>
<p class="translated">El protocolo 5 de <a class="reference internal" href="../library/pickle.html#module-pickle" title="pickle: Convert Python objects to streams of bytes and back."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickle</span></code></a> introduce soporte para búferes fuera de banda, donde los datos compatibles con <span class="target" id="index-61"></span><a class="pep reference external" href="https://peps.python.org/pep-3118/"><strong>PEP 3118</strong></a> se pueden transmitir separados del flujo principal de pickle, a discreción de la capa de comunicación.</p>
<p class="translated">Consultar <span class="target" id="index-62"></span><a class="pep reference external" href="https://peps.python.org/pep-0574/"><strong>PEP 574</strong></a> para obtener una descripción completa.</p>
<p class="translated">(Contribución de Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36785">bpo-36785</a>.)</p>
</section>
</section>
<section id="other-language-changes">
<h2 class="translated">Otros cambios en el lenguaje<a class="headerlink" href="#other-language-changes" title="Link to this heading">¶</a></h2>
<ul>
<li><p class="translated">La declaración <a class="reference internal" href="../reference/simple_stmts.html#continue"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">continue</span></code></a> era ilegal en la cláusula <a class="reference internal" href="../reference/compound_stmts.html#finally"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">finally</span></code></a> debido a un problema con la implementación. En Python 3.8 se ha eliminado esta restricción. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32489">bpo-32489</a>.)</p></li>
<li><p class="translated">Los tipos <a class="reference internal" href="../library/functions.html#bool" title="bool"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>, <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> y <a class="reference internal" href="../library/fractions.html#fractions.Fraction" title="fractions.Fraction"><code class="xref py py-class docutils literal notranslate"><span class="pre">fractions.Fraction</span></code></a> ahora tienen un método <a class="reference internal" href="../library/stdtypes.html#int.as_integer_ratio" title="int.as_integer_ratio"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_integer_ratio()</span></code></a> como el que se encuentra en <a class="reference internal" href="../library/functions.html#float" title="float"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> y <a class="reference internal" href="../library/decimal.html#decimal.Decimal" title="decimal.Decimal"><code class="xref py py-class docutils literal notranslate"><span class="pre">decimal.Decimal</span></code></a>. Esta extensión menor de la API hace posible escribir <code class="docutils literal notranslate"><span class="pre">numerator,</span> <span class="pre">denominator</span> <span class="pre">=</span> <span class="pre">x.as_integer_ratio()</span></code> y hacer que funcione con múltiples tipos numéricos. (Contribución de Lisa Roach en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33073">bpo-33073</a> y de Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37819">bpo-37819</a>.)</p></li>
<li><p class="translated">Los constructores de <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference internal" href="../library/functions.html#float" title="float"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> y <a class="reference internal" href="../library/functions.html#complex" title="complex"><code class="xref py py-class docutils literal notranslate"><span class="pre">complex</span></code></a> ahora usarán el método especial <code class="xref py py-meth docutils literal notranslate"><span class="pre">__index__()</span></code>, si está disponible y el método correspondiente <a class="reference internal" href="../reference/datamodel.html#object.__int__" title="object.__int__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__int__()</span></code></a>, <a class="reference internal" href="../reference/datamodel.html#object.__float__" title="object.__float__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__float__()</span></code></a> o <a class="reference internal" href="../reference/datamodel.html#object.__complex__" title="object.__complex__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__complex__()</span></code></a> no está disponible. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=20092">bpo-20092</a>.)</p></li>
<li><p class="translated">Agregado soporte para escapes <code class="samp docutils literal notranslate"><span class="pre">\N{</span><em><span class="pre">name</span></em><span class="pre">}</span></code> en <a class="reference internal" href="../library/re.html#module-re" title="re: Regular expression operations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">expresiones</span> <span class="pre">regulares</span></code></a>:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">notice</span> <span class="o">=</span> <span class="s1">&#39;Copyright © 2019&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">copyright_year_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\N{copyright sign}\s*(\d</span><span class="si">{4}</span><span class="s1">)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">int</span><span class="p">(</span><span class="n">copyright_year_pattern</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">notice</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">2019</span>
</pre></div>
</div>
<p class="translated">(Contribución de Jonathan Eunice y Serhiy Storchaka in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=30688">bpo-30688</a>.)</p>
</li>
<li><p class="translated">Los diccionarios y sus vistas ahora se pueden iterar en orden inverso de inserción usando <a class="reference internal" href="../library/functions.html#reversed" title="reversed"><code class="xref py py-func docutils literal notranslate"><span class="pre">reversed()</span></code></a>. (Contribución de Rémi Lapeyre en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33462">bpo-33462</a>.)</p></li>
<li><p class="translated">La sintaxis permitida para los nombres por palabra clave en las llamadas a funciones se ha restringido aún más. En particular, <code class="docutils literal notranslate"><span class="pre">f((keyword)=arg)</span></code> ya no está permitido. Nunca se tuvo intención de permitir algo más que un simple nombre en el lado izquierdo de un término de asignación de argumento por palabra clave. (Contribución de Benjamin Peterson en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34641">bpo-34641</a>.)</p></li>
<li><p class="translated">El desempaquetado de iterables generalizado en declaraciones <a class="reference internal" href="../reference/simple_stmts.html#yield"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">yield</span></code></a> y <a class="reference internal" href="../reference/simple_stmts.html#return"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">return</span></code></a> ya no requiere ser encerrado entre paréntesis. Esto hace que la sintaxis de <em>yield</em> y <em>return</em> se asemeje más a la sintaxis normal de asignación:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">parse</span><span class="p">(</span><span class="n">family</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">lastname</span><span class="p">,</span> <span class="o">*</span><span class="n">members</span> <span class="o">=</span> <span class="n">family</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">lastname</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="o">*</span><span class="n">members</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;simpsons homer marge bart lisa maggie&#39;</span><span class="p">)</span>
<span class="go">(&#39;SIMPSONS&#39;, &#39;homer&#39;, &#39;marge&#39;, &#39;bart&#39;, &#39;lisa&#39;, &#39;maggie&#39;)</span>
</pre></div>
</div>
<p class="translated">(Contribución de David Cuthbert y Jordan Chapman en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32117">bpo-32117</a>.)</p>
</li>
<li><p class="translated">Cuando falta una coma en el código, como en <code class="docutils literal notranslate"><span class="pre">[(10,</span> <span class="pre">20)</span> <span class="pre">(30,</span> <span class="pre">40)]</span></code>, el compilador muestra un <a class="reference internal" href="../library/exceptions.html#SyntaxWarning" title="SyntaxWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a> con una sugerencia útil. Esto representa una mejora con respecto a la implementación previa en la que solo se mostraba un <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> indicando que la primera tupla no era invocable. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=15248">bpo-15248</a>.)</p></li>
<li><p class="translated">Las operaciones aritméticas entre subclases de <a class="reference internal" href="../library/datetime.html#datetime.date" title="datetime.date"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.date</span></code></a> o <a class="reference internal" href="../library/datetime.html#datetime.datetime" title="datetime.datetime"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> y <a class="reference internal" href="../library/datetime.html#datetime.timedelta" title="datetime.timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a> ahora retornan una instancia de la subclase, en lugar de la clase base. Esto también afecta al tipo de retorno de las operaciones cuya implementación (directa o indirectamente) usa la aritmética de <a class="reference internal" href="../library/datetime.html#datetime.timedelta" title="datetime.timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a>, como <a class="reference internal" href="../library/datetime.html#datetime.datetime.astimezone" title="datetime.datetime.astimezone"><code class="xref py py-meth docutils literal notranslate"><span class="pre">astimezone()</span></code></a>. (Contribución de Paul Ganssle en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32417">bpo-32417</a>.)</p></li>
<li><p class="translated">Cuando el intérprete de Python es interrumpido por Ctrl-C (SIGINT) y la excepción <a class="reference internal" href="../library/exceptions.html#KeyboardInterrupt" title="KeyboardInterrupt"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyboardInterrupt</span></code></a> resultante no se detecta, el proceso de Python ahora termina su ejecución a través de una señal SIGINT o con el código de salida correcto, de modo que el proceso que lo invocó puede detectar que murió debido a Ctrl-C. Los shells en POSIX y Windows usan esto para terminar la ejecución de los scripts en sesiones interactivas de forma correcta. (Contribución de Google a través de Gregory P. Smith en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1054041">bpo-1054041</a>.)</p></li>
<li><p class="translated">Algunos estilos de programación avanzados requieren actualizar el objeto <a class="reference internal" href="../library/types.html#types.CodeType" title="types.CodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">types.CodeType</span></code></a> para una función ya existente. Dado que los objetos de código son inmutables, es necesario crear un nuevo objeto de código, que sea modelado a partir del objeto de código existente. Con 19 parámetros, esto era algo tedioso. Ahora, el nuevo método <code class="docutils literal notranslate"><span class="pre">replace()</span></code> hace posible crear un clon con algunos parámetros alterados.</p>
<p class="translated">Aquí hay un ejemplo que modifica la función <a class="reference internal" href="../library/statistics.html#statistics.mean" title="statistics.mean"><code class="xref py py-func docutils literal notranslate"><span class="pre">statistics.mean()</span></code></a> para evitar que el parámetro <em>data</em> se use como un argumento por palabra clave:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">statistics</span><span class="w"> </span><span class="kn">import</span> <span class="n">mean</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mean</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">90</span><span class="p">])</span>
<span class="go">40</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mean</span><span class="o">.</span><span class="vm">__code__</span> <span class="o">=</span> <span class="n">mean</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">co_posonlyargcount</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mean</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">90</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">  </span><span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">mean() got some positional-only arguments passed as keyword arguments: &#39;data&#39;</span>
</pre></div>
</div>
<p class="translated">(Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37032">bpo-37032</a>.)</p>
</li>
<li><p class="translated">Para enteros, la forma de tres argumentos de la función <a class="reference internal" href="../library/functions.html#pow" title="pow"><code class="xref py py-func docutils literal notranslate"><span class="pre">pow()</span></code></a> ahora permite que el exponente sea negativo en el caso de que la base y el módulo sean primos relativos (coprimos). Luego calcula un inverso modular a la base cuando el exponente es <code class="docutils literal notranslate"><span class="pre">-1</span></code> y una potencia adecuada de ese inverso en el caso de otros exponentes negativos. Por ejemplo, para calcular el <a class="reference external" href="https://es.wikipedia.org/wiki/Inverso_multiplicativo_(aritm%C3%A9tica_modular)">inverso multiplicativo</a> de 38 módulo 137, escribe:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">pow</span><span class="p">(</span><span class="mi">38</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">137</span><span class="p">)</span>
<span class="go">119</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">119</span> <span class="o">*</span> <span class="mi">38</span> <span class="o">%</span> <span class="mi">137</span>
<span class="go">1</span>
</pre></div>
</div>
<p class="translated">Los inversos modulares surgen de la solución de <a class="reference external" href="https://es.wikipedia.org/wiki/Ecuaci%C3%B3n_diof%C3%A1ntica">ecuaciones diofánticas lineales</a>. Por ejemplo, para encontrar soluciones enteras para <code class="docutils literal notranslate"><span class="pre">4258𝑥</span> <span class="pre">+</span> <span class="pre">147𝑦</span> <span class="pre">=</span> <span class="pre">369</span></code>, primero debes reescribirla como <code class="docutils literal notranslate"><span class="pre">4258𝑥</span> <span class="pre">≡</span> <span class="pre">369</span> <span class="pre">(mod</span> <span class="pre">147)</span></code> y luego resolver:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="mi">369</span> <span class="o">*</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">4258</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">147</span><span class="p">)</span> <span class="o">%</span> <span class="mi">147</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4258</span> <span class="o">*</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">369</span><span class="p">)</span> <span class="o">//</span> <span class="o">-</span><span class="mi">147</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">4258</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">147</span> <span class="o">*</span> <span class="n">y</span>
<span class="go">369</span>
</pre></div>
</div>
<p class="translated">(Contribución de Mark Dickinson en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36027">bpo-36027</a>.)</p>
</li>
<li><p class="translated">Las compresiones de diccionarios se han sincronizado con los literales de diccionario para que primero se calcule la clave y posteriormente el valor:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Dict comprehension</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cast</span> <span class="o">=</span> <span class="p">{</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;role? &#39;</span><span class="p">):</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;actor? &#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)}</span>
<span class="go">role? King Arthur</span>
<span class="go">actor? Chapman</span>
<span class="go">role? Black Knight</span>
<span class="go">actor? Cleese</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Dict literal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cast</span> <span class="o">=</span> <span class="p">{</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;role? &#39;</span><span class="p">):</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;actor? &#39;</span><span class="p">)}</span>
<span class="go">role? Sir Robin</span>
<span class="go">actor? Eric Idle</span>
</pre></div>
</div>
<p class="translated">Este orden de ejecución garantizado es especialmente útil en las expresiones de asignación porque las variables asignadas en la expresión de la clave estarán disponibles en la expresión del valor:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Martin von Löwis&#39;</span><span class="p">,</span> <span class="s1">&#39;Łukasz Langa&#39;</span><span class="p">,</span> <span class="s1">&#39;Walter Dörwald&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">{(</span><span class="n">n</span> <span class="o">:=</span> <span class="n">normalize</span><span class="p">(</span><span class="s1">&#39;NFC&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span> <span class="p">:</span> <span class="n">n</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">}</span>
<span class="go">{&#39;martin von löwis&#39;: &#39;Martin von Löwis&#39;,</span>
<span class="go"> &#39;łukasz langa&#39;: &#39;Łukasz Langa&#39;,</span>
<span class="go"> &#39;walter dörwald&#39;: &#39;Walter Dörwald&#39;}</span>
</pre></div>
</div>
<p class="translated">(Contribución de Jörn Heissler en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35224">bpo-35224</a>.)</p>
</li>
<li><p class="untranslated">The <a class="reference internal" href="../library/pickle.html#object.__reduce__" title="object.__reduce__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">object.__reduce__()</span></code></a> method can now return a tuple from two to
six elements long. Formerly, five was the limit.  The new, optional sixth
element is a callable with a <code class="docutils literal notranslate"><span class="pre">(obj,</span> <span class="pre">state)</span></code> signature.  This allows the
direct control over the state-updating behavior of a specific object.  If
not <em>None</em>, this callable will have priority over the object’s
<a class="reference internal" href="../library/pickle.html#object.__setstate__" title="object.__setstate__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__setstate__()</span></code></a> method.
(Contributed by Pierre Glaser and Olivier Grisel in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35900">bpo-35900</a>.)</p></li>
</ul>
</section>
<section id="new-modules">
<h2 class="translated">Nuevos módulos<a class="headerlink" href="#new-modules" title="Link to this heading">¶</a></h2>
<ul>
<li><p class="translated">El nuevo módulo <a class="reference internal" href="../library/importlib.metadata.html#module-importlib.metadata" title="importlib.metadata: Accessing package metadata"><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib.metadata</span></code></a> proporciona soporte (provisional) para leer metadatos de paquetes de terceros. Por ejemplo, puede extraer el número de versión de un paquete instalado, la lista de puntos de entrada y más:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note following example requires that the popular &quot;requests&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># package has been installed.</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">importlib.metadata</span><span class="w"> </span><span class="kn">import</span> <span class="n">version</span><span class="p">,</span> <span class="n">requires</span><span class="p">,</span> <span class="n">files</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">version</span><span class="p">(</span><span class="s1">&#39;requests&#39;</span><span class="p">)</span>
<span class="go">&#39;2.22.0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">requires</span><span class="p">(</span><span class="s1">&#39;requests&#39;</span><span class="p">))</span>
<span class="go">[&#39;chardet (&lt;3.1.0,&gt;=3.0.2)&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">files</span><span class="p">(</span><span class="s1">&#39;requests&#39;</span><span class="p">))[:</span><span class="mi">5</span><span class="p">]</span>
<span class="go">[PackagePath(&#39;requests-2.22.0.dist-info/INSTALLER&#39;),</span>
<span class="go"> PackagePath(&#39;requests-2.22.0.dist-info/LICENSE&#39;),</span>
<span class="go"> PackagePath(&#39;requests-2.22.0.dist-info/METADATA&#39;),</span>
<span class="go"> PackagePath(&#39;requests-2.22.0.dist-info/RECORD&#39;),</span>
<span class="go"> PackagePath(&#39;requests-2.22.0.dist-info/WHEEL&#39;)]</span>
</pre></div>
</div>
<p class="translated">(Contribución de Barry Warsaw y Jason R. Coombs en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34632">bpo-34632</a>.)</p>
</li>
</ul>
</section>
<section id="improved-modules">
<h2 class="translated">Módulos mejorados<a class="headerlink" href="#improved-modules" title="Link to this heading">¶</a></h2>
<section id="ast">
<h3 class="translated">ast<a class="headerlink" href="#ast" title="Link to this heading">¶</a></h3>
<p class="translated">Los nodos de AST ahora disponen de los atributos <code class="docutils literal notranslate"><span class="pre">end_lineno</span></code> y <code class="docutils literal notranslate"><span class="pre">end_col_offset</span></code>, que proporcionan la localización precisa del final del nodo. (Esto solo se aplica a los nodos que tienen los atributos <code class="docutils literal notranslate"><span class="pre">lineno</span></code> y <code class="docutils literal notranslate"><span class="pre">col_offset</span></code>.)</p>
<p class="translated">La nueva función <a class="reference internal" href="../library/ast.html#ast.get_source_segment" title="ast.get_source_segment"><code class="xref py py-func docutils literal notranslate"><span class="pre">ast.get_source_segment()</span></code></a> retorna el código fuente de un nodo AST específico.</p>
<p class="translated">(Contribución de Ivan Levkivskyi en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33416">bpo-33416</a>.)</p>
<p class="translated">La función <a class="reference internal" href="../library/ast.html#ast.parse" title="ast.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">ast.parse()</span></code></a> tiene algunos flags nuevos:</p>
<ul class="simple">
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">type_comments=True</span></code> causa que la función retorne el texto de los comentarios de tipo especificados en <span class="target" id="index-63"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> y <span class="target" id="index-64"></span><a class="pep reference external" href="https://peps.python.org/pep-0526/"><strong>PEP 526</strong></a> asociados con ciertos nodos AST;</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">mode='func_type'</span></code> puede usarse para realizar un análisis sintáctico de los «comentarios de tipo de firma» de <span class="target" id="index-65"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> (retornados por los nodos AST de definición de funciones);</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">feature_version=(3,</span> <span class="pre">N)</span></code> permite especificar una versión de Python 3 previa. Por ejemplo, <code class="docutils literal notranslate"><span class="pre">feature_version=(3,</span> <span class="pre">4)</span></code> hará que se trate a <a class="reference internal" href="../reference/compound_stmts.html#async"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">async</span></code></a> y <a class="reference internal" href="../reference/expressions.html#await"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">await</span></code></a> como palabras no reservadas.</p></li>
</ul>
<p class="translated">(Contribución de Guido van Rossum en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35766">bpo-35766</a>.)</p>
</section>
<section id="asyncio">
<h3 class="translated">asyncio<a class="headerlink" href="#asyncio" title="Link to this heading">¶</a></h3>
<p class="translated"><a class="reference internal" href="../library/asyncio-runner.html#asyncio.run" title="asyncio.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.run()</span></code></a> ha pasado de la API provisional a la estable. Esta función se puede utilizar para ejecutar una <a class="reference internal" href="../glossary.html#term-coroutine"><span class="xref std std-term">coroutine</span></a> y retornar el resultado mientras se gestiona automáticamente el bucle de eventos. Por ejemplo:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="mi">42</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
<p class="translated">Esto es <em>aproximadamente</em> equivalente a:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="mi">42</span>

<span class="n">loop</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">new_event_loop</span><span class="p">()</span>
<span class="n">asyncio</span><span class="o">.</span><span class="n">set_event_loop</span><span class="p">(</span><span class="n">loop</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">loop</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="n">asyncio</span><span class="o">.</span><span class="n">set_event_loop</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">loop</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p class="translated">La implementación real es significativamente más compleja. Por lo tanto, <a class="reference internal" href="../library/asyncio-runner.html#asyncio.run" title="asyncio.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.run()</span></code></a> debería ser la forma preferida de ejecutar programas asyncio.</p>
<p class="translated">(Contribución de Yury Selivanov en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32314">bpo-32314</a>.)</p>
<p class="translated">La ejecución de <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">asyncio</span></code> lanza un REPL asincrónico de forma nativa. Esto permite una rápida experimentación con código que tiene un nivel <a class="reference internal" href="../reference/expressions.html#await"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">await</span></code></a> superior. Ya no es necesario llamar directamente a <code class="docutils literal notranslate"><span class="pre">asyncio.run()</span></code>, lo que generaría un nuevo ciclo de eventos en cada invocación:</p>
<div class="untranslated highlight-none notranslate"><div class="highlight"><pre><span></span>$ python -m asyncio
asyncio REPL 3.8.0
Use &quot;await&quot; directly instead of &quot;asyncio.run()&quot;.
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import asyncio
&gt;&gt;&gt; await asyncio.sleep(10, result=&#39;hello&#39;)
hello
</pre></div>
</div>
<p class="translated">(Contribución de Yury Selivanov en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37028">bpo-37028</a>.)</p>
<p class="translated">La excepción <a class="reference internal" href="../library/asyncio-exceptions.html#asyncio.CancelledError" title="asyncio.CancelledError"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.CancelledError</span></code></a> ahora hereda de <a class="reference internal" href="../library/exceptions.html#BaseException" title="BaseException"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseException</span></code></a> en lugar de <a class="reference internal" href="../library/exceptions.html#Exception" title="Exception"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> y ya no hereda de <a class="reference internal" href="../library/concurrent.futures.html#concurrent.futures.CancelledError" title="concurrent.futures.CancelledError"><code class="xref py py-class docutils literal notranslate"><span class="pre">concurrent.futures.CancelledError</span></code></a>. (Contribuido por Yury Selivanov en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32528">bpo-32528</a>.)</p>
<p class="translated">En Windows, el ciclo de eventos predeterminado ahora es <a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.ProactorEventLoop" title="asyncio.ProactorEventLoop"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProactorEventLoop</span></code></a>. (Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34687">bpo-34687</a>.)</p>
<p class="translated"><a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.ProactorEventLoop" title="asyncio.ProactorEventLoop"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProactorEventLoop</span></code></a> ahora también es compatible con UDP. (Contribución de Adam Meily y Andrew Svetlov en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=29883">bpo-29883</a>.)</p>
<p class="translated"><a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.ProactorEventLoop" title="asyncio.ProactorEventLoop"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProactorEventLoop</span></code></a> ahora puede ser interrumpido por <a class="reference internal" href="../library/exceptions.html#KeyboardInterrupt" title="KeyboardInterrupt"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyboardInterrupt</span></code></a> («CTRL+C»). (Contribución de Vladimir Matveev en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=23057">bpo-23057</a>.)</p>
<p class="translated">Se ha agregado <a class="reference internal" href="../library/asyncio-task.html#asyncio.Task.get_coro" title="asyncio.Task.get_coro"><code class="xref py py-meth docutils literal notranslate"><span class="pre">asyncio.Task.get_coro()</span></code></a> para obtener la corrutina envuelta dentro de <a class="reference internal" href="../library/asyncio-task.html#asyncio.Task" title="asyncio.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.Task</span></code></a>. (Contribución de Alex Grönholm en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36999">bpo-36999</a>.)</p>
<p class="translated">Las tareas de Asyncio ahora se pueden nombrar, ya sea pasando el argumento por palabra clave <code class="docutils literal notranslate"><span class="pre">name</span></code> a <a class="reference internal" href="../library/asyncio-task.html#asyncio.create_task" title="asyncio.create_task"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.create_task()</span></code></a> o al método <a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.loop.create_task" title="asyncio.loop.create_task"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_task()</span></code></a> del bucle de eventos, o invocando al método <a class="reference internal" href="../library/asyncio-task.html#asyncio.Task.set_name" title="asyncio.Task.set_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_name()</span></code></a> en el objeto de tarea. El nombre de la tarea es visible en la salida de <code class="docutils literal notranslate"><span class="pre">repr()</span></code> de <a class="reference internal" href="../library/asyncio-task.html#asyncio.Task" title="asyncio.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.Task</span></code></a> y también se puede recuperar usando el método <a class="reference internal" href="../library/asyncio-task.html#asyncio.Task.get_name" title="asyncio.Task.get_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_name()</span></code></a>. (Contribución de Alex Grönholm en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34270">bpo-34270</a>.)</p>
<p class="translated">Se agregó soporte para <a class="reference external" href="https://en.wikipedia.org/wiki/Happy_Eyeballs">Happy Eyeballs</a> a <a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.loop.create_connection" title="asyncio.loop.create_connection"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.loop.create_connection()</span></code></a>. Para especificar el comportamiento, se han agregado dos nuevos parámetros: <em>happy_eyeballs_delay</em> e <em>interleave</em>. El algoritmo Happy Eyeballs mejora la capacidad de respuesta en aplicaciones que admiten IPv4 e IPv6 al intentar conectarse simultáneamente utilizando ambos. (Contribución de twisteroid ambassador en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33530">bpo-33530</a>.)</p>
</section>
<section id="builtins">
<h3 class="translated">builtins<a class="headerlink" href="#builtins" title="Link to this heading">¶</a></h3>
<p class="translated">La función incorporada <a class="reference internal" href="../library/functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> se ha mejorado para que acepte el flag <code class="docutils literal notranslate"><span class="pre">ast.PyCF_ALLOW_TOP_LEVEL_AWAIT</span></code>. Si se pasa este nuevo flag, <a class="reference internal" href="../library/functions.html#compile" title="compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">compile()</span></code></a> permitirá construcciones de nivel superior <code class="docutils literal notranslate"><span class="pre">await</span></code>, <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code> y <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">with</span></code>, que normalmente se consideran sintaxis inválida. El objeto de código asíncrono marcado con el flag <code class="docutils literal notranslate"><span class="pre">CO_COROUTINE</span></code> puede ser retornado. (Contribución de Matthias Bussonnier en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34616">bpo-34616</a>.)</p>
</section>
<section id="collections">
<h3 class="translated">collections<a class="headerlink" href="#collections" title="Link to this heading">¶</a></h3>
<p class="translated">El método <a class="reference internal" href="../library/collections.html#collections.somenamedtuple._asdict" title="collections.somenamedtuple._asdict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_asdict()</span></code></a> para <a class="reference internal" href="../library/collections.html#collections.namedtuple" title="collections.namedtuple"><code class="xref py py-func docutils literal notranslate"><span class="pre">collections.namedtuple()</span></code></a> ahora retorna una instancia de <a class="reference internal" href="../library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> en lugar de una de <a class="reference internal" href="../library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.OrderedDict</span></code></a>. Esto funciona porque se garantiza que los diccionarios regulares mantienen el orden de inserción desde Python 3.7. Si se requieren las características adicionales de <code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code>, la solución sugerida es realizar una conversión del resultado al tipo deseado: <code class="docutils literal notranslate"><span class="pre">OrderedDict(nt._asdict())</span></code>. (Contribución de Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35864">bpo-35864</a>.)</p>
</section>
<section id="cprofile">
<h3 class="translated">cProfile<a class="headerlink" href="#cprofile" title="Link to this heading">¶</a></h3>
<p class="translated">La clase <a class="reference internal" href="../library/profile.html#profile.Profile" title="profile.Profile"><code class="xref py py-class docutils literal notranslate"><span class="pre">cProfile.Profile</span></code></a> ahora puede usarse como gestor de contexto. Ahora se puede perfilar un bloque de código ejecutando:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">cProfile</span>

<span class="k">with</span> <span class="n">cProfile</span><span class="o">.</span><span class="n">Profile</span><span class="p">()</span> <span class="k">as</span> <span class="n">profiler</span><span class="p">:</span>
      <span class="c1"># code to be profiled</span>
      <span class="o">...</span>
</pre></div>
</div>
<p class="translated">(Contribución de Scott Sanderson en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=29235">bpo-29235</a>.)</p>
</section>
<section id="csv">
<h3 class="translated">csv<a class="headerlink" href="#csv" title="Link to this heading">¶</a></h3>
<p class="translated"><a class="reference internal" href="../library/csv.html#csv.DictReader" title="csv.DictReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">csv.DictReader</span></code></a> ahora retorna instancias de <a class="reference internal" href="../library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> en lugar de <a class="reference internal" href="../library/collections.html#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.OrderedDict</span></code></a>. La herramienta ahora es más rápida y usa menos memoria, mientras conserva el orden de los campos. (Contribución de Michael Selik en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34003">bpo-34003</a>.)</p>
</section>
<section id="curses">
<h3 class="translated">curses<a class="headerlink" href="#curses" title="Link to this heading">¶</a></h3>
<p class="translated">Se agregó una nueva variable que contiene información de versión estructurada para la biblioteca ncurses subyacente: <a class="reference internal" href="../library/curses.html#curses.ncurses_version" title="curses.ncurses_version"><code class="xref py py-data docutils literal notranslate"><span class="pre">ncurses_version</span></code></a>. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=31680">bpo-31680</a>.)</p>
</section>
<section id="ctypes">
<h3 class="translated">ctypes<a class="headerlink" href="#ctypes" title="Link to this heading">¶</a></h3>
<p class="translated">En Windows, <a class="reference internal" href="../library/ctypes.html#ctypes.CDLL" title="ctypes.CDLL"><code class="xref py py-class docutils literal notranslate"><span class="pre">CDLL</span></code></a> y sus subclases ahora aceptan un parámetro <em>winmode</em> para especificar flags para la invocación subyacente de <code class="docutils literal notranslate"><span class="pre">LoadLibraryEx</span></code>. Los flags predeterminados están establecidos para cargar solo las dependencias de DLL desde ubicaciones confiables, incluida la ruta donde se almacena la DLL (si se usa una ruta completa o parcial para cargar la DLL inicial) y las rutas agregadas por <a class="reference internal" href="../library/os.html#os.add_dll_directory" title="os.add_dll_directory"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_dll_directory()</span></code></a> . (Contribución de Steve Dower en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36085">bpo-36085</a>.)</p>
</section>
<section id="datetime">
<h3 class="translated">datetime<a class="headerlink" href="#datetime" title="Link to this heading">¶</a></h3>
<p class="untranslated">Added new alternate constructors <a class="reference internal" href="../library/datetime.html#datetime.date.fromisocalendar" title="datetime.date.fromisocalendar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">datetime.date.fromisocalendar()</span></code></a> and
<a class="reference internal" href="../library/datetime.html#datetime.datetime.fromisocalendar" title="datetime.datetime.fromisocalendar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">datetime.datetime.fromisocalendar()</span></code></a>, which construct <a class="reference internal" href="../library/datetime.html#datetime.date" title="datetime.date"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> and
<a class="reference internal" href="../library/datetime.html#datetime.datetime" title="datetime.datetime"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> objects respectively from ISO year, week number, and weekday;
these are the inverse of each class’s <code class="docutils literal notranslate"><span class="pre">isocalendar</span></code> method.
(Contributed by Paul Ganssle in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36004">bpo-36004</a>.)</p>
</section>
<section id="functools">
<h3 class="translated">functools<a class="headerlink" href="#functools" title="Link to this heading">¶</a></h3>
<p class="translated"><a class="reference internal" href="../library/functools.html#functools.lru_cache" title="functools.lru_cache"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.lru_cache()</span></code></a> ahora se puede usar como un decorador directo en lugar de como una función que retorna un decorador. De forma que ambos son compatibles ahora:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@lru_cache</span>
<span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="o">...</span>

<span class="nd">@lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">256</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p class="translated">(Contribución de Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36772">bpo-36772</a>.)</p>
<p class="translated">Se ha agregado un nuevo decorador <a class="reference internal" href="../library/functools.html#functools.cached_property" title="functools.cached_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.cached_property()</span></code></a>, para propiedades calculadas almacenadas en caché durante toda la vida útil de la instancia.</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">functools</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">statistics</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Dataset</span><span class="p">:</span>
   <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sequence_of_numbers</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">sequence_of_numbers</span>

   <span class="nd">@functools</span><span class="o">.</span><span class="n">cached_property</span>
   <span class="k">def</span><span class="w"> </span><span class="nf">variance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="n">statistics</span><span class="o">.</span><span class="n">variance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">(Contribución de Carl Meyer en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=21145">bpo-21145</a>.)</p>
<p class="translated">Se ha agregado un nuevo decorador <a class="reference internal" href="../library/functools.html#functools.singledispatchmethod" title="functools.singledispatchmethod"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.singledispatchmethod()</span></code></a> que convierte métodos en <a class="reference internal" href="../glossary.html#term-generic-function"><span class="xref std std-term">funciones genéricas</span></a> usando <a class="reference internal" href="../glossary.html#term-single-dispatch"><span class="xref std std-term">single dispatch</span></a>:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">functools</span><span class="w"> </span><span class="kn">import</span> <span class="n">singledispatchmethod</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">contextlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">suppress</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TaskManager</span><span class="p">:</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tasks</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tasks</span><span class="p">)</span>

    <span class="nd">@singledispatchmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">discard</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">suppress</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@discard</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tasks</span><span class="p">):</span>
        <span class="n">targets</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">tasks</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">targets</span><span class="p">]</span>
</pre></div>
</div>
<p class="translated">(Contribución de Ethan Smith en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32380">bpo-32380</a>)</p>
</section>
<section id="gc">
<h3 class="translated">gc<a class="headerlink" href="#gc" title="Link to this heading">¶</a></h3>
<p class="translated"><a class="reference internal" href="../library/gc.html#gc.get_objects" title="gc.get_objects"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_objects()</span></code></a> ahora puede recibir un parámetro opcional <em>generation</em> que indica la generación de la que recolectar objetos. (Contribución de Pablo Galindo en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36016">bpo-36016</a>.)</p>
</section>
<section id="gettext">
<h3 class="translated">gettext<a class="headerlink" href="#gettext" title="Link to this heading">¶</a></h3>
<p class="translated">Agregado <a class="reference internal" href="../library/gettext.html#gettext.pgettext" title="gettext.pgettext"><code class="xref py py-func docutils literal notranslate"><span class="pre">pgettext()</span></code></a> y sus variantes. (Contribución de Franz Glasner, Éric Araujo y Cheryl Sabella en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2504">bpo-2504</a>.)</p>
</section>
<section id="gzip">
<h3 class="translated">gzip<a class="headerlink" href="#gzip" title="Link to this heading">¶</a></h3>
<p class="translated">Se ha agregó el parámetro <em>mtime</em> a <a class="reference internal" href="../library/gzip.html#gzip.compress" title="gzip.compress"><code class="xref py py-func docutils literal notranslate"><span class="pre">gzip.compress()</span></code></a> para una salida reproducible. (Contribución de Guo Ci Teo en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34898">bpo-34898</a>.)</p>
<p class="translated">Una excepción <a class="reference internal" href="../library/gzip.html#gzip.BadGzipFile" title="gzip.BadGzipFile"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BadGzipFile</span></code></a> es lanzada ahora, en lugar de <a class="reference internal" href="../library/exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a>, para ciertos tipos de archivos gzip no válidos o corruptos. (Contribución de Filip Gruszczyński, Michele Orrù y Zackery Spytz en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=6584">bpo-6584</a>.)</p>
</section>
<section id="idle-and-idlelib">
<h3 class="translated">IDLE e idlelib<a class="headerlink" href="#idle-and-idlelib" title="Link to this heading">¶</a></h3>
<p class="translated">Las salidas superiores a N líneas (50 por defecto) se pliegan en un botón. N se puede cambiar en la sección PyShell de la página General del cuadro de diálogo Settings. Se pueden plegar menos líneas, pero posiblemente más largas, haciendo clic derecho en la salida. La salida plegada se puede expandir en su lugar haciendo doble clic en el botón o en el portapapeles o en una ventana separada haciendo clic derecho en el botón. (Contribución de Tal Einat en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1529353">bpo-1529353</a>.)</p>
<p class="translated">Se ha agregado «Run Customized» al menú Run para ejecutar un módulo con configuraciones personalizadas. Cualquier argumento de la línea de comandos ingresado se agrega a sys.argv. Además, vuelven a aparecer en el cuadro para la próxima ejecución personalizada. También se puede suprimir el reinicio normal del módulo principal de la Shell. (Contribución de Cheryl Sabella, Terry Jan Reedy y otros en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=5680">bpo-5680</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37627">bpo-37627</a>.)</p>
<p class="translated">Se agregaron números de línea opcionales para las ventanas del editor IDLE. Las ventanas se abren sin números de línea, a menos que se establezca lo contrario en la pestaña General del cuadro de diálogo de configuración. Los números de línea de una ventana existente se muestran y ocultan en el menú Options. (Contribución de Tal Einat y Saimadhav Heblikar en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17535">bpo-17535</a>.)</p>
<p class="translated">La codificación nativa del sistema operativo ahora se usa para convertir entre cadenas de Python y objetos Tcl. Esto permite que el IDLE funcione con emoji y otros caracteres que no son BMP. Estos caracteres se pueden mostrar o copiar y pegar en ,o desde, el portapapeles. Convertir cadenas de Tcl a Python y viceversa ahora nunca falla. (Mucha gente trabajó en esto durante ocho años, pero el problema finalmente lo resolvió Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=13153">bpo-13153</a>.)</p>
<p class="translated">Nuevo en 3.8.1:</p>
<p class="translated">Agregue la opción para desactivar el parpadeo del cursor. (Contribuido por Zackery Spytz en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=4603">bpo-4603</a>.)</p>
<p class="translated">La tecla Escape ahora cierra las ventanas de finalización IDLE. (Contribuido por Johnny Najera en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38944">bpo-38944</a>.)</p>
<p class="translated">Los cambios anteriores se han portado a las versiones de mantenimiento de Python 3.7.</p>
<p class="translated">Agrega palabras clave a la lista de finalización del nombre del módulo. (Contribución de Terry J. Reedy en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37765">bpo-37765</a>.)</p>
</section>
<section id="inspect">
<h3 class="translated">inspect<a class="headerlink" href="#inspect" title="Link to this heading">¶</a></h3>
<p class="translated">La función <a class="reference internal" href="../library/inspect.html#inspect.getdoc" title="inspect.getdoc"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.getdoc()</span></code></a> puede ahora encontrar cadenas de documentación para <code class="docutils literal notranslate"><span class="pre">__slots__</span></code> si el este atributo es un <a class="reference internal" href="../library/stdtypes.html#dict" title="dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> cuyos valores son las cadenas de documentación. Esto proporciona opciones de documentación similares a las que ya tenemos para <a class="reference internal" href="../library/functions.html#property" title="property"><code class="xref py py-func docutils literal notranslate"><span class="pre">property()</span></code></a>, <a class="reference internal" href="../library/functions.html#classmethod" title="classmethod"><code class="xref py py-func docutils literal notranslate"><span class="pre">classmethod()</span></code></a> y <a class="reference internal" href="../library/functions.html#staticmethod" title="staticmethod"><code class="xref py py-func docutils literal notranslate"><span class="pre">staticmethod()</span></code></a>:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">AudioClip</span><span class="p">:</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;bit_rate&#39;</span><span class="p">:</span> <span class="s1">&#39;expressed in kilohertz to one decimal place&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;duration&#39;</span><span class="p">:</span> <span class="s1">&#39;in seconds, rounded up to an integer&#39;</span><span class="p">}</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bit_rate</span><span class="p">,</span> <span class="n">duration</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bit_rate</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">bit_rate</span> <span class="o">/</span> <span class="mf">1000.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="n">ceil</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
</pre></div>
</div>
<p class="translated">(Contribución de Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36326">bpo-36326</a>.)</p>
</section>
<section id="io">
<h3 class="translated">io<a class="headerlink" href="#io" title="Link to this heading">¶</a></h3>
<p class="translated">En el modo de desarrollo (<a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span></code></a> <code class="docutils literal notranslate"><span class="pre">env</span></code>) y en <a class="reference internal" href="../using/configure.html#debug-build"><span class="std std-ref">debug build</span></a>, el finalizador <a class="reference internal" href="../library/io.html#io.IOBase" title="io.IOBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">io.IOBase</span></code></a> ahora registra la excepción si falla el método <code class="docutils literal notranslate"><span class="pre">close()</span></code>. La excepción se ignora de forma silenciosa de forma predeterminada en la versión de la versión. (Contribuido por Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=18748">bpo-18748</a>.)</p>
</section>
<section id="itertools">
<h3 class="translated">itertools<a class="headerlink" href="#itertools" title="Link to this heading">¶</a></h3>
<p class="translated">Se ha agregado un argumento por palabra clave opcional <em>initial</em> a la función <a class="reference internal" href="../library/itertools.html#itertools.accumulate" title="itertools.accumulate"><code class="xref py py-func docutils literal notranslate"><span class="pre">itertools.accumulate()</span></code></a> para permitir especificar un valor inicial:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">itertools</span><span class="w"> </span><span class="kn">import</span> <span class="n">accumulate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">accumulate</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span> <span class="n">initial</span><span class="o">=</span><span class="mi">1000</span><span class="p">))</span>
<span class="go">[1000, 1010, 1015, 1045, 1060]</span>
</pre></div>
</div>
<p class="translated">(Contribución de Lisa Roach en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34659">bpo-34659</a>.)</p>
</section>
<section id="json-tool">
<h3 class="translated">json.tool<a class="headerlink" href="#json-tool" title="Link to this heading">¶</a></h3>
<p class="translated">Agregadas las opciones <code class="docutils literal notranslate"><span class="pre">--json-lines</span></code> para analizar sintácticamente cada línea de entrada como un objeto JSON separado. (Contribución de Weipeng Hong en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=31553">bpo-31553</a>.)</p>
</section>
<section id="logging">
<h3 class="translated">logging<a class="headerlink" href="#logging" title="Link to this heading">¶</a></h3>
<p class="untranslated">Added a <em>force</em> keyword argument to <a class="reference internal" href="../library/logging.html#logging.basicConfig" title="logging.basicConfig"><code class="xref py py-func docutils literal notranslate"><span class="pre">logging.basicConfig()</span></code></a>.
When set to true, any existing handlers attached
to the root logger are removed and closed before carrying out the
configuration specified by the other arguments.</p>
<p class="translated">Esto resuelve un problema de larga data. Una vez que se había invocado a un registrador o a <em>basicConfig()</em>, las invocaciones posteriores a <em>basicConfig()</em> se ignoraban en silencio. Esto dificultaba la actualización, la experimentación o la instrucción de las diversas opciones de configuración de registro mediante el interprete interactivo o el bloc de notas de Jupyter.</p>
<p class="translated">(Sugerencia de Raymond Hettinger, implementación de Dong-hee Na y revisión de Vinay Sajip en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33897">bpo-33897</a>.)</p>
</section>
<section id="math">
<h3 class="translated">math<a class="headerlink" href="#math" title="Link to this heading">¶</a></h3>
<p class="translated">Se ha agregado la nueva función <a class="reference internal" href="../library/math.html#math.dist" title="math.dist"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.dist()</span></code></a> para calcular la distancia euclidiana entre dos puntos. (Contribución de Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33089">bpo-33089</a>.)</p>
<p class="translated">Se ha expandido la función <a class="reference internal" href="../library/math.html#math.hypot" title="math.hypot"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.hypot()</span></code></a> para manejar múltiples dimensiones. Anteriormente, solo admitía dos dimensiones. (Contribución de Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33089">bpo-33089</a>.)</p>
<p class="translated">Agregada una nueva función, <a class="reference internal" href="../library/math.html#math.prod" title="math.prod"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.prod()</span></code></a>, como función análoga a <a class="reference internal" href="../library/functions.html#sum" title="sum"><code class="xref py py-func docutils literal notranslate"><span class="pre">sum()</span></code></a>, que retorna el producto de todos los elementos de un iterable de números partiendo de un valor de inicio (<em>start</em>) (por defecto: 1):</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prior</span> <span class="o">=</span> <span class="mf">0.8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">likelihoods</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.625</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.30</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="n">likelihoods</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">prior</span><span class="p">)</span>
<span class="go">0.126</span>
</pre></div>
</div>
<p class="translated">(Contribución de Pablo Galindo en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35606">bpo-35606</a>.)</p>
<p class="translated">Agregadas dos nuevas funciones combinatorias, <a class="reference internal" href="../library/math.html#math.perm" title="math.perm"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.perm()</span></code></a> y <a class="reference internal" href="../library/math.html#math.comb" title="math.comb"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.comb()</span></code></a>:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">perm</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>    <span class="c1"># Permutations of 10 things taken 3 at a time</span>
<span class="go">720</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">comb</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>    <span class="c1"># Combinations of 10 things taken 3 at a time</span>
<span class="go">120</span>
</pre></div>
</div>
<p class="translated">(Contribución de Yash Aggarwal, Keller Fuchs, Serhiy Storchaka y Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37128">bpo-37128</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37178">bpo-37178</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35431">bpo-35431</a>.)</p>
<p class="translated">Se ha agregada una nueva función <a class="reference internal" href="../library/math.html#math.isqrt" title="math.isqrt"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.isqrt()</span></code></a> para calcular raíces cuadradas enteras precisas sin conversión a coma flotante. La nueva función admite números enteros arbitrariamente grandes. Es más rápida que <code class="docutils literal notranslate"><span class="pre">floor(sqrt(n))</span></code> pero más lenta que <a class="reference internal" href="../library/math.html#math.sqrt" title="math.sqrt"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.sqrt()</span></code></a>:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="mi">650320427</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">r</span> <span class="o">**</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isqrt</span><span class="p">(</span><span class="n">s</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>         <span class="c1"># correct</span>
<span class="go">650320426</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">floor</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">s</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>   <span class="c1"># incorrect</span>
<span class="go">650320427</span>
</pre></div>
</div>
<p class="translated">(Contribución de Mark Dickinson en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36887">bpo-36887</a>.)</p>
<p class="translated">La función <a class="reference internal" href="../library/math.html#math.factorial" title="math.factorial"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.factorial()</span></code></a> ya no acepta argumentos que no sean similares a enteros. (Contribución de Pablo Galindo en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33083">bpo-33083</a>.)</p>
</section>
<section id="mmap">
<h3 class="translated">mmap<a class="headerlink" href="#mmap" title="Link to this heading">¶</a></h3>
<p class="translated">La clase <a class="reference internal" href="../library/mmap.html#mmap.mmap" title="mmap.mmap"><code class="xref py py-class docutils literal notranslate"><span class="pre">mmap.mmap</span></code></a> ahora tiene un método <a class="reference internal" href="../library/mmap.html#mmap.mmap.madvise" title="mmap.mmap.madvise"><code class="xref py py-meth docutils literal notranslate"><span class="pre">madvise()</span></code></a> para acceder a la llamada al sistema <code class="docutils literal notranslate"><span class="pre">madvise()</span></code>. (Contribución de Zackery Spytz en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32941">bpo-32941</a>.)</p>
</section>
<section id="multiprocessing">
<h3 class="translated">multiprocessing<a class="headerlink" href="#multiprocessing" title="Link to this heading">¶</a></h3>
<p class="translated">Agregado el nuevo módulo <a class="reference internal" href="../library/multiprocessing.shared_memory.html#module-multiprocessing.shared_memory" title="multiprocessing.shared_memory: Provides shared memory for direct access across processes."><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing.shared_memory</span></code></a>. (Contribución de Davin Potts en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35813">bpo-35813</a>.)</p>
<p class="translated">En macOS, el método de inicio <em>spawn</em> se usa ahora por defecto. (Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33725">bpo-33725</a>.)</p>
</section>
<section id="os">
<h3 class="translated">os<a class="headerlink" href="#os" title="Link to this heading">¶</a></h3>
<p class="translated">Se agregó una nueva función <a class="reference internal" href="../library/os.html#os.add_dll_directory" title="os.add_dll_directory"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_dll_directory()</span></code></a> en Windows para proporcionar rutas de búsqueda adicionales para las dependencias nativas al importar módulos de extensión o al cargar archivos DLL utilizando <a class="reference internal" href="../library/ctypes.html#module-ctypes" title="ctypes: A foreign function library for Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ctypes</span></code></a>. (Contribución de Steve Dower en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36085">bpo-36085</a>.)</p>
<p class="translated">Se agregó una nueva función <a class="reference internal" href="../library/os.html#os.memfd_create" title="os.memfd_create"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.memfd_create()</span></code></a> para envolver la llamada al sistema <code class="docutils literal notranslate"><span class="pre">memfd_create()</span></code>. (Contribución de Zackery Spytz y Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=26836">bpo-26836</a>.)</p>
<p class="untranslated">On Windows, much of the manual logic for handling reparse points (including
symlinks and directory junctions) has been delegated to the operating system.
Specifically, <a class="reference internal" href="../library/os.html#os.stat" title="os.stat"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.stat()</span></code></a> will now traverse anything supported by the
operating system, while <a class="reference internal" href="../library/os.html#os.lstat" title="os.lstat"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.lstat()</span></code></a> will only open reparse points that
identify as «name surrogates» while others are opened as for <a class="reference internal" href="../library/os.html#os.stat" title="os.stat"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.stat()</span></code></a>.
In all cases, <a class="reference internal" href="../library/os.html#os.stat_result.st_mode" title="os.stat_result.st_mode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">os.stat_result.st_mode</span></code></a> will only have <code class="docutils literal notranslate"><span class="pre">S_IFLNK</span></code> set for
symbolic links and not other kinds of reparse points. To identify other kinds
of reparse point, check the new <a class="reference internal" href="../library/os.html#os.stat_result.st_reparse_tag" title="os.stat_result.st_reparse_tag"><code class="xref py py-attr docutils literal notranslate"><span class="pre">os.stat_result.st_reparse_tag</span></code></a> attribute.</p>
<p class="translated">En Windows, <a class="reference internal" href="../library/os.html#os.readlink" title="os.readlink"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.readlink()</span></code></a> ahora puede leer uniones de directorio. Ten en cuenta que <a class="reference internal" href="../library/os.path.html#os.path.islink" title="os.path.islink"><code class="xref py py-func docutils literal notranslate"><span class="pre">islink()</span></code></a> retornará <code class="docutils literal notranslate"><span class="pre">False</span></code> para las uniones de directorios, por lo que el código que comprueba en primer lugar <code class="docutils literal notranslate"><span class="pre">islink</span></code> continuará tratando las uniones como directorios, mientras que el código que maneja los errores de <a class="reference internal" href="../library/os.html#os.readlink" title="os.readlink"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.readlink()</span></code></a> ahora puede tratar las uniones como enlaces.</p>
<p class="translated">(Contribución de Steve Dower en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37834">bpo-37834</a>.)</p>
</section>
<section id="os-path">
<h3 class="translated">os.path<a class="headerlink" href="#os-path" title="Link to this heading">¶</a></h3>
<p class="translated">Las funciones de <a class="reference internal" href="../library/os.path.html#module-os.path" title="os.path: Operations on pathnames."><code class="xref py py-mod docutils literal notranslate"><span class="pre">os.path</span></code></a> que retornan un resultado booleano como <a class="reference internal" href="../library/os.path.html#os.path.exists" title="os.path.exists"><code class="xref py py-func docutils literal notranslate"><span class="pre">exists()</span></code></a>, <a class="reference internal" href="../library/os.path.html#os.path.lexists" title="os.path.lexists"><code class="xref py py-func docutils literal notranslate"><span class="pre">lexists()</span></code></a>, <a class="reference internal" href="../library/os.path.html#os.path.isdir" title="os.path.isdir"><code class="xref py py-func docutils literal notranslate"><span class="pre">isdir()</span></code></a>, <a class="reference internal" href="../library/os.path.html#os.path.isfile" title="os.path.isfile"><code class="xref py py-func docutils literal notranslate"><span class="pre">isfile()</span></code></a>, <a class="reference internal" href="../library/os.path.html#os.path.islink" title="os.path.islink"><code class="xref py py-func docutils literal notranslate"><span class="pre">islink()</span></code></a> e <a class="reference internal" href="../library/os.path.html#os.path.ismount" title="os.path.ismount"><code class="xref py py-func docutils literal notranslate"><span class="pre">ismount()</span></code></a> ahora retornan <code class="docutils literal notranslate"><span class="pre">False</span></code> en lugar de lanzar una excepción <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>, o sus subclases <a class="reference internal" href="../library/exceptions.html#UnicodeEncodeError" title="UnicodeEncodeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">UnicodeEncodeError</span></code></a> y <a class="reference internal" href="../library/exceptions.html#UnicodeDecodeError" title="UnicodeDecodeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">UnicodeDecodeError</span></code></a>, para rutas que contienen caracteres o bytes irrepresentables a nivel del sistema operativo. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33721">bpo-33721</a>.)</p>
<p class="translated"><a class="reference internal" href="../library/os.path.html#os.path.expanduser" title="os.path.expanduser"><code class="xref py py-func docutils literal notranslate"><span class="pre">expanduser()</span></code></a> en Windows ahora usa preferentemente la variable de entorno <span class="target" id="index-66"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">USERPROFILE</span></code> y no usa <span class="target" id="index-67"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">HOME</span></code>, que normalmente no está establecido para cuentas de usuario normales. (Contribución de Anthony Sottile en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36264">bpo-36264</a>.)</p>
<p class="translated"><a class="reference internal" href="../library/os.path.html#os.path.isdir" title="os.path.isdir"><code class="xref py py-func docutils literal notranslate"><span class="pre">isdir()</span></code></a> en Windows ya no retorna <code class="docutils literal notranslate"><span class="pre">True</span></code> para un enlace a un directorio no existente.</p>
<p class="translated"><a class="reference internal" href="../library/os.path.html#os.path.realpath" title="os.path.realpath"><code class="xref py py-func docutils literal notranslate"><span class="pre">realpath()</span></code></a> en Windows ahora resuelve puntos de reinterpretación (reparse points), incluidos enlaces simbólicos y uniones de directorio.</p>
<p class="translated">(Contribución de Steve Dower en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37834">bpo-37834</a>.)</p>
</section>
<section id="pathlib">
<h3 class="translated">pathlib<a class="headerlink" href="#pathlib" title="Link to this heading">¶</a></h3>
<p class="untranslated"><a class="reference internal" href="../library/pathlib.html#pathlib.Path" title="pathlib.Path"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pathlib.Path</span></code></a> methods that return a boolean result like
<a class="reference internal" href="../library/pathlib.html#pathlib.Path.exists" title="pathlib.Path.exists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exists()</span></code></a>, <a class="reference internal" href="../library/pathlib.html#pathlib.Path.is_dir" title="pathlib.Path.is_dir"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_dir()</span></code></a>,
<a class="reference internal" href="../library/pathlib.html#pathlib.Path.is_file" title="pathlib.Path.is_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_file()</span></code></a>, <a class="reference internal" href="../library/pathlib.html#pathlib.Path.is_mount" title="pathlib.Path.is_mount"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_mount()</span></code></a>,
<a class="reference internal" href="../library/pathlib.html#pathlib.Path.is_symlink" title="pathlib.Path.is_symlink"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_symlink()</span></code></a>, <a class="reference internal" href="../library/pathlib.html#pathlib.Path.is_block_device" title="pathlib.Path.is_block_device"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_block_device()</span></code></a>,
<a class="reference internal" href="../library/pathlib.html#pathlib.Path.is_char_device" title="pathlib.Path.is_char_device"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_char_device()</span></code></a>, <a class="reference internal" href="../library/pathlib.html#pathlib.Path.is_fifo" title="pathlib.Path.is_fifo"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_fifo()</span></code></a>,
<a class="reference internal" href="../library/pathlib.html#pathlib.Path.is_socket" title="pathlib.Path.is_socket"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_socket()</span></code></a> now return <code class="docutils literal notranslate"><span class="pre">False</span></code> instead of raising
<a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> or its subclass <a class="reference internal" href="../library/exceptions.html#UnicodeEncodeError" title="UnicodeEncodeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">UnicodeEncodeError</span></code></a> for paths that
contain characters unrepresentable at the OS level.
(Contributed by Serhiy Storchaka in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33721">bpo-33721</a>.)</p>
<p class="untranslated">Added <code class="xref py py-meth docutils literal notranslate"><span class="pre">pathlib.Path.link_to()</span></code> which creates a hard link pointing
to a path.
(Contributed by Joannah Nanjekye in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=26978">bpo-26978</a>)
Note that <code class="docutils literal notranslate"><span class="pre">link_to</span></code> was deprecated in 3.10 and removed in 3.12 in
favor of a <code class="docutils literal notranslate"><span class="pre">hardlink_to</span></code> method added in 3.10 which matches the
semantics of the existing <code class="docutils literal notranslate"><span class="pre">symlink_to</span></code> method.</p>
</section>
<section id="pickle">
<h3 class="translated">pickle<a class="headerlink" href="#pickle" title="Link to this heading">¶</a></h3>
<p class="translated">Las extensiones de <a class="reference internal" href="../library/pickle.html#module-pickle" title="pickle: Convert Python objects to streams of bytes and back."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickle</span></code></a> que subclasifican la clase optimizada de C <a class="reference internal" href="../library/pickle.html#pickle.Pickler" title="pickle.Pickler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pickler</span></code></a> ahora pueden anular la lógica de pickling de funciones y clases definiendo el método especial <a class="reference internal" href="../library/pickle.html#pickle.Pickler.reducer_override" title="pickle.Pickler.reducer_override"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reducer_override()</span></code></a>. (Contribución de Pierre Glaser y Olivier Grisel en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35900">bpo-35900</a>.)</p>
</section>
<section id="plistlib">
<h3 class="translated">plistlib<a class="headerlink" href="#plistlib" title="Link to this heading">¶</a></h3>
<p class="translated">Se ha agregado la nueva clase <a class="reference internal" href="../library/plistlib.html#plistlib.UID" title="plistlib.UID"><code class="xref py py-class docutils literal notranslate"><span class="pre">plistlib.UID</span></code></a> y se ha habilitado el soporte para leer y escribir plists binarios codificados por NSKeyedArchiver. (Contribución de Jon Janzen en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=26707">bpo-26707</a>.)</p>
</section>
<section id="pprint">
<h3 class="translated">pprint<a class="headerlink" href="#pprint" title="Link to this heading">¶</a></h3>
<p class="translated">Se ha agregado el parámetro <em>sort_dicts</em> a varias funciones del módulo <a class="reference internal" href="../library/pprint.html#module-pprint" title="pprint: Data pretty printer."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pprint</span></code></a>. De forma predeterminada, esas funciones continúan ordenando los diccionarios antes de procesarlos o imprimirlos. Sin embargo, si <em>sort_dicts</em> se establece en falso, los diccionarios conservan el orden en que se insertaron las claves. Esto puede resultar útil para la comparación con entradas JSON durante la depuración.</p>
<p class="translated">Además, hay una nueva función de conveniencia, <a class="reference internal" href="../library/pprint.html#pprint.pp" title="pprint.pp"><code class="xref py py-func docutils literal notranslate"><span class="pre">pprint.pp()</span></code></a>, que es igual que <a class="reference internal" href="../library/pprint.html#pprint.pprint" title="pprint.pprint"><code class="xref py py-func docutils literal notranslate"><span class="pre">pprint.pprint()</span></code></a> pero con <em>sort_dicts</em> establecido en <code class="docutils literal notranslate"><span class="pre">False</span></code> por defecto:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pprint</span><span class="p">,</span> <span class="n">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s1">&#39;input.txt&#39;</span><span class="p">,</span> <span class="n">operation</span><span class="o">=</span><span class="s1">&#39;filter&#39;</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="s1">&#39;output.txt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>                  <span class="c1"># Original order</span>
<span class="go">{&#39;source&#39;: &#39;input.txt&#39;,</span>
<span class="go"> &#39;operation&#39;: &#39;filter&#39;,</span>
<span class="go"> &#39;destination&#39;: &#39;output.txt&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>              <span class="c1"># Keys sorted alphabetically</span>
<span class="go">{&#39;destination&#39;: &#39;output.txt&#39;,</span>
<span class="go"> &#39;operation&#39;: &#39;filter&#39;,</span>
<span class="go"> &#39;source&#39;: &#39;input.txt&#39;}</span>
</pre></div>
</div>
<p class="translated">(Contribución de Rémi Lapeyre en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=30670">bpo-30670</a>.)</p>
</section>
<section id="py-compile">
<h3 class="translated">py_compile<a class="headerlink" href="#py-compile" title="Link to this heading">¶</a></h3>
<p class="translated"><a class="reference internal" href="../library/py_compile.html#py_compile.compile" title="py_compile.compile"><code class="xref py py-func docutils literal notranslate"><span class="pre">py_compile.compile()</span></code></a> ahora admite el modo silencioso. (Contribución de Joannah Nanjekye en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=22640">bpo-22640</a>.)</p>
</section>
<section id="shlex">
<h3 class="translated">shlex<a class="headerlink" href="#shlex" title="Link to this heading">¶</a></h3>
<p class="translated">La nueva función <a class="reference internal" href="../library/shlex.html#shlex.join" title="shlex.join"><code class="xref py py-func docutils literal notranslate"><span class="pre">shlex.join()</span></code></a> actúa a la inversa de <a class="reference internal" href="../library/shlex.html#shlex.split" title="shlex.split"><code class="xref py py-func docutils literal notranslate"><span class="pre">shlex.split()</span></code></a>. (Contribución de Bo Bayles en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32102">bpo-32102</a>.)</p>
</section>
<section id="shutil">
<h3 class="translated">shutil<a class="headerlink" href="#shutil" title="Link to this heading">¶</a></h3>
<p class="translated"><a class="reference internal" href="../library/shutil.html#shutil.copytree" title="shutil.copytree"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copytree()</span></code></a> ahora acepta el nuevo argumento por palabra clave <code class="docutils literal notranslate"><span class="pre">dirs_exist_ok</span></code>. (Contribución de Josh Bronson en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=20849">bpo-20849</a>.)</p>
<p class="translated"><a class="reference internal" href="../library/shutil.html#shutil.make_archive" title="shutil.make_archive"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.make_archive()</span></code></a> ahora usa por defecto el formato pax moderno (POSIX.1-2001) para nuevos archivos para mejorar la portabilidad y la conformidad con los estándares, heredado el cambio correspondiente del módulo <a class="reference internal" href="../library/tarfile.html#module-tarfile" title="tarfile: Read and write tar-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tarfile</span></code></a>. (Contribución de C.A.M. Gerlach en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=30661">bpo-30661</a>.)</p>
<p class="translated"><a class="reference internal" href="../library/shutil.html#shutil.rmtree" title="shutil.rmtree"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.rmtree()</span></code></a> en Windows ahora elimina las uniones de directorio sin eliminar recursivamente su contenido primero. (Contribución de Steve Dower en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37834">bpo-37834</a>.)</p>
</section>
<section id="socket">
<h3 class="translated">socket<a class="headerlink" href="#socket" title="Link to this heading">¶</a></h3>
<p class="untranslated">Added <a class="reference internal" href="../library/socket.html#socket.create_server" title="socket.create_server"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_server()</span></code></a> and <a class="reference internal" href="../library/socket.html#socket.has_dualstack_ipv6" title="socket.has_dualstack_ipv6"><code class="xref py py-meth docutils literal notranslate"><span class="pre">has_dualstack_ipv6()</span></code></a>
convenience functions to automate the necessary tasks usually involved when
creating a server socket, including accepting both IPv4 and IPv6 connections
on the same socket.  (Contributed by Giampaolo Rodolà in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17561">bpo-17561</a>.)</p>
<p class="untranslated">The <a class="reference internal" href="../library/socket.html#socket.if_nameindex" title="socket.if_nameindex"><code class="xref py py-func docutils literal notranslate"><span class="pre">socket.if_nameindex()</span></code></a>, <a class="reference internal" href="../library/socket.html#socket.if_nametoindex" title="socket.if_nametoindex"><code class="xref py py-func docutils literal notranslate"><span class="pre">socket.if_nametoindex()</span></code></a>, and
<a class="reference internal" href="../library/socket.html#socket.if_indextoname" title="socket.if_indextoname"><code class="xref py py-func docutils literal notranslate"><span class="pre">socket.if_indextoname()</span></code></a> functions have been implemented on Windows.
(Contributed by Zackery Spytz in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37007">bpo-37007</a>.)</p>
</section>
<section id="ssl">
<h3 class="translated">ssl<a class="headerlink" href="#ssl" title="Link to this heading">¶</a></h3>
<p class="translated">Se ha agregado <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.post_handshake_auth" title="ssl.SSLContext.post_handshake_auth"><code class="xref py py-attr docutils literal notranslate"><span class="pre">post_handshake_auth</span></code></a> para habilitar y <a class="reference internal" href="../library/ssl.html#ssl.SSLSocket.verify_client_post_handshake" title="ssl.SSLSocket.verify_client_post_handshake"><code class="xref py py-meth docutils literal notranslate"><span class="pre">verify_client_post_handshake()</span></code></a> para iniciar la autenticación tras el establecimiento de la comunicación en TLS 1.3. (Contribución de Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34670">bpo-34670</a>.)</p>
</section>
<section id="statistics">
<h3 class="translated">statistics<a class="headerlink" href="#statistics" title="Link to this heading">¶</a></h3>
<p class="untranslated">Added <a class="reference internal" href="../library/statistics.html#statistics.fmean" title="statistics.fmean"><code class="xref py py-func docutils literal notranslate"><span class="pre">statistics.fmean()</span></code></a> as a faster, floating-point variant of
<a class="reference internal" href="../library/statistics.html#statistics.mean" title="statistics.mean"><code class="xref py py-func docutils literal notranslate"><span class="pre">statistics.mean()</span></code></a>.  (Contributed by Raymond Hettinger and
Steven D’Aprano in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35904">bpo-35904</a>.)</p>
<p class="untranslated">Added <a class="reference internal" href="../library/statistics.html#statistics.geometric_mean" title="statistics.geometric_mean"><code class="xref py py-func docutils literal notranslate"><span class="pre">statistics.geometric_mean()</span></code></a>
(Contributed by Raymond Hettinger in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=27181">bpo-27181</a>.)</p>
<p class="translated">Se ha agregado <a class="reference internal" href="../library/statistics.html#statistics.multimode" title="statistics.multimode"><code class="xref py py-func docutils literal notranslate"><span class="pre">statistics.multimode()</span></code></a> que retorna una lista con los valores más comunes. (Contribución de Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35892">bpo-35892</a>.)</p>
<p class="translated">Se ha agregado <a class="reference internal" href="../library/statistics.html#statistics.quantiles" title="statistics.quantiles"><code class="xref py py-func docutils literal notranslate"><span class="pre">statistics.quantiles()</span></code></a> que divide datos o una distribución en intervalos equiprobables (por ejemplo, cuartiles, deciles o percentiles). (Contribución de Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36546">bpo-36546</a>.)</p>
<p class="translated">Se ha agregado <a class="reference internal" href="../library/statistics.html#statistics.NormalDist" title="statistics.NormalDist"><code class="xref py py-class docutils literal notranslate"><span class="pre">statistics.NormalDist</span></code></a>, una herramienta para crear y manipular distribuciones normales de una variable aleatoria. (Contribución de Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36018">bpo-36018</a>.)</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">temperature_feb</span> <span class="o">=</span> <span class="n">NormalDist</span><span class="o">.</span><span class="n">from_samples</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">temperature_feb</span><span class="o">.</span><span class="n">mean</span>
<span class="go">6.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">temperature_feb</span><span class="o">.</span><span class="n">stdev</span>
<span class="go">6.356099432828281</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">temperature_feb</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>            <span class="c1"># Chance of being under 3 degrees</span>
<span class="go">0.3184678262814532</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Relative chance of being 7 degrees versus 10 degrees</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">temperature_feb</span><span class="o">.</span><span class="n">pdf</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">/</span> <span class="n">temperature_feb</span><span class="o">.</span><span class="n">pdf</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">1.2039930378537762</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">el_niño</span> <span class="o">=</span> <span class="n">NormalDist</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">temperature_feb</span> <span class="o">+=</span> <span class="n">el_niño</span>        <span class="c1"># Add in a climate effect</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">temperature_feb</span>
<span class="go">NormalDist(mu=10.0, sigma=6.830080526611674)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">temperature_feb</span> <span class="o">*</span> <span class="p">(</span><span class="mi">9</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="mi">32</span>      <span class="c1"># Convert to Fahrenheit</span>
<span class="go">NormalDist(mu=50.0, sigma=12.294144947901014)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">temperature_feb</span><span class="o">.</span><span class="n">samples</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>        <span class="c1"># Generate random samples</span>
<span class="go">[7.672102882379219, 12.000027119750287, 4.647488369766392]</span>
</pre></div>
</div>
</section>
<section id="sys">
<h3 class="translated">sys<a class="headerlink" href="#sys" title="Link to this heading">¶</a></h3>
<p class="translated">Se ha agregado la nueva función <a class="reference internal" href="../library/sys.html#sys.unraisablehook" title="sys.unraisablehook"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.unraisablehook()</span></code></a> que se puede anular para controlar cómo se manejan las «excepciones no lanzables». Se llama cuando se ha producido una excepción, pero Python no tiene forma de manejarla. Por ejemplo, cuando un destructor lanza una excepción o durante la recolección de basura (<a class="reference internal" href="../library/gc.html#gc.collect" title="gc.collect"><code class="xref py py-func docutils literal notranslate"><span class="pre">gc.collect()</span></code></a>). (Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36829">bpo-36829</a>.)</p>
</section>
<section id="tarfile">
<h3 class="translated">tarfile<a class="headerlink" href="#tarfile" title="Link to this heading">¶</a></h3>
<p class="translated">El módulo <a class="reference internal" href="../library/tarfile.html#module-tarfile" title="tarfile: Read and write tar-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tarfile</span></code></a> ahora tiene por defecto el formato pax moderno (POSIX.1-2001) para nuevos archivos, en lugar del anterior específico de GNU. Esto mejora la portabilidad multiplataforma con una codificación consistente (UTF-8) en un formato estandarizado y extensible, y ofrece otros varios beneficios. (Contribución de C.A.M. Gerlach en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36268">bpo-36268</a>.)</p>
</section>
<section id="threading">
<h3 class="translated">threading<a class="headerlink" href="#threading" title="Link to this heading">¶</a></h3>
<p class="translated">Se ha agregado una nueva función <a class="reference internal" href="../library/threading.html#threading.excepthook" title="threading.excepthook"><code class="xref py py-func docutils literal notranslate"><span class="pre">threading.excepthook()</span></code></a> que maneja las excepciones <a class="reference internal" href="../library/threading.html#threading.Thread.run" title="threading.Thread.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">threading.Thread.run()</span></code></a> no capturadas. Se puede anular para controlar cómo se manejan las excepciones <a class="reference internal" href="../library/threading.html#threading.Thread.run" title="threading.Thread.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">threading.Thread.run()</span></code></a> no capturadas. (Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=1230540">bpo-1230540</a>.)</p>
<p class="translated">Se han agregado una nueva función <a class="reference internal" href="../library/threading.html#threading.get_native_id" title="threading.get_native_id"><code class="xref py py-func docutils literal notranslate"><span class="pre">threading.get_native_id()</span></code></a> y un atributo <a class="reference internal" href="../library/threading.html#threading.Thread.native_id" title="threading.Thread.native_id"><code class="xref py py-data docutils literal notranslate"><span class="pre">native_id</span></code></a> a la clase <a class="reference internal" href="../library/threading.html#threading.Thread" title="threading.Thread"><code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></a>. Estos retornan el Thread ID nativo integral del hilo actual asignado por el kernel. Esta función solo está disponible en determinadas plataformas, consulta <a class="reference internal" href="../library/threading.html#threading.get_native_id" title="threading.get_native_id"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_native_id</span></code></a> para obtener más información. (Contribución de Jake Tesler en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36084">bpo-36084</a>.)</p>
</section>
<section id="tokenize">
<h3 class="translated">tokenize<a class="headerlink" href="#tokenize" title="Link to this heading">¶</a></h3>
<p class="translated">El módulo <a class="reference internal" href="../library/tokenize.html#module-tokenize" title="tokenize: Lexical scanner for Python source code."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tokenize</span></code></a> ahora emite implícitamente un token <code class="docutils literal notranslate"><span class="pre">NEWLINE</span></code> cuando se le proporciona una entrada sin una nueva línea al final. Este comportamiento ahora coincide con lo que hace internamente el tokenizador de C. (Contribución de Ammar Askar en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33899">bpo-33899</a>.)</p>
</section>
<section id="tkinter">
<h3 class="translated">tkinter<a class="headerlink" href="#tkinter" title="Link to this heading">¶</a></h3>
<p class="untranslated">Added methods <code class="xref py py-meth docutils literal notranslate"><span class="pre">selection_from()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">selection_present()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">selection_range()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">selection_to()</span></code>
in the <code class="xref py py-class docutils literal notranslate"><span class="pre">tkinter.Spinbox</span></code> class.
(Contributed by Juliette Monsel in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34829">bpo-34829</a>.)</p>
<p class="untranslated">Added method <code class="xref py py-meth docutils literal notranslate"><span class="pre">moveto()</span></code>
in the <code class="xref py py-class docutils literal notranslate"><span class="pre">tkinter.Canvas</span></code> class.
(Contributed by Juliette Monsel in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=23831">bpo-23831</a>.)</p>
<p class="untranslated">The <code class="xref py py-class docutils literal notranslate"><span class="pre">tkinter.PhotoImage</span></code> class now has
<code class="xref py py-meth docutils literal notranslate"><span class="pre">transparency_get()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">transparency_set()</span></code> methods.  (Contributed by
Zackery Spytz in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=25451">bpo-25451</a>.)</p>
</section>
<section id="time">
<h3 class="translated">time<a class="headerlink" href="#time" title="Link to this heading">¶</a></h3>
<p class="translated">Se ha agregado el nuevo reloj <a class="reference internal" href="../library/time.html#time.CLOCK_UPTIME_RAW" title="time.CLOCK_UPTIME_RAW"><code class="xref py py-const docutils literal notranslate"><span class="pre">CLOCK_UPTIME_RAW</span></code></a> para macOS 10.12. (Contribución de Joannah Nanjekye en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35702">bpo-35702</a>.)</p>
</section>
<section id="typing">
<h3 class="translated">typing<a class="headerlink" href="#typing" title="Link to this heading">¶</a></h3>
<p class="translated">Se han incorporado varias características al módulo <a class="reference internal" href="../library/typing.html#module-typing" title="typing: Support for type hints (see :pep:`484`)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">typing</span></code></a>:</p>
<ul>
<li><p class="translated">Un tipo de diccionario con tipos para cada clave. Consultar <span class="target" id="index-68"></span><a class="pep reference external" href="https://peps.python.org/pep-0589/"><strong>PEP 589</strong></a> y <a class="reference internal" href="../library/typing.html#typing.TypedDict" title="typing.TypedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.TypedDict</span></code></a>. TypedDict usa solo claves de cadenas de caracteres. De forma predeterminada, se requiere que todas las claves estén presentes. Especifica «total=False» para permitir que las claves sean opcionales:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Location</span><span class="p">(</span><span class="n">TypedDict</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">lat_long</span><span class="p">:</span> <span class="nb">tuple</span>
    <span class="n">grid_square</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">xy_coordinate</span><span class="p">:</span> <span class="nb">tuple</span>
</pre></div>
</div>
</li>
<li><p class="translated">Tipos literales. Consultar <span class="target" id="index-69"></span><a class="pep reference external" href="https://peps.python.org/pep-0586/"><strong>PEP 586</strong></a> y <a class="reference internal" href="../library/typing.html#typing.Literal" title="typing.Literal"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Literal</span></code></a>. Los tipos literales indican que un parámetro o valor de retorno está restringido a uno o más valores literales específicos:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">get_status</span><span class="p">(</span><span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;connected&#39;</span><span class="p">,</span> <span class="s1">&#39;disconnected&#39;</span><span class="p">]:</span>
    <span class="o">...</span>
</pre></div>
</div>
</li>
<li><p class="translated">Variables, funciones, métodos y clases «finales». Consultar <span class="target" id="index-70"></span><a class="pep reference external" href="https://peps.python.org/pep-0591/"><strong>PEP 591</strong></a>, <a class="reference internal" href="../library/typing.html#typing.Final" title="typing.Final"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Final</span></code></a> y <a class="reference internal" href="../library/typing.html#typing.final" title="typing.final"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.final()</span></code></a>. El clasificador final instruye a un validador estático de tipos para restringir la subclasificación, anulación o reasignación:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">pi</span><span class="p">:</span> <span class="n">Final</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.1415926536</span>
</pre></div>
</div>
</li>
<li><p class="translated">Definiciones de protocolo. Consultar <span class="target" id="index-71"></span><a class="pep reference external" href="https://peps.python.org/pep-0544/"><strong>PEP 544</strong></a>, <a class="reference internal" href="../library/typing.html#typing.Protocol" title="typing.Protocol"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Protocol</span></code></a> y <a class="reference internal" href="../library/typing.html#typing.runtime_checkable" title="typing.runtime_checkable"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.runtime_checkable()</span></code></a>. ABCs simples como <a class="reference internal" href="../library/typing.html#typing.SupportsInt" title="typing.SupportsInt"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.SupportsInt</span></code></a> ahora son subclases de <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> .</p></li>
<li><p class="translated">Nueva clase protocolo <a class="reference internal" href="../library/typing.html#typing.SupportsIndex" title="typing.SupportsIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.SupportsIndex</span></code></a>.</p></li>
<li><p class="translated">Nuevas funciones <a class="reference internal" href="../library/typing.html#typing.get_origin" title="typing.get_origin"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.get_origin()</span></code></a> y <a class="reference internal" href="../library/typing.html#typing.get_args" title="typing.get_args"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.get_args()</span></code></a>.</p></li>
</ul>
</section>
<section id="unicodedata">
<h3 class="translated">unicodedata<a class="headerlink" href="#unicodedata" title="Link to this heading">¶</a></h3>
<p class="translated">El módulo <a class="reference internal" href="../library/unicodedata.html#module-unicodedata" title="unicodedata: Access the Unicode Database."><code class="xref py py-mod docutils literal notranslate"><span class="pre">unicodedata</span></code></a> se ha actualizado para usar la versión <a class="reference external" href="https://blog.unicode.org/2019/05/unicode-12-1-en.html">Unicode 12.1.0</a>.</p>
<p class="translated">La nueva función <a class="reference internal" href="../library/unicodedata.html#unicodedata.is_normalized" title="unicodedata.is_normalized"><code class="xref py py-func docutils literal notranslate"><span class="pre">is_normalized()</span></code></a> puede usarse para verificar que una cadena está en una forma normal específica, lo que es a menudo mucho más rápido que normalizar la cadena. (Contribución de Max Belanger, David Euresti y Greg Price en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32285">bpo-32285</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37966">bpo-37966</a>).</p>
</section>
<section id="unittest">
<h3 class="translated">unittest<a class="headerlink" href="#unittest" title="Link to this heading">¶</a></h3>
<p class="translated">Se ha agregado <a class="reference internal" href="../library/unittest.mock.html#unittest.mock.AsyncMock" title="unittest.mock.AsyncMock"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncMock</span></code></a> para admitir una versión asincrónica de <a class="reference internal" href="../library/unittest.mock.html#unittest.mock.Mock" title="unittest.mock.Mock"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mock</span></code></a>. También se han agregado nuevas funciones de aserción apropiadas para las pruebas. (Contribución de Lisa Roach en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=26467">bpo-26467</a>).</p>
<p class="untranslated">Added <a class="reference internal" href="../library/unittest.html#unittest.addModuleCleanup" title="unittest.addModuleCleanup"><code class="xref py py-func docutils literal notranslate"><span class="pre">addModuleCleanup()</span></code></a> and
<a class="reference internal" href="../library/unittest.html#unittest.TestCase.addClassCleanup" title="unittest.TestCase.addClassCleanup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">addClassCleanup()</span></code></a> to unittest to support
cleanups for <a class="reference internal" href="../library/unittest.html#unittest.setUpModule" title="unittest.setUpModule"><code class="xref py py-func docutils literal notranslate"><span class="pre">setUpModule()</span></code></a> and
<a class="reference internal" href="../library/unittest.html#unittest.TestCase.setUpClass" title="unittest.TestCase.setUpClass"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setUpClass()</span></code></a>.
(Contributed by Lisa Roach in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=24412">bpo-24412</a>.)</p>
<p class="translated">Varias funciones de aserción simulada ahora también imprimen una lista de llamadas reales en caso de fallo. (Contribución de Petter Strandmark en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35047">bpo-35047</a>.)</p>
<p class="translated">El módulo <a class="reference internal" href="../library/unittest.html#module-unittest" title="unittest: Unit testing framework for Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest</span></code></a> ha obtenido soporte para corrutinas que se utilizarán como casos de prueba con <a class="reference internal" href="../library/unittest.html#unittest.IsolatedAsyncioTestCase" title="unittest.IsolatedAsyncioTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.IsolatedAsyncioTestCase</span></code></a>. (Contribución de Andrew Svetlov en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32972">bpo-32972</a>.)</p>
<p class="translated">Ejemplo:</p>
<div class="untranslated highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">unittest</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TestRequest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">IsolatedAsyncioTestCase</span><span class="p">):</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">asyncSetUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connection</span> <span class="o">=</span> <span class="k">await</span> <span class="n">AsyncConnection</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">test_get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://example.com&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">asyncTearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="venv">
<h3 class="translated">venv<a class="headerlink" href="#venv" title="Link to this heading">¶</a></h3>
<p class="translated"><a class="reference internal" href="../library/venv.html#module-venv" title="venv: Creation of virtual environments."><code class="xref py py-mod docutils literal notranslate"><span class="pre">venv</span></code></a> ahora incluye un script <code class="docutils literal notranslate"><span class="pre">Activate.ps1</span></code> en todas las plataformas para activar entornos virtuales en PowerShell Core 6.1. (Contribución de Brett Cannon en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32718">bpo-32718</a>.)</p>
</section>
<section id="weakref">
<h3 class="translated">weakref<a class="headerlink" href="#weakref" title="Link to this heading">¶</a></h3>
<p class="translated">Los objetos proxy retornados por <code class="xref py py-func docutils literal notranslate"><span class="pre">debilref.proxy()</span></code> ahora admiten los operadores de multiplicación de matrices <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> y <code class="docutils literal notranslate"><span class="pre">&#64;=</span></code>, además de los otros operadores numéricos. (Contribución de Mark Dickinson en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36669">bpo-36669</a>.)</p>
</section>
<section id="xml">
<h3 class="translated">xml<a class="headerlink" href="#xml" title="Link to this heading">¶</a></h3>
<p class="translated">Como mitigación contra DTD y recuperación de entidades externas, los módulos <a class="reference internal" href="../library/xml.dom.minidom.html#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">xml.dom.minidom</span></code></a> y <a class="reference internal" href="../library/xml.sax.html#module-xml.sax" title="xml.sax: Package containing SAX2 base classes and convenience functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">xml.sax</span></code></a> ya no procesan entidades externas de forma predeterminada. (Contribución de Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17239">bpo-17239</a>.)</p>
<p class="translated">Los métodos <code class="docutils literal notranslate"><span class="pre">.find*()</span></code> del módulo <a class="reference internal" href="../library/xml.etree.elementtree.html#module-xml.etree.ElementTree" title="xml.etree.ElementTree: Implementation of the ElementTree API."><code class="xref py py-mod docutils literal notranslate"><span class="pre">xml.etree.ElementTree</span></code></a> admiten búsquedas con comodines, como <code class="docutils literal notranslate"><span class="pre">{*}tag</span></code>, que ignora el espacio de nombres, y <code class="docutils literal notranslate"><span class="pre">{namespace}*</span></code>, que retorna todas las etiquetas en el espacio de nombres dado. (Contribución de Stefan Behnel en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=28238">bpo-28238</a>.)</p>
<p class="untranslated">The <a class="reference internal" href="../library/xml.etree.elementtree.html#module-xml.etree.ElementTree" title="xml.etree.ElementTree: Implementation of the ElementTree API."><code class="xref py py-mod docutils literal notranslate"><span class="pre">xml.etree.ElementTree</span></code></a> module provides a new function
<a class="reference internal" href="../library/xml.etree.elementtree.html#xml.etree.ElementTree.canonicalize" title="xml.etree.ElementTree.canonicalize"><code class="xref py py-func docutils literal notranslate"><span class="pre">canonicalize()</span></code></a> that implements C14N 2.0.
(Contributed by Stefan Behnel in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=13611">bpo-13611</a>.)</p>
<p class="translated">El objeto de destino de <a class="reference internal" href="../library/xml.etree.elementtree.html#xml.etree.ElementTree.XMLParser" title="xml.etree.ElementTree.XMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">xml.etree.ElementTree.XMLParser</span></code></a> puede recibir eventos de declaración de espacio de nombres a través de los nuevos métodos de retrollamada <code class="docutils literal notranslate"><span class="pre">start_ns()</span></code> y <code class="docutils literal notranslate"><span class="pre">end_ns()</span></code>. Además, el destino <a class="reference internal" href="../library/xml.etree.elementtree.html#xml.etree.ElementTree.TreeBuilder" title="xml.etree.ElementTree.TreeBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">xml.etree.ElementTree.TreeBuilder</span></code></a> se puede configurar para procesar eventos sobre comentarios e instrucciones de procesamiento para incluirlos en el árbol generado. (Contribución de Stefan Behnel en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36676">bpo-36676</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36673">bpo-36673</a>.)</p>
</section>
<section id="xmlrpc">
<h3 class="translated">xmlrpc<a class="headerlink" href="#xmlrpc" title="Link to this heading">¶</a></h3>
<p class="translated"><a class="reference internal" href="../library/xmlrpc.client.html#xmlrpc.client.ServerProxy" title="xmlrpc.client.ServerProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">xmlrpc.client.ServerProxy</span></code></a> ahora admite un argumento por palabra clave <em>headers</em> opcional para una secuencia de encabezados HTTP que se enviarán con cada solicitud. Entre otras cosas, esto permite actualizar desde la autenticación básica predeterminada a una autenticación de sesión más rápida. (Contribución de Cédric Krier en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35153">bpo-35153</a>.)</p>
</section>
</section>
<section id="optimizations">
<h2 class="translated">Optimizaciones<a class="headerlink" href="#optimizations" title="Link to this heading">¶</a></h2>
<ul>
<li><p class="translated">El módulo <a class="reference internal" href="../library/subprocess.html#module-subprocess" title="subprocess: Subprocess management."><code class="xref py py-mod docutils literal notranslate"><span class="pre">subprocess</span></code></a> ahora puede usar en ciertos casos la función <a class="reference internal" href="../library/os.html#os.posix_spawn" title="os.posix_spawn"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.posix_spawn()</span></code></a> para mejorar el rendimiento. Actualmente, solo se usa en macOS y Linux (usando glibc 2.24 o una versión más reciente) y siempre que se cumplan todas estas condiciones:</p>
<ul class="simple">
<li><p class="translated"><em>close_fds</em> es falso;</p></li>
<li><p class="translated">los parámetros <em>preexec_fn</em>, <em>pass_fds</em>, <em>cwd</em> y <em>start_new_session</em> no están establecidos;</p></li>
<li><p class="translated">la ruta <em>executable</em> contiene un directorio.</p></li>
</ul>
<p class="translated">(Contribución de Joannah Nanjekye y Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35537">bpo-35537</a>.)</p>
</li>
<li><p class="translated"><a class="reference internal" href="../library/shutil.html#shutil.copyfile" title="shutil.copyfile"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copyfile()</span></code></a>, <a class="reference internal" href="../library/shutil.html#shutil.copy" title="shutil.copy"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copy()</span></code></a>, <a class="reference internal" href="../library/shutil.html#shutil.copy2" title="shutil.copy2"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copy2()</span></code></a>, <a class="reference internal" href="../library/shutil.html#shutil.copytree" title="shutil.copytree"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copytree()</span></code></a> y <a class="reference internal" href="../library/shutil.html#shutil.move" title="shutil.move"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.move()</span></code></a> usan llamadas al sistema de «copia-rápida» específicas de la plataforma en Linux y macOS, con la finalidad de copiar ficheros más eficientemente. «copia-rápida» significa que la operación de copiado tiene lugar en el propio kernel, evitando que Python haga uso de búferes en el espacio de usuario como «<code class="docutils literal notranslate"><span class="pre">outfd.write(infd.read())</span></code>». En Windows, <a class="reference internal" href="../library/shutil.html#shutil.copyfile" title="shutil.copyfile"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copyfile()</span></code></a> usa un tamaño de búfer predeterminado más grande (1 MiB en lugar de 16 KiB) y se usa una variante de <a class="reference internal" href="../library/shutil.html#shutil.copyfileobj" title="shutil.copyfileobj"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copyfileobj()</span></code></a> basada en <a class="reference internal" href="../library/stdtypes.html#memoryview" title="memoryview"><code class="xref py py-func docutils literal notranslate"><span class="pre">memoryview()</span></code></a>. La aceleración al copiar un archivo de 512 MiB dentro de la misma partición es de aproximadamente +26% en Linux, +50% en macOS y +40% en Windows. Además, se consumen muchos menos ciclos de CPU. Consultar la sección <a class="reference internal" href="../library/shutil.html#shutil-platform-dependent-efficient-copy-operations"><span class="std std-ref">Operaciones de copia eficientes dependientes de la plataforma</span></a>. (Contribución de Giampaolo Rodolà en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33671">bpo-33671</a>.)</p></li>
<li><p class="translated">Ahora <a class="reference internal" href="../library/shutil.html#shutil.copytree" title="shutil.copytree"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copytree()</span></code></a> usa la función <a class="reference internal" href="../library/os.html#os.scandir" title="os.scandir"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.scandir()</span></code></a> y todas las funciones de copia que dependen de ella usan el valor en caché de <a class="reference internal" href="../library/os.html#os.stat" title="os.stat"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.stat()</span></code></a>. Al copiar un directorio con 8000 archivos, la mejora de velocidad es de +9% en Linux, +20% en Windows y +30% en recursos compartidos de Windows SMB. Además, el número de llamadas al sistema de <a class="reference internal" href="../library/os.html#os.stat" title="os.stat"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.stat()</span></code></a> se reduce en un 38%, lo que hace que <a class="reference internal" href="../library/shutil.html#shutil.copytree" title="shutil.copytree"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copytree()</span></code></a> sea más rápida especialmente en sistemas de archivos de red. (Contribución de Giampaolo Rodolà en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33695">bpo-33695</a>.)</p></li>
<li><p class="translated">El protocolo por defecto del módulo <a class="reference internal" href="../library/pickle.html#module-pickle" title="pickle: Convert Python objects to streams of bytes and back."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickle</span></code></a> es ahora el Protocolo 4, introducido por primera vez en Python 3.4. Ofrece un mejor desempeño y un menor tamaño, en comparación con el Protocolo 3 disponible desde Python 3.0.</p></li>
<li><p class="translated">Se eliminó un miembro <a class="reference internal" href="../c-api/intro.html#c.Py_ssize_t" title="Py_ssize_t"><code class="xref c c-type docutils literal notranslate"><span class="pre">Py_ssize_t</span></code></a> de <code class="docutils literal notranslate"><span class="pre">PyGC_Head</span></code>. El tamaño de todos los objetos rastreados de GC (por ejemplo, tupla, lista, dict) se reduce en 4 u 8 bytes. (Aportado por Inada Naoki en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33597">bpo-33597</a>.)</p></li>
<li><p class="translated">La clase <a class="reference internal" href="../library/uuid.html#uuid.UUID" title="uuid.UUID"><code class="xref py py-class docutils literal notranslate"><span class="pre">uuid.UUID</span></code></a> ahora usa <code class="docutils literal notranslate"><span class="pre">__slots__</span></code> para reducir su impacto en la memoria. (Contribución de Wouter Bolsterlee y Tal Einat en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=30977">bpo-30977</a>.)</p></li>
<li><p class="translated">Mejorado el rendimiento de <a class="reference internal" href="../library/operator.html#operator.itemgetter" title="operator.itemgetter"><code class="xref py py-func docutils literal notranslate"><span class="pre">operator.itemgetter()</span></code></a> en un 33%. Se ha optimizado el manejo de argumentos y se ha agregado una ruta rápida al caso común de índices enteros no negativos únicos en tuplas (que constituye un caso de uso común en la biblioteca estándar). (Contribución de Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35664">bpo-35664</a>.)</p></li>
<li><p class="translated">Se han acelerado las búsquedas de campos en <a class="reference internal" href="../library/collections.html#collections.namedtuple" title="collections.namedtuple"><code class="xref py py-func docutils literal notranslate"><span class="pre">collections.namedtuple()</span></code></a>. Ahora son más del doble de rápidas, lo que las convierte en la forma más rápida de búsqueda de variables de instancia en Python. (Contribución de Raymond Hettinger, Pablo Galindo, Joe Jevnik y Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32492">bpo-32492</a>.)</p></li>
<li><p class="translated">El constructor de <a class="reference internal" href="../library/stdtypes.html#list" title="list"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> no sobre-asignará el búfer del elemento interno si se conoce la longitud de la entrada iterable (es decir, si la entrada implementa <code class="docutils literal notranslate"><span class="pre">__len__</span></code>). Esto hace que la lista generada sea, en promedio, un 12% más pequeña. (Contribución de Raymond Hettinger y Pablo Galindo en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33234">bpo-33234</a>.)</p></li>
<li><p class="translated">De ha duplicado la velocidad de escritura de variables de clase. Antes, cuando se actualizaba un atributo non-dunder, había una llamada innecesaria para actualizar slots. (Contribución de Stefan Behnel, Pablo Galindo Salgado, Raymond Hettinger, Neil Schemenauer y Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36012">bpo-36012</a>.)</p></li>
<li><p class="translated">Se ha reducido la sobrecarga de conversión de argumentos pasados a muchas funciones y métodos integrados. Esto acelera la llamada a algunas funciones y métodos incorporados simples hasta un 20-50%. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=23867">bpo-23867</a>, <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35582">bpo-35582</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36127">bpo-36127</a>.)</p></li>
<li><p class="translated">La instrucción <code class="docutils literal notranslate"><span class="pre">LOAD_GLOBAL</span></code> ahora utiliza el nuevo mecanismo «per opcode cache». Ahora es aproximadamente un 40% más rápida. (Contribución de Yury Selivanov e Inada Naoki en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=26219">bpo-26219</a>.)</p></li>
</ul>
</section>
<section id="build-and-c-api-changes">
<h2 class="translated">Cambios en la compilación y la API de C<a class="headerlink" href="#build-and-c-api-changes" title="Link to this heading">¶</a></h2>
<ul>
<li><p class="translated">El valor predeterminado para <a class="reference internal" href="../library/sys.html#sys.abiflags" title="sys.abiflags"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.abiflags</span></code></a> es ahora una cadena vacía: el flag <code class="docutils literal notranslate"><span class="pre">m</span></code> para pymalloc se ha vuelto innecesario (las compilaciones con y sin pymalloc son ABI compatibles) y por lo tanto se ha eliminado. (Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36707">bpo-36707</a>.)</p>
<p class="translated">Ejemplos del cambio:</p>
<ul class="simple">
<li><p class="translated">Solo el programa <code class="docutils literal notranslate"><span class="pre">python3.8</span></code> es instalado, el programa <code class="docutils literal notranslate"><span class="pre">python3.8m</span></code> se ha eliminado.</p></li>
<li><p class="translated">Solo el script <code class="docutils literal notranslate"><span class="pre">python3.8-config</span></code> es instalado, el script <code class="docutils literal notranslate"><span class="pre">python3.8m-config</span></code> se ha eliminado.</p></li>
<li><p class="translated">El flag <code class="docutils literal notranslate"><span class="pre">m</span></code> se ha eliminado del sufijo de los nombres de archivo de las bibliotecas dinámicas: los módulos de extensión de la biblioteca estándar, así como los producidos e instalados por paquetes de terceros, como los descargados desde PyPI. En Linux, por ejemplo, el sufijo <code class="docutils literal notranslate"><span class="pre">.cpython-37m-x86_64-linux-gnu.so</span></code> en Python 3.7 se ha convertido en <code class="docutils literal notranslate"><span class="pre">.cpython-38-x86_64-linux-gnu.so</span></code> en Python 3.8.</p></li>
</ul>
</li>
<li><p class="translated">Los archivos de cabeceras se han reorganizado para separar mejor los diferentes tipos de APIs:</p>
<ul class="simple">
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">Include/*.h</span></code> debe ser la API de C portable, pública y estable.</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">Include/cpython/*.h</span></code> debe ser la API de C inestable específica de CPython. Una API pública, con alguna API privada marcada con los prefijos <code class="docutils literal notranslate"><span class="pre">_Py</span></code> o <code class="docutils literal notranslate"><span class="pre">_PY</span></code>.</p></li>
<li><p class="translated"><code class="docutils literal notranslate"><span class="pre">Include/internal/*.h</span></code> es la API de C interna privada, muy específica de CPython. Esta API no tiene retro-compatibilidad garantizada con versiones anteriores y no debe ser usada fuera de CPython. Solo está expuesta para cubrir necesidades muy específicas, como es el caso de depuradores y perfiladores, que necesitan acceder a los componentes internos de CPython sin llamar directamente a las funciones. Esta API es ahora instalada por <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code>.</p></li>
</ul>
<p class="translated">(Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35134">bpo-35134</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35081">bpo-35081</a>, trabajo iniciado por Eric Snow en Python 3.7.)</p>
</li>
<li><p class="translated">Algunas macros se han convertido a funciones inline estáticas: los tipos de los parámetros y el tipo de retorno están bien definidos, no entrañan cuestiones que precisen el uso específico de macros y las variables tienen ámbito local. Algunos ejemplos:</p>
<ul class="simple">
<li><p class="translated"><a class="reference internal" href="../c-api/refcounting.html#c.Py_INCREF" title="Py_INCREF"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_INCREF()</span></code></a>, <a class="reference internal" href="../c-api/refcounting.html#c.Py_DECREF" title="Py_DECREF"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_DECREF()</span></code></a></p></li>
<li><p class="translated"><a class="reference internal" href="../c-api/refcounting.html#c.Py_XINCREF" title="Py_XINCREF"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_XINCREF()</span></code></a>, <a class="reference internal" href="../c-api/refcounting.html#c.Py_XDECREF" title="Py_XDECREF"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_XDECREF()</span></code></a></p></li>
<li><p class="untranslated"><code class="xref c c-macro docutils literal notranslate"><span class="pre">PyObject_INIT</span></code>, <code class="xref c c-macro docutils literal notranslate"><span class="pre">PyObject_INIT_VAR</span></code></p></li>
<li><p class="translated">Funciones privadas: <code class="xref c c-func docutils literal notranslate"><span class="pre">_PyObject_GC_TRACK()</span></code>, <code class="xref c c-func docutils literal notranslate"><span class="pre">_PyObject_GC_UNTRACK()</span></code>, <code class="xref c c-func docutils literal notranslate"><span class="pre">_Py_Dealloc()</span></code></p></li>
</ul>
<p class="translated">(Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35059">bpo-35059</a>.)</p>
</li>
<li><p class="translated">Las funciones <code class="xref c c-func docutils literal notranslate"><span class="pre">PyByteArray_Init()</span></code> y <code class="xref c c-func docutils literal notranslate"><span class="pre">PyByteArray_Fini()</span></code> se han eliminado. No eran de utilidad desde Python 2.7.4 y Python 3.2.0, cuando fueron excluidas de la API limitada (ABI estable) y dejaron de estar documentadas. (Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35713">bpo-35713</a>.)</p></li>
<li><p class="translated">El resultado de <a class="reference internal" href="../c-api/exceptions.html#c.PyExceptionClass_Name" title="PyExceptionClass_Name"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyExceptionClass_Name()</span></code></a> es ahora de tipo <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*</span></code> en vez de <code class="docutils literal notranslate"><span class="pre">char</span> <span class="pre">*</span></code>. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33818">bpo-33818</a>.)</p></li>
<li><p class="translated">La dualidad conformada por <code class="docutils literal notranslate"><span class="pre">Modules/Setup.dist</span></code> y <code class="docutils literal notranslate"><span class="pre">Modules/Setup</span></code> ha sido eliminada. Anteriormente, al actualizar el árbol de fuentes de CPython, se tenía que copiar manualmente <code class="docutils literal notranslate"><span class="pre">Modules/Setup.dist</span></code> (dentro del árbol de fuentes) a <code class="docutils literal notranslate"><span class="pre">Modules/Setup</span></code> (dentro del árbol de compilación) para reflejar cualquier cambio en sentido ascendente. Esto suponía un pequeño beneficio para los empaquetadores, a expensas de una frecuente molestia para los desarrolladores de CPython, ya que olvidarse de copiar el archivo podía ocasionar fallos de compilación.</p>
<p class="translated">Ahora el sistema de compilación siempre lee desde <code class="docutils literal notranslate"><span class="pre">Modules/Setup</span></code> dentro del árbol de fuentes. Se recomienda a las personas que deseen personalizar este archivo que mantengan sus cambios en un fork de git de CPython o como archivos de parche, como harían con cualquier otro cambio en el árbol de fuentes.</p>
<p class="translated">(Contribución de Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32430">bpo-32430</a>.)</p>
</li>
<li><p class="translated">Las funciones que convierten un número de Python a un entero de C, como <a class="reference internal" href="../c-api/long.html#c.PyLong_AsLong" title="PyLong_AsLong"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyLong_AsLong()</span></code></a>, y las funciones de análisis de argumentos como <a class="reference internal" href="../c-api/arg.html#c.PyArg_ParseTuple" title="PyArg_ParseTuple"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyArg_ParseTuple()</span></code></a> con unidades de formato de conversión de enteros como <code class="docutils literal notranslate"><span class="pre">'i'</span></code>, ahora usarán el método especial <a class="reference internal" href="../reference/datamodel.html#object.__index__" title="object.__index__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__index__()</span></code></a> si está disponible, en lugar de <a class="reference internal" href="../reference/datamodel.html#object.__int__" title="object.__int__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__int__()</span></code></a>. Una advertencia de deprecación se emitirá para aquellos objetos que tengan el método <code class="docutils literal notranslate"><span class="pre">__int__()</span></code> pero no el método <code class="docutils literal notranslate"><span class="pre">__index__()</span></code> (como <a class="reference internal" href="../library/decimal.html#decimal.Decimal" title="decimal.Decimal"><code class="xref py py-class docutils literal notranslate"><span class="pre">Decimal</span></code></a> y <a class="reference internal" href="../library/fractions.html#fractions.Fraction" title="fractions.Fraction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fraction</span></code></a>). <a class="reference internal" href="../c-api/number.html#c.PyNumber_Check" title="PyNumber_Check"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyNumber_Check()</span></code></a> ahora retornará <code class="docutils literal notranslate"><span class="pre">1</span></code> para los objetos que implementen <code class="docutils literal notranslate"><span class="pre">__index__()</span></code>. <a class="reference internal" href="../c-api/number.html#c.PyNumber_Long" title="PyNumber_Long"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyNumber_Long()</span></code></a>, <a class="reference internal" href="../c-api/number.html#c.PyNumber_Float" title="PyNumber_Float"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyNumber_Float()</span></code></a> y <a class="reference internal" href="../c-api/float.html#c.PyFloat_AsDouble" title="PyFloat_AsDouble"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyFloat_AsDouble()</span></code></a> ahora también usan el método <code class="docutils literal notranslate"><span class="pre">__index__()</span></code> si está disponible. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36048">bpo-36048</a> y <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=20092">bpo-20092</a>.)</p></li>
<li><p class="translated">Los objetos de tipo asignados al montículo ahora aumentarán su recuento de referencias en <a class="reference internal" href="../c-api/allocation.html#c.PyObject_Init" title="PyObject_Init"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_Init()</span></code></a> (y en su macro paralela <code class="docutils literal notranslate"><span class="pre">PyObject_INIT</span></code>) en lugar de en <a class="reference internal" href="../c-api/type.html#c.PyType_GenericAlloc" title="PyType_GenericAlloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyType_GenericAlloc()</span></code></a>. Es posible que deban ajustarse los tipos que modifican la asignación o desasignación de instancias. (Contribución de Eddie Elizondo en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35810">bpo-35810</a>.)</p></li>
<li><p class="untranslated">The new function <code class="xref c c-func docutils literal notranslate"><span class="pre">PyCode_NewWithPosOnlyArgs()</span></code> allows to create
code objects like <code class="xref c c-func docutils literal notranslate"><span class="pre">PyCode_New()</span></code>, but with an extra <em>posonlyargcount</em>
parameter for indicating the number of positional-only arguments.
(Contributed by Pablo Galindo in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37221">bpo-37221</a>.)</p></li>
<li><p class="untranslated"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_SetPath()</span></code> now sets <a class="reference internal" href="../library/sys.html#sys.executable" title="sys.executable"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.executable</span></code></a> to the program full
path (<code class="xref c c-func docutils literal notranslate"><span class="pre">Py_GetProgramFullPath()</span></code>) rather than to the program name
(<code class="xref c c-func docutils literal notranslate"><span class="pre">Py_GetProgramName()</span></code>).
(Contributed by Victor Stinner in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=38234">bpo-38234</a>.)</p></li>
</ul>
</section>
<section id="deprecated">
<h2 class="translated">Obsoleto<a class="headerlink" href="#deprecated" title="Link to this heading">¶</a></h2>
<ul>
<li><p class="translated">El comando <code class="docutils literal notranslate"><span class="pre">bdist_wininst</span></code> de distutils está ahora obsoleto, usar <code class="docutils literal notranslate"><span class="pre">bdist_wheel</span></code> (paquetes wheel) en su lugar. (Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37481">bpo-37481</a>.)</p></li>
<li><p class="translated">Los métodos <code class="docutils literal notranslate"><span class="pre">getchildren()</span></code> y <code class="docutils literal notranslate"><span class="pre">getiterator()</span></code> del módulo <a class="reference internal" href="../library/xml.etree.elementtree.html#module-xml.etree.ElementTree" title="xml.etree.ElementTree: Implementation of the ElementTree API."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ElementTree</span></code></a> ahora emiten una advertencia <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a>, en lugar de <a class="reference internal" href="../library/exceptions.html#PendingDeprecationWarning" title="PendingDeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PendingDeprecationWarning</span></code></a>. Serán eliminados en Python 3.9. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=29209">bpo-29209</a>.)</p></li>
<li><p class="translated">Pasar un objeto a <a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.loop.set_default_executor" title="asyncio.loop.set_default_executor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">loop.set_default_executor()</span></code></a> que no sea una instancia de <a class="reference internal" href="../library/concurrent.futures.html#concurrent.futures.ThreadPoolExecutor" title="concurrent.futures.ThreadPoolExecutor"><code class="xref py py-class docutils literal notranslate"><span class="pre">concurrent.futures.ThreadPoolExecutor</span></code></a> está obsoleto y será prohibido en Python 3.9. (Contribución de Elvis Pranskevichus en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34075">bpo-34075</a>.)</p></li>
<li><p class="untranslated">The <a class="reference internal" href="../reference/datamodel.html#object.__getitem__" title="object.__getitem__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code></a> methods of <a class="reference internal" href="../library/xml.dom.pulldom.html#xml.dom.pulldom.DOMEventStream" title="xml.dom.pulldom.DOMEventStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">xml.dom.pulldom.DOMEventStream</span></code></a>,
<a class="reference internal" href="../library/wsgiref.html#wsgiref.util.FileWrapper" title="wsgiref.util.FileWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">wsgiref.util.FileWrapper</span></code></a> and <a class="reference internal" href="../library/fileinput.html#fileinput.FileInput" title="fileinput.FileInput"><code class="xref py py-class docutils literal notranslate"><span class="pre">fileinput.FileInput</span></code></a> have been
deprecated.</p>
<p class="translated">Las implementaciones de estos métodos han estado ignorando su parámetro <em>index</em> y retornando el siguiente item en su lugar. (Contribución de Berker Peksag en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=9372">bpo-9372</a>.)</p>
</li>
<li><p class="translated">El atributo <code class="docutils literal notranslate"><span class="pre">_field_types</span></code> de la clase <a class="reference internal" href="../library/typing.html#typing.NamedTuple" title="typing.NamedTuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.NamedTuple</span></code></a> está ahora obsoleto en favor del atributo <code class="docutils literal notranslate"><span class="pre">__annotations__</span></code>, que contiene la misma información. (Contribución de Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36320">bpo-36320</a>.)</p></li>
<li><p class="translated">Las clases <code class="docutils literal notranslate"><span class="pre">Num</span></code>, <code class="docutils literal notranslate"><span class="pre">Str</span></code>, <code class="docutils literal notranslate"><span class="pre">Bytes</span></code>, <code class="docutils literal notranslate"><span class="pre">NameConstant</span></code> y <code class="docutils literal notranslate"><span class="pre">Ellipsis</span></code> del módulo <a class="reference internal" href="../library/ast.html#module-ast" title="ast: Abstract Syntax Tree classes and manipulation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a> están consideradas obsoletas y serán eliminadas en versiones futuras de Python. La clase <a class="reference internal" href="../library/ast.html#ast.Constant" title="ast.Constant"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constant</span></code></a> debe ser usada en su lugar. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32892">bpo-32892</a>.)</p></li>
<li><p class="translated">Los métodos <code class="docutils literal notranslate"><span class="pre">visit_Num()</span></code>, <code class="docutils literal notranslate"><span class="pre">visit_Str()</span></code>, <code class="docutils literal notranslate"><span class="pre">visit_Bytes()</span></code>, <code class="docutils literal notranslate"><span class="pre">visit_NameConstant()</span></code> y <code class="docutils literal notranslate"><span class="pre">visit_Ellipsis()</span></code> de la clase <a class="reference internal" href="../library/ast.html#ast.NodeVisitor" title="ast.NodeVisitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.NodeVisitor</span></code></a> están obsoletos ahora y serán invocados en versiones futuras de Python. Agregar el método <a class="reference internal" href="../library/ast.html#ast.NodeVisitor.visit_Constant" title="ast.NodeVisitor.visit_Constant"><code class="xref py py-meth docutils literal notranslate"><span class="pre">visit_Constant()</span></code></a> para manejar todos los nodos constantes. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36917">bpo-36917</a>.)</p></li>
<li><p class="untranslated">The <code class="xref py py-deco docutils literal notranslate"><span class="pre">&#64;asyncio.coroutine</span></code> <a class="reference internal" href="../glossary.html#term-decorator"><span class="xref std std-term">decorator</span></a> is deprecated and will be
removed in version 3.10.  Instead of <code class="docutils literal notranslate"><span class="pre">&#64;asyncio.coroutine</span></code>, use
<a class="reference internal" href="../reference/compound_stmts.html#async-def"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">async</span> <span class="pre">def</span></code></a> instead.
(Contributed by Andrew Svetlov in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36921">bpo-36921</a>.)</p></li>
<li><p class="translated">En <a class="reference internal" href="../library/asyncio.html#module-asyncio" title="asyncio: Asynchronous I/O."><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncio</span></code></a>, pasar un argumento <em>loop</em> de forma explícita está ahora obsoleto y será eliminado en Python 3.10 para las siguientes funciones y constructores: <a class="reference internal" href="../library/asyncio-task.html#asyncio.sleep" title="asyncio.sleep"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.sleep()</span></code></a>, <a class="reference internal" href="../library/asyncio-task.html#asyncio.gather" title="asyncio.gather"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.gather()</span></code></a>, <a class="reference internal" href="../library/asyncio-task.html#asyncio.shield" title="asyncio.shield"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.shield()</span></code></a>, <a class="reference internal" href="../library/asyncio-task.html#asyncio.wait_for" title="asyncio.wait_for"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.wait_for()</span></code></a>, <a class="reference internal" href="../library/asyncio-task.html#asyncio.wait" title="asyncio.wait"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.wait()</span></code></a>, <a class="reference internal" href="../library/asyncio-task.html#asyncio.as_completed" title="asyncio.as_completed"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.as_completed()</span></code></a>, <a class="reference internal" href="../library/asyncio-task.html#asyncio.Task" title="asyncio.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.Task</span></code></a>, <a class="reference internal" href="../library/asyncio-sync.html#asyncio.Lock" title="asyncio.Lock"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.Lock</span></code></a>, <a class="reference internal" href="../library/asyncio-sync.html#asyncio.Event" title="asyncio.Event"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.Event</span></code></a>, <a class="reference internal" href="../library/asyncio-sync.html#asyncio.Condition" title="asyncio.Condition"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.Condition</span></code></a>, <a class="reference internal" href="../library/asyncio-sync.html#asyncio.Semaphore" title="asyncio.Semaphore"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.Semaphore</span></code></a>, <a class="reference internal" href="../library/asyncio-sync.html#asyncio.BoundedSemaphore" title="asyncio.BoundedSemaphore"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.BoundedSemaphore</span></code></a>, <a class="reference internal" href="../library/asyncio-queue.html#asyncio.Queue" title="asyncio.Queue"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.Queue</span></code></a>, <a class="reference internal" href="../library/asyncio-subprocess.html#asyncio.create_subprocess_exec" title="asyncio.create_subprocess_exec"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.create_subprocess_exec()</span></code></a> y <a class="reference internal" href="../library/asyncio-subprocess.html#asyncio.create_subprocess_shell" title="asyncio.create_subprocess_shell"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.create_subprocess_shell()</span></code></a>.</p></li>
<li><p class="translated">El paso explícito de objetos corrutina a <a class="reference internal" href="../library/asyncio-task.html#asyncio.wait" title="asyncio.wait"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.wait()</span></code></a> está ahora obsoleto y será eliminado en Python 3.11. (Contribución de Yury Selivanov en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34790">bpo-34790</a>.)</p></li>
<li><p class="untranslated">The following functions and methods are deprecated in the <a class="reference internal" href="../library/gettext.html#module-gettext" title="gettext: Multilingual internationalization services."><code class="xref py py-mod docutils literal notranslate"><span class="pre">gettext</span></code></a>
module: <code class="xref py py-func docutils literal notranslate"><span class="pre">lgettext()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">ldgettext()</span></code>,
<code class="xref py py-func docutils literal notranslate"><span class="pre">lngettext()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">ldngettext()</span></code>.
They return encoded bytes, and it’s possible that you will get unexpected
Unicode-related exceptions if there are encoding problems with the
translated strings. It’s much better to use alternatives which return
Unicode strings in Python 3. These functions have been broken for a long time.</p>
<p class="untranslated">Function <code class="xref py py-func docutils literal notranslate"><span class="pre">bind_textdomain_codeset()</span></code>, methods
<code class="xref py py-meth docutils literal notranslate"><span class="pre">NullTranslations.output_charset()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">NullTranslations.set_output_charset()</span></code>, and the <em>codeset</em>
parameter of functions <a class="reference internal" href="../library/gettext.html#gettext.translation" title="gettext.translation"><code class="xref py py-func docutils literal notranslate"><span class="pre">translation()</span></code></a> and
<a class="reference internal" href="../library/gettext.html#gettext.install" title="gettext.install"><code class="xref py py-func docutils literal notranslate"><span class="pre">install()</span></code></a> are also deprecated, since they are only used for
the <code class="docutils literal notranslate"><span class="pre">l*gettext()</span></code> functions.
(Contributed by Serhiy Storchaka in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33710">bpo-33710</a>.)</p>
</li>
<li><p class="untranslated">The <code class="xref py py-meth docutils literal notranslate"><span class="pre">isAlive()</span></code> method of <a class="reference internal" href="../library/threading.html#threading.Thread" title="threading.Thread"><code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></a>
has been deprecated.
(Contributed by Donghee Na in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35283">bpo-35283</a>.)</p></li>
<li><p class="translated">Muchas funciones incorporadas y de extensión que toman argumentos enteros ahora emitirán una advertencia de deprecación para <a class="reference internal" href="../library/decimal.html#decimal.Decimal" title="decimal.Decimal"><code class="xref py py-class docutils literal notranslate"><span class="pre">Decimal</span></code></a>s, <a class="reference internal" href="../library/fractions.html#fractions.Fraction" title="fractions.Fraction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fraction</span></code></a>s y cualquier otro objeto que se pueda convertir a enteros solamente con pérdida (por ejemplo, aquellos que tienen el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__int__()</span></code> pero no el método <code class="xref py py-meth docutils literal notranslate"><span class="pre">__index__()</span></code>). En una versión futura, esto constituirá un error. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36048">bpo-36048</a>.)</p></li>
<li><p class="translated">El paso de los siguientes argumentos como argumentos por palabra clave está ahora obsoleto:</p>
<ul class="simple">
<li><p class="untranslated"><em>func</em> in <a class="reference internal" href="../library/functools.html#functools.partialmethod" title="functools.partialmethod"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.partialmethod()</span></code></a>, <a class="reference internal" href="../library/weakref.html#weakref.finalize" title="weakref.finalize"><code class="xref py py-func docutils literal notranslate"><span class="pre">weakref.finalize()</span></code></a>,
<a class="reference internal" href="../library/profile.html#profile.Profile.runcall" title="profile.Profile.runcall"><code class="xref py py-meth docutils literal notranslate"><span class="pre">profile.Profile.runcall()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">cProfile.Profile.runcall()</span></code>,
<a class="reference internal" href="../library/bdb.html#bdb.Bdb.runcall" title="bdb.Bdb.runcall"><code class="xref py py-meth docutils literal notranslate"><span class="pre">bdb.Bdb.runcall()</span></code></a>, <a class="reference internal" href="../library/trace.html#trace.Trace.runfunc" title="trace.Trace.runfunc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">trace.Trace.runfunc()</span></code></a> and
<a class="reference internal" href="../library/curses.html#curses.wrapper" title="curses.wrapper"><code class="xref py py-func docutils literal notranslate"><span class="pre">curses.wrapper()</span></code></a>.</p></li>
<li><p class="translated"><em>function</em> en <a class="reference internal" href="../library/unittest.html#unittest.TestCase.addCleanup" title="unittest.TestCase.addCleanup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unittest.TestCase.addCleanup()</span></code></a>.</p></li>
<li><p class="translated"><em>fn</em> en el método <a class="reference internal" href="../library/concurrent.futures.html#concurrent.futures.Executor.submit" title="concurrent.futures.Executor.submit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">submit()</span></code></a> de las clases <a class="reference internal" href="../library/concurrent.futures.html#concurrent.futures.ThreadPoolExecutor" title="concurrent.futures.ThreadPoolExecutor"><code class="xref py py-class docutils literal notranslate"><span class="pre">concurrent.futures.ThreadPoolExecutor</span></code></a> y <a class="reference internal" href="../library/concurrent.futures.html#concurrent.futures.ProcessPoolExecutor" title="concurrent.futures.ProcessPoolExecutor"><code class="xref py py-class docutils literal notranslate"><span class="pre">concurrent.futures.ProcessPoolExecutor</span></code></a>.</p></li>
<li><p class="untranslated"><em>callback</em> in <a class="reference internal" href="../library/contextlib.html#contextlib.ExitStack.callback" title="contextlib.ExitStack.callback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">contextlib.ExitStack.callback()</span></code></a>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">contextlib.AsyncExitStack.callback()</span></code> and
<a class="reference internal" href="../library/contextlib.html#contextlib.AsyncExitStack.push_async_callback" title="contextlib.AsyncExitStack.push_async_callback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">contextlib.AsyncExitStack.push_async_callback()</span></code></a>.</p></li>
<li><p class="untranslated"><em>c</em> and <em>typeid</em> in the <code class="xref py py-meth docutils literal notranslate"><span class="pre">create()</span></code>
method of <code class="xref py py-class docutils literal notranslate"><span class="pre">multiprocessing.managers.Server</span></code> and
<code class="xref py py-class docutils literal notranslate"><span class="pre">multiprocessing.managers.SharedMemoryServer</span></code>.</p></li>
<li><p class="translated"><em>obj</em> en <a class="reference internal" href="../library/weakref.html#weakref.finalize" title="weakref.finalize"><code class="xref py py-func docutils literal notranslate"><span class="pre">weakref.finalize()</span></code></a>.</p></li>
</ul>
<p class="translated">En futuros lanzamientos de Python, todos ellos serán <a class="reference internal" href="../glossary.html#positional-only-parameter"><span class="std std-ref">argumentos solo posicionales</span></a>. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36492">bpo-36492</a>.)</p>
</li>
</ul>
</section>
<section id="api-and-feature-removals">
<h2 class="translated">APIs y características eliminadas<a class="headerlink" href="#api-and-feature-removals" title="Link to this heading">¶</a></h2>
<p class="translated">Las siguientes características y APIs se han eliminado de Python 3.8:</p>
<ul class="simple">
<li><p class="untranslated">Starting with Python 3.3, importing ABCs from <a class="reference internal" href="../library/collections.html#module-collections" title="collections: Container datatypes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code></a> was
deprecated, and importing should be done from <a class="reference internal" href="../library/collections.abc.html#module-collections.abc" title="collections.abc: Abstract base classes for containers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections.abc</span></code></a>. Being
able to import from collections was marked for removal in 3.8, but has been
delayed to 3.9. (See <a class="reference external" href="https://github.com/python/cpython/issues/81134">gh-81134</a>.)</p></li>
<li><p class="untranslated">The <code class="xref py py-mod docutils literal notranslate"><span class="pre">macpath</span></code> module, deprecated in Python 3.7, has been removed.
(Contributed by Victor Stinner in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35471">bpo-35471</a>.)</p></li>
<li><p class="untranslated">The function <code class="xref py py-func docutils literal notranslate"><span class="pre">platform.popen()</span></code> has been removed, after having been
deprecated since Python 3.3: use <a class="reference internal" href="../library/os.html#os.popen" title="os.popen"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.popen()</span></code></a> instead.
(Contributed by Victor Stinner in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35345">bpo-35345</a>.)</p></li>
<li><p class="untranslated">The function <code class="xref py py-func docutils literal notranslate"><span class="pre">time.clock()</span></code> has been removed, after having been
deprecated since Python 3.3: use <a class="reference internal" href="../library/time.html#time.perf_counter" title="time.perf_counter"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.perf_counter()</span></code></a> or
<a class="reference internal" href="../library/time.html#time.process_time" title="time.process_time"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.process_time()</span></code></a> instead, depending
on your requirements, to have well-defined behavior.
(Contributed by Matthias Bussonnier in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36895">bpo-36895</a>.)</p></li>
<li><p class="translated">El script <code class="docutils literal notranslate"><span class="pre">pyvenv</span></code> se ha eliminado, en favor de <code class="docutils literal notranslate"><span class="pre">python3.8</span> <span class="pre">-m</span> <span class="pre">venv</span></code>, para ayudar a eliminar la confusión sobre a qué intérprete de Python está vinculado el script <code class="docutils literal notranslate"><span class="pre">pyvenv</span></code>. (Contribución de Brett Cannon en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=25427">bpo-25427</a>.)</p></li>
<li><p class="untranslated"><code class="docutils literal notranslate"><span class="pre">parse_qs</span></code>, <code class="docutils literal notranslate"><span class="pre">parse_qsl</span></code>, and <code class="docutils literal notranslate"><span class="pre">escape</span></code> are removed from the <code class="xref py py-mod docutils literal notranslate"><span class="pre">cgi</span></code>
module.  They are deprecated in Python 3.2 or older. They should be imported
from the <code class="docutils literal notranslate"><span class="pre">urllib.parse</span></code> and <code class="docutils literal notranslate"><span class="pre">html</span></code> modules instead.</p></li>
<li><p class="translated">La función <code class="docutils literal notranslate"><span class="pre">filemode</span></code> se ha eliminado del módulo <a class="reference internal" href="../library/tarfile.html#module-tarfile" title="tarfile: Read and write tar-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tarfile</span></code></a>. Estaba indocumentada y obsoleta desde Python 3.3.</p></li>
<li><p class="translated">El constructor de <a class="reference internal" href="../library/xml.etree.elementtree.html#xml.etree.ElementTree.XMLParser" title="xml.etree.ElementTree.XMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">XMLParser</span></code></a> ya no acepta el argumento <em>html</em>. Nunca tuvo efecto y quedó obsoleto en Python 3.4. Todos los demás parámetros son ahora <a class="reference internal" href="../glossary.html#keyword-only-parameter"><span class="std std-ref">parámetros solo nombrados</span></a>. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=29209">bpo-29209</a>.)</p></li>
<li><p class="translated">Se ha eliminado el método <code class="docutils literal notranslate"><span class="pre">doctype()</span></code> de <a class="reference internal" href="../library/xml.etree.elementtree.html#xml.etree.ElementTree.XMLParser" title="xml.etree.ElementTree.XMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">XMLParser</span></code></a>. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=29209">bpo-29209</a>.)</p></li>
<li><p class="translated">Se ha elimina el códec «unicode_internal». (Contribución de Inada Naoki en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36297">bpo-36297</a>.)</p></li>
<li><p class="translated">Los objetos <code class="docutils literal notranslate"><span class="pre">Cache</span></code> y <code class="docutils literal notranslate"><span class="pre">Statement</span></code> del módulo <a class="reference internal" href="../library/sqlite3.html#module-sqlite3" title="sqlite3: A DB-API 2.0 implementation using SQLite 3.x."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sqlite3</span></code></a> no estarán expuestos al usuario a partir de ahora. (Contribución de Aviv Palivoda en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=30262">bpo-30262</a>.)</p></li>
<li><p class="translated">El argumento por palabra clave <code class="docutils literal notranslate"><span class="pre">bufsize</span></code> de <a class="reference internal" href="../library/fileinput.html#fileinput.input" title="fileinput.input"><code class="xref py py-func docutils literal notranslate"><span class="pre">fileinput.input()</span></code></a> y <a class="reference internal" href="../library/fileinput.html#fileinput.FileInput" title="fileinput.FileInput"><code class="xref py py-func docutils literal notranslate"><span class="pre">fileinput.FileInput()</span></code></a>, marcado como obsoleto e ignorado desde Python 3.6, ha sido eliminado. <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36952">bpo-36952</a> (Contribución de Matthias Bussonnier.)</p></li>
<li><p class="untranslated">The functions <code class="xref py py-func docutils literal notranslate"><span class="pre">sys.set_coroutine_wrapper()</span></code> and
<code class="xref py py-func docutils literal notranslate"><span class="pre">sys.get_coroutine_wrapper()</span></code> deprecated in Python 3.7 have been removed;
<a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36933">bpo-36933</a> (Contributed by Matthias Bussonnier.)</p></li>
</ul>
</section>
<section id="porting-to-python-3-8">
<h2 class="translated">Portando a Python 3.8<a class="headerlink" href="#porting-to-python-3-8" title="Link to this heading">¶</a></h2>
<p class="translated">Esta sección enumera los cambios descritos anteriormente y otras correcciones de errores que pueden requerir cambios en tu código.</p>
<section id="changes-in-python-behavior">
<h3 class="translated">Cambios en el comportamiento de Python<a class="headerlink" href="#changes-in-python-behavior" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p class="translated">Las expresiones yield (tanto la cláusula <code class="docutils literal notranslate"><span class="pre">yield</span></code> como la cláusula <code class="docutils literal notranslate"><span class="pre">yield</span> <span class="pre">from</span></code>) ahora no están permitidas en comprensiones y expresiones generadoras (excepto en la expresión iterable en la cláusula <code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code> situada más a la izquierda). (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=10544">bpo-10544</a>.)</p></li>
<li><p class="translated">El compilador ahora produce una advertencia <a class="reference internal" href="../library/exceptions.html#SyntaxWarning" title="SyntaxWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a> cuando se utilizan comprobaciones de identidad (<code class="docutils literal notranslate"><span class="pre">is</span></code> e <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">not</span></code>) con ciertos tipos de literales (por ejemplo, cadenas, números). A menudo, estas pueden funcionar accidentalmente en CPython, pero no está garantizado por las especificaciones del lenguaje. La advertencia advierte a los usuarios que utilicen pruebas de igualdad (<code class="docutils literal notranslate"><span class="pre">==</span></code> y <code class="docutils literal notranslate"><span class="pre">!=</span></code>) en su lugar. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34850">bpo-34850</a>.)</p></li>
<li><p class="translated">El intérprete de CPython puede tolerar excepciones en algunas circunstancias. En Python 3.8 esto sucederá con menos frecuencia. En particular, las excepciones que se generan al obtener atributos del diccionario de tipos ya no son ignoradas. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35459">bpo-35459</a>.)</p></li>
<li><p class="translated">Se ha eliminado las implementaciones de <code class="docutils literal notranslate"><span class="pre">__str__</span></code> para los tipos incorporados <a class="reference internal" href="../library/functions.html#bool" title="bool"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>, <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference internal" href="../library/functions.html#float" title="float"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>, <a class="reference internal" href="../library/functions.html#complex" title="complex"><code class="xref py py-class docutils literal notranslate"><span class="pre">complex</span></code></a> y algunas clases de la biblioteca estándar. Ahora heredan el método <code class="docutils literal notranslate"><span class="pre">__str__()</span></code> de <a class="reference internal" href="../library/functions.html#object" title="object"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a>. Como resultado, definir el método <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code> en una subclase de estas clases afectará a su representación como cadena de caracteres. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36793">bpo-36793</a>.)</p></li>
<li><p class="translated">En AIX, el atributo <a class="reference internal" href="../library/sys.html#sys.platform" title="sys.platform"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.platform</span></code></a> ya no contiene la versión principal. Es decir, siempre es <code class="docutils literal notranslate"><span class="pre">'aix'</span></code>, en lugar de <code class="docutils literal notranslate"><span class="pre">'aix3'</span></code> .. <code class="docutils literal notranslate"><span class="pre">'aix7'</span></code>. Dado que las versiones anteriores de Python incluyen el número de versión, se recomienda usar siempre <code class="docutils literal notranslate"><span class="pre">sys.platform.startswith('aix')</span></code>. (Contribución de M. Felt en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36588">bpo-36588</a>.)</p></li>
<li><p class="translated"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyEval_AcquireLock()</span></code> y <code class="xref c c-func docutils literal notranslate"><span class="pre">PyEval_AcquireThread()</span></code> ahora terminan el hilo actual si se llaman mientras el intérprete está finalizando, haciéndolos consistentes con <a class="reference internal" href="../c-api/init.html#c.PyEval_RestoreThread" title="PyEval_RestoreThread"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyEval_RestoreThread()</span></code></a>, <a class="reference internal" href="../c-api/init.html#c.Py_END_ALLOW_THREADS" title="Py_END_ALLOW_THREADS"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_END_ALLOW_THREADS()</span></code></a> y <a class="reference internal" href="../c-api/init.html#c.PyGILState_Ensure" title="PyGILState_Ensure"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyGILState_Ensure()</span></code></a>. Si no se desea este comportamiento, se tiene que proteger la invocación comprobando <code class="xref c c-func docutils literal notranslate"><span class="pre">_Py_IsFinalizing()</span></code> o <code class="xref c c-func docutils literal notranslate"><span class="pre">sys.is_finalizing()</span></code>. (Contribución de Joannah Nanjekye en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36475">bpo-36475</a>.)</p></li>
</ul>
</section>
<section id="changes-in-the-python-api">
<h3 class="translated">Cambios en la API de Python<a class="headerlink" href="#changes-in-the-python-api" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p class="translated">La función <a class="reference internal" href="../library/os.html#os.getcwdb" title="os.getcwdb"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.getcwdb()</span></code></a> ahora usa la codificación UTF-8 en Windows, en lugar de la página de códigos ANSI: consultar <span class="target" id="index-72"></span><a class="pep reference external" href="https://peps.python.org/pep-0529/"><strong>PEP 529</strong></a> para el fundamento. La función ya no está obsoleta en Windows. (Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37412">bpo-37412</a>.)</p></li>
<li><p class="untranslated"><a class="reference internal" href="../library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">subprocess.Popen</span></code></a> can now use <a class="reference internal" href="../library/os.html#os.posix_spawn" title="os.posix_spawn"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.posix_spawn()</span></code></a> in some cases
for better performance. On Windows Subsystem for Linux and QEMU User
Emulation, the <a class="reference internal" href="../library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">Popen</span></code></a> constructor using
<a class="reference internal" href="../library/os.html#os.posix_spawn" title="os.posix_spawn"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.posix_spawn()</span></code></a> no longer raises an exception on errors like
«missing program».  Instead the child process fails with a
non-zero <a class="reference internal" href="../library/subprocess.html#subprocess.Popen.returncode" title="subprocess.Popen.returncode"><code class="xref py py-attr docutils literal notranslate"><span class="pre">returncode</span></code></a>.
(Contributed by Joannah Nanjekye and Victor Stinner in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35537">bpo-35537</a>.)</p></li>
<li><p class="translated">El argumento <em>preexec_fn</em> de <a class="reference internal" href="../library/subprocess.html#subprocess.Popen" title="subprocess.Popen"><code class="xref py py-class docutils literal notranslate"><span class="pre">subprocess.Popen</span></code></a> ya no es compatible con subintérpretes. El uso del parámetro en un subintérprete ahora lanza una excepción <a class="reference internal" href="../library/exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a>. (Contribución de Eric Snow en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34651">bpo-34651</a>, modificado por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37951">bpo-37951</a>.)</p></li>
<li><p class="untranslated">The <a class="reference internal" href="../library/imaplib.html#imaplib.IMAP4.logout" title="imaplib.IMAP4.logout"><code class="xref py py-meth docutils literal notranslate"><span class="pre">imaplib.IMAP4.logout()</span></code></a> method no longer silently ignores arbitrary
exceptions.
(Contributed by Victor Stinner in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36348">bpo-36348</a>.)</p></li>
<li><p class="untranslated">The function <code class="xref py py-func docutils literal notranslate"><span class="pre">platform.popen()</span></code> has been removed, after having been deprecated since
Python 3.3: use <a class="reference internal" href="../library/os.html#os.popen" title="os.popen"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.popen()</span></code></a> instead.
(Contributed by Victor Stinner in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35345">bpo-35345</a>.)</p></li>
<li><p class="translated">La función <a class="reference internal" href="../library/statistics.html#statistics.mode" title="statistics.mode"><code class="xref py py-func docutils literal notranslate"><span class="pre">statistics.mode()</span></code></a> ya no lanza una excepción cuando se proporcionan datos multimodales. Ahora, en cambio, retorna la primera moda encontrada en los datos de entrada. (Contribución de Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35892">bpo-35892</a>.)</p></li>
<li><p class="translated">El método <a class="reference internal" href="../library/tkinter.ttk.html#tkinter.ttk.Treeview.selection" title="tkinter.ttk.Treeview.selection"><code class="xref py py-meth docutils literal notranslate"><span class="pre">selection()</span></code></a> de la clase <a class="reference internal" href="../library/tkinter.ttk.html#tkinter.ttk.Treeview" title="tkinter.ttk.Treeview"><code class="xref py py-class docutils literal notranslate"><span class="pre">tkinter.ttk.Treeview</span></code></a> ya no acepta argumentos. Usarlo con argumentos para cambiar la selección quedó obsoleto en Python 3.6. Utiliza métodos especializados, como <a class="reference internal" href="../library/tkinter.ttk.html#tkinter.ttk.Treeview.selection_set" title="tkinter.ttk.Treeview.selection_set"><code class="xref py py-meth docutils literal notranslate"><span class="pre">selection_set()</span></code></a>, para cambiar la selección. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=31508">bpo-31508</a>.)</p></li>
<li><p class="untranslated">The <a class="reference internal" href="../library/xml.dom.minidom.html#xml.dom.minidom.Node.writexml" title="xml.dom.minidom.Node.writexml"><code class="xref py py-meth docutils literal notranslate"><span class="pre">writexml()</span></code></a>, <a class="reference internal" href="../library/xml.dom.minidom.html#xml.dom.minidom.Node.toxml" title="xml.dom.minidom.Node.toxml"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toxml()</span></code></a>
and <a class="reference internal" href="../library/xml.dom.minidom.html#xml.dom.minidom.Node.toprettyxml" title="xml.dom.minidom.Node.toprettyxml"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toprettyxml()</span></code></a> methods of
<a class="reference internal" href="../library/xml.dom.minidom.html#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">xml.dom.minidom</span></code></a> and the <a class="reference internal" href="../library/xml.etree.elementtree.html#xml.etree.ElementTree.ElementTree.write" title="xml.etree.ElementTree.ElementTree.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a>
method of <a class="reference internal" href="../library/xml.etree.elementtree.html#module-xml.etree.ElementTree" title="xml.etree.ElementTree: Implementation of the ElementTree API."><code class="xref py py-mod docutils literal notranslate"><span class="pre">xml.etree.ElementTree</span></code></a> now preserve the attribute order
specified by the user.
(Contributed by Diego Rojas and Raymond Hettinger in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=34160">bpo-34160</a>.)</p></li>
<li><p class="translated">Una base de datos <a class="reference internal" href="../library/dbm.html#module-dbm.dumb" title="dbm.dumb: Portable implementation of the simple DBM interface."><code class="xref py py-mod docutils literal notranslate"><span class="pre">dbm.dumb</span></code></a> abierta con el flag <code class="docutils literal notranslate"><span class="pre">'r'</span></code> ahora es de solo lectura. <a class="reference internal" href="../library/dbm.html#dbm.dumb.open" title="dbm.dumb.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">dbm.dumb.open()</span></code></a> con los flags <code class="docutils literal notranslate"><span class="pre">'r'</span></code> y <code class="docutils literal notranslate"><span class="pre">'w'</span></code> ya no crea una base de datos si no existe. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32749">bpo-32749</a>.)</p></li>
<li><p class="translated">El método <code class="docutils literal notranslate"><span class="pre">doctype()</span></code> definido en una subclase de <a class="reference internal" href="../library/xml.etree.elementtree.html#xml.etree.ElementTree.XMLParser" title="xml.etree.ElementTree.XMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">XMLParser</span></code></a> ya no será invocado y emitirá una advertencia <a class="reference internal" href="../library/exceptions.html#RuntimeWarning" title="RuntimeWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeWarning</span></code></a> en lugar de <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a>. Define el método <a class="reference internal" href="../library/xml.etree.elementtree.html#xml.etree.ElementTree.TreeBuilder.doctype" title="xml.etree.ElementTree.TreeBuilder.doctype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">doctype()</span></code></a> en un objetivo para manejar una declaración doctype de XML. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=29209">bpo-29209</a>.)</p></li>
<li><p class="translated">Ahora se lanza una excepción <a class="reference internal" href="../library/exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> cuando la metaclase personalizada no proporciona la entrada <code class="docutils literal notranslate"><span class="pre">__classcell__</span></code> en el espacio de nombres pasado a <code class="docutils literal notranslate"><span class="pre">type.__new__</span></code>. En Python 3.6–3.7. se emitía una advertencia <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a> (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=23722">bpo-23722</a>.)</p></li>
<li><p class="untranslated">The <a class="reference internal" href="../library/profile.html#profile.Profile" title="profile.Profile"><code class="xref py py-class docutils literal notranslate"><span class="pre">cProfile.Profile</span></code></a> class can now be used as
a context manager. (Contributed by Scott Sanderson in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=29235">bpo-29235</a>.)</p></li>
<li><p class="translated"><a class="reference internal" href="../library/shutil.html#shutil.copyfile" title="shutil.copyfile"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copyfile()</span></code></a>, <a class="reference internal" href="../library/shutil.html#shutil.copy" title="shutil.copy"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copy()</span></code></a>, <a class="reference internal" href="../library/shutil.html#shutil.copy2" title="shutil.copy2"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copy2()</span></code></a>, <a class="reference internal" href="../library/shutil.html#shutil.copytree" title="shutil.copytree"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copytree()</span></code></a> y <a class="reference internal" href="../library/shutil.html#shutil.move" title="shutil.move"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.move()</span></code></a> usan llamadas al sistema de «copia-rápida» específicas de la plataforma. (Consultar la sección <a class="reference internal" href="../library/shutil.html#shutil-platform-dependent-efficient-copy-operations"><span class="std std-ref">Operaciones de copia eficientes dependientes de la plataforma</span></a>).</p></li>
<li><p class="translated">El tamaño predeterminado del búfer de <a class="reference internal" href="../library/shutil.html#shutil.copyfile" title="shutil.copyfile"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copyfile()</span></code></a> en Windows se ha cambiado de 16 KiB a 1 MiB.</p></li>
<li><p class="translated">La estructura <code class="docutils literal notranslate"><span class="pre">PyGC_Head</span></code> ha cambiado por completo. Todo código que haga uso de algún miembro de la estructura debe reescribirse. (Consultar <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33597">bpo-33597</a>.)</p></li>
<li><p class="translated">La estructura <a class="reference internal" href="../c-api/init.html#c.PyInterpreterState" title="PyInterpreterState"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyInterpreterState</span></code></a> se ha movido a los archivos de cabeceras «internos» (específicamente a Include/internal/pycore_pystate.h). Un <code class="docutils literal notranslate"><span class="pre">PyInterpreterState</span></code> opaco todavía está disponible como parte de la API pública (y ABI estable). La documentación indica que ninguno de los campos de la estructura es público, por lo que esperamos que nadie los haya estado usando. Sin embargo, si utilizas uno o más de esos campos privados y no tienes otra alternativa, abre una issue BPO. Trabajaremos para ayudarte a adaptarlo (posiblemente incluyendo funciones de acceso a la API pública). (Consultar <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35886">bpo-35886</a>.)</p></li>
<li><p class="translated">El método <a class="reference internal" href="../library/mmap.html#mmap.mmap.flush" title="mmap.mmap.flush"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mmap.flush()</span></code></a> ahora retorna <code class="docutils literal notranslate"><span class="pre">None</span></code> en caso de éxito y lanza una excepción en caso de error, en todas las plataformas. Anteriormente, su comportamiento dependía de la plataforma: en Windows retornaba un valor distinto de cero en caso de éxito y cero ante un error. En Unix se retornaba un valor de cero en caso de éxito y se lanzaba una excepción ante un error. (Contribución de Berker Peksag en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=2122">bpo-2122</a>.)</p></li>
<li><p class="translated">Los módulos <a class="reference internal" href="../library/xml.dom.minidom.html#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">xml.dom.minidom</span></code></a> y <a class="reference internal" href="../library/xml.sax.html#module-xml.sax" title="xml.sax: Package containing SAX2 base classes and convenience functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">xml.sax</span></code></a> ya no procesan entidades externas de forma predeterminada. (Contribución de Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17239">bpo-17239</a>.)</p></li>
<li><p class="untranslated">Deleting a key from a read-only <a class="reference internal" href="../library/dbm.html#module-dbm" title="dbm: Interfaces to various Unix &quot;database&quot; formats."><code class="xref py py-mod docutils literal notranslate"><span class="pre">dbm</span></code></a> database (<a class="reference internal" href="../library/dbm.html#module-dbm.dumb" title="dbm.dumb: Portable implementation of the simple DBM interface."><code class="xref py py-mod docutils literal notranslate"><span class="pre">dbm.dumb</span></code></a>,
<a class="reference internal" href="../library/dbm.html#module-dbm.gnu" title="dbm.gnu: GNU database manager (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dbm.gnu</span></code></a> or <a class="reference internal" href="../library/dbm.html#module-dbm.ndbm" title="dbm.ndbm: The New Database Manager (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dbm.ndbm</span></code></a>) raises <code class="xref py py-attr docutils literal notranslate"><span class="pre">error</span></code> (<a class="reference internal" href="../library/dbm.html#dbm.dumb.error" title="dbm.dumb.error"><code class="xref py py-exc docutils literal notranslate"><span class="pre">dbm.dumb.error</span></code></a>,
<a class="reference internal" href="../library/dbm.html#dbm.gnu.error" title="dbm.gnu.error"><code class="xref py py-exc docutils literal notranslate"><span class="pre">dbm.gnu.error</span></code></a> or <a class="reference internal" href="../library/dbm.html#dbm.ndbm.error" title="dbm.ndbm.error"><code class="xref py py-exc docutils literal notranslate"><span class="pre">dbm.ndbm.error</span></code></a>) instead of <a class="reference internal" href="../library/exceptions.html#KeyError" title="KeyError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a>.
(Contributed by Xiang Zhang in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33106">bpo-33106</a>.)</p></li>
<li><p class="translated">AST simplificado para literales. Todas las constantes se representarán como instancias de <a class="reference internal" href="../library/ast.html#ast.Constant" title="ast.Constant"><code class="xref py py-class docutils literal notranslate"><span class="pre">ast.Constant</span></code></a>. La instanciación de las antiguas clases <code class="docutils literal notranslate"><span class="pre">Num</span></code>, <code class="docutils literal notranslate"><span class="pre">Str</span></code>, <code class="docutils literal notranslate"><span class="pre">Bytes</span></code>, <code class="docutils literal notranslate"><span class="pre">NameConstant</span></code> y <code class="docutils literal notranslate"><span class="pre">Ellipsis</span></code> retornará ahora una instancia de <code class="docutils literal notranslate"><span class="pre">Constant</span></code>. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32892">bpo-32892</a>.)</p></li>
<li><p class="translated"><a class="reference internal" href="../library/os.path.html#os.path.expanduser" title="os.path.expanduser"><code class="xref py py-func docutils literal notranslate"><span class="pre">expanduser()</span></code></a> en Windows ahora usa preferentemente la variable de entorno <span class="target" id="index-73"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">USERPROFILE</span></code> y no usa <span class="target" id="index-74"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">HOME</span></code>, que normalmente no está establecido para cuentas de usuario normales. (Contribución de Anthony Sottile en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36264">bpo-36264</a>.)</p></li>
<li><p class="translated">La excepción <a class="reference internal" href="../library/asyncio-exceptions.html#asyncio.CancelledError" title="asyncio.CancelledError"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.CancelledError</span></code></a> ahora hereda de <a class="reference internal" href="../library/exceptions.html#BaseException" title="BaseException"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseException</span></code></a> en lugar de <a class="reference internal" href="../library/exceptions.html#Exception" title="Exception"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> y ya no hereda de <a class="reference internal" href="../library/concurrent.futures.html#concurrent.futures.CancelledError" title="concurrent.futures.CancelledError"><code class="xref py py-class docutils literal notranslate"><span class="pre">concurrent.futures.CancelledError</span></code></a>. (Contribuido por Yury Selivanov en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32528">bpo-32528</a>.)</p></li>
<li><p class="translated">La función <a class="reference internal" href="../library/asyncio-task.html#asyncio.wait_for" title="asyncio.wait_for"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.wait_for()</span></code></a> ahora espera correctamente la cancelación cuando se usa una instancia de <a class="reference internal" href="../library/asyncio-task.html#asyncio.Task" title="asyncio.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.Task</span></code></a>. Anteriormente, al alcanzar <em>timeout</em>, se cancelaba y retornaba de inmediato. (Contribución de Elvis Pranskevichus en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32751">bpo-32751</a>.)</p></li>
<li><p class="translated">La función <a class="reference internal" href="../library/asyncio-protocol.html#asyncio.BaseTransport.get_extra_info" title="asyncio.BaseTransport.get_extra_info"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.BaseTransport.get_extra_info()</span></code></a> ahora retorna un objeto socket seguro cuando se pasa “socket” al parámetro <em>name</em>. (Contribución de Yury Selivanov en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37027">bpo-37027</a>.)</p></li>
<li><p class="translated"><a class="reference internal" href="../library/asyncio-protocol.html#asyncio.BufferedProtocol" title="asyncio.BufferedProtocol"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.BufferedProtocol</span></code></a> ha pasado a formar parte de la API estable.</p></li>
</ul>
<ul class="simple" id="bpo-36085-whatsnew">
<li><p class="translated">Las dependencias de DLLs para módulos de extensión y DLLs cargadas con <a class="reference internal" href="../library/ctypes.html#module-ctypes" title="ctypes: A foreign function library for Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ctypes</span></code></a> en Windows ahora se resuelven de forma más segura. Solo las rutas del sistema, el directorio que contiene el archivo DLL o PYD y los directorios agregados mediante <a class="reference internal" href="../library/os.html#os.add_dll_directory" title="os.add_dll_directory"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_dll_directory()</span></code></a> se buscan para las dependencias en tiempo de carga. Específicamente, <span class="target" id="index-75"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PATH</span></code> y el directorio de trabajo actual ya no se utilizan, y las modificaciones de estos ya no tendrán ningún efecto en la resolución normal de la DLL. Si tu aplicación se basa en estos mecanismos, debes buscar <a class="reference internal" href="../library/os.html#os.add_dll_directory" title="os.add_dll_directory"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_dll_directory()</span></code></a> y, si existe, utilizarlo para agregar tu directorio DLL mientras carga tu biblioteca. Ten en cuenta que los usuarios de Windows 7 deberán asegurarse de que se haya instalado Windows Update KB2533623 (esto también lo verifica el instalador). (Contribución de Steve Dower en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36085">bpo-36085</a>.)</p></li>
<li><p class="translated">Los archivos de cabeceras y las funciones relacionadas con pgen se han eliminado después de su reemplazo por una implementación pura de Python. (Contribución de Pablo Galindo en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36623">bpo-36623</a>.)</p></li>
<li><p class="translated"><a class="reference internal" href="../library/types.html#types.CodeType" title="types.CodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">types.CodeType</span></code></a> tiene un nuevo parámetro en la segunda posición del constructor (<em>posonlyargcount</em>) para admitir argumentos solo posicionales, definidos en <span class="target" id="index-76"></span><a class="pep reference external" href="https://peps.python.org/pep-0570/"><strong>PEP 570</strong></a>. El primer argumento (<em>argcount</em>) ahora representa el número total de argumentos posicionales (incluidos los argumentos solo posicionales). El nuevo método <code class="docutils literal notranslate"><span class="pre">replace()</span></code> de <a class="reference internal" href="../library/types.html#types.CodeType" title="types.CodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">types.CodeType</span></code></a> se puede utilizar para hacer que el código esté preparado para el futuro.</p></li>
<li><p class="translated">El parámetro <code class="docutils literal notranslate"><span class="pre">digestmod</span></code> de <a class="reference internal" href="../library/hmac.html#hmac.new" title="hmac.new"><code class="xref py py-func docutils literal notranslate"><span class="pre">hmac.new()</span></code></a> ya no usa el resumen MD5 por defecto.</p></li>
</ul>
</section>
<section id="changes-in-the-c-api">
<h3 class="translated">Cambios en la API de C<a class="headerlink" href="#changes-in-the-c-api" title="Link to this heading">¶</a></h3>
<ul>
<li><p class="translated">La estructura <a class="reference internal" href="../c-api/veryhigh.html#c.PyCompilerFlags" title="PyCompilerFlags"><code class="xref c c-struct docutils literal notranslate"><span class="pre">PyCompilerFlags</span></code></a> obtuvo un nuevo campo <em>cf_feature_version</em>. Debe inicializarse en <code class="docutils literal notranslate"><span class="pre">PY_MINOR_VERSION</span></code>. El campo se ignora de forma predeterminada y se usa solo si el indicador <code class="docutils literal notranslate"><span class="pre">PyCF_ONLY_AST</span></code> está establecido en <em>cf_flags</em>. (Aportado por Guido van Rossum en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35766">bpo-35766</a>.)</p></li>
<li><p class="translated">La función <code class="xref c c-func docutils literal notranslate"><span class="pre">PyEval_ReInitThreads()</span></code> se ha eliminado de la API de C. No debe llamarse explícitamente: usa <a class="reference internal" href="../c-api/sys.html#c.PyOS_AfterFork_Child" title="PyOS_AfterFork_Child"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyOS_AfterFork_Child()</span></code></a> en su lugar. (Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36728">bpo-36728</a>.)</p></li>
<li><p class="translated">En Unix, las extensiones de C ya no están vinculadas a libpython, excepto en Android y Cygwin. Cuando Python está integrado, <code class="docutils literal notranslate"><span class="pre">libpython</span></code> no debe cargarse con <code class="docutils literal notranslate"><span class="pre">RTLD_LOCAL</span></code>, sino con <code class="docutils literal notranslate"><span class="pre">RTLD_GLOBAL</span></code> en su lugar. Anteriormente, no era posible usar <code class="docutils literal notranslate"><span class="pre">RTLD_LOCAL</span></code> para cargar extensiones de C que no estuvieran vinculadas a <code class="docutils literal notranslate"><span class="pre">libpython</span></code>, como las extensiones de C de la biblioteca estándar construida por la sección <code class="docutils literal notranslate"><span class="pre">*shared*</span></code> de <code class="docutils literal notranslate"><span class="pre">Modules/Setup</span></code>. (Contribución de Victor Stinner en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=21536">bpo-21536</a>.)</p></li>
<li><p class="translated">El uso de variantes de formato <code class="docutils literal notranslate"><span class="pre">#</span></code> en el análisis o la construcción de valores (por ejemplo: <a class="reference internal" href="../c-api/arg.html#c.PyArg_ParseTuple" title="PyArg_ParseTuple"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyArg_ParseTuple()</span></code></a>, <a class="reference internal" href="../c-api/arg.html#c.Py_BuildValue" title="Py_BuildValue"><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_BuildValue()</span></code></a>, <a class="reference internal" href="../c-api/call.html#c.PyObject_CallFunction" title="PyObject_CallFunction"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_CallFunction()</span></code></a>, etc.) sin <code class="docutils literal notranslate"><span class="pre">PY_SSIZE_T_CLEAN</span></code> definido ahora lanza una advertencia <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code>. Se eliminará en Python 3.10 ó 4.0. Consultar <a class="reference internal" href="../c-api/arg.html#arg-parsing"><span class="std std-ref">Analizando argumentos y construyendo valores</span></a> para más detalles. (Contribución de Inada Naoki en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36381">bpo-36381</a>.)</p></li>
<li><p class="untranslated">Instances of heap-allocated types (such as those created with
<a class="reference internal" href="../c-api/type.html#c.PyType_FromSpec" title="PyType_FromSpec"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyType_FromSpec()</span></code></a>) hold a reference to their type object.
Increasing the reference count of these type objects has been moved from
<a class="reference internal" href="../c-api/type.html#c.PyType_GenericAlloc" title="PyType_GenericAlloc"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyType_GenericAlloc()</span></code></a> to the more low-level functions,
<a class="reference internal" href="../c-api/allocation.html#c.PyObject_Init" title="PyObject_Init"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_Init()</span></code></a> and <code class="xref c c-macro docutils literal notranslate"><span class="pre">PyObject_INIT</span></code>.
This makes types created through <a class="reference internal" href="../c-api/type.html#c.PyType_FromSpec" title="PyType_FromSpec"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyType_FromSpec()</span></code></a> behave like
other classes in managed code.</p>
<p class="translated"><a class="reference internal" href="../c-api/typeobj.html#static-types"><span class="std std-ref">Statically allocated types</span></a> no se ve afectado.</p>
<p class="translated">Para la gran mayoría de casos, no debería haber efectos secundarios. Sin embargo, los tipos que aumentan manualmente el recuento de referencias después de asignar una instancia (quizás para evitar el error) ahora pueden volverse inmortales. Para evitar esto, estas clases deben llamar a Py_DECREF en el objeto de tipo durante la desasignación de la instancia.</p>
<p class="translated">Para portar correctamente estos tipos a Python 3.8, aplica los siguientes cambios:</p>
<ul>
<li><p class="untranslated">Remove <a class="reference internal" href="../c-api/refcounting.html#c.Py_INCREF" title="Py_INCREF"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_INCREF</span></code></a> on the type object after allocating an
instance - if any.
This may happen after calling <a class="reference internal" href="../c-api/allocation.html#c.PyObject_New" title="PyObject_New"><code class="xref c c-macro docutils literal notranslate"><span class="pre">PyObject_New</span></code></a>,
<a class="reference internal" href="../c-api/allocation.html#c.PyObject_NewVar" title="PyObject_NewVar"><code class="xref c c-macro docutils literal notranslate"><span class="pre">PyObject_NewVar</span></code></a>, <a class="reference internal" href="../c-api/gcsupport.html#c.PyObject_GC_New" title="PyObject_GC_New"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_GC_New()</span></code></a>,
<a class="reference internal" href="../c-api/gcsupport.html#c.PyObject_GC_NewVar" title="PyObject_GC_NewVar"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_GC_NewVar()</span></code></a>, or any other custom allocator that uses
<a class="reference internal" href="../c-api/allocation.html#c.PyObject_Init" title="PyObject_Init"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyObject_Init()</span></code></a> or <code class="xref c c-macro docutils literal notranslate"><span class="pre">PyObject_INIT</span></code>.</p>
<p class="translated">Ejemplo:</p>
<div class="untranslated highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="n">foo_struct</span><span class="w"> </span><span class="o">*</span>
<span class="nf">foo_new</span><span class="p">(</span><span class="n">PyObject</span><span class="w"> </span><span class="o">*</span><span class="n">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">foo_struct</span><span class="w"> </span><span class="o">*</span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PyObject_GC_New</span><span class="p">(</span><span class="n">foo_struct</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">PyTypeObject</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="n">type</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">foo</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="cp">#if PY_VERSION_HEX &lt; 0x03080000</span>
<span class="w">    </span><span class="c1">// Workaround for Python issue 35810; no longer necessary in Python 3.8</span>
<span class="w">    </span><span class="n">PY_INCREF</span><span class="p">(</span><span class="n">type</span><span class="p">)</span>
<span class="cp">#endif</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">foo</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="translated">Asegúrate de que todas las funciones personalizadas <code class="docutils literal notranslate"><span class="pre">tp_dealloc</span></code> de los tipos asignados al montón disminuyan el recuento de referencias del tipo.</p>
<p class="translated">Ejemplo:</p>
<div class="untranslated highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span>
<span class="nf">foo_dealloc</span><span class="p">(</span><span class="n">foo_struct</span><span class="w"> </span><span class="o">*</span><span class="n">instance</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">PyObject</span><span class="w"> </span><span class="o">*</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Py_TYPE</span><span class="p">(</span><span class="n">instance</span><span class="p">);</span>
<span class="w">    </span><span class="n">PyObject_GC_Del</span><span class="p">(</span><span class="n">instance</span><span class="p">);</span>
<span class="cp">#if PY_VERSION_HEX &gt;= 0x03080000</span>
<span class="w">    </span><span class="c1">// This was not needed before Python 3.8 (Python issue 35810)</span>
<span class="w">    </span><span class="n">Py_DECREF</span><span class="p">(</span><span class="n">type</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
<p class="translated">(Contribución de Eddie Elizondo en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35810">bpo-35810</a>.)</p>
</li>
<li><p class="translated">La macro <a class="reference internal" href="../c-api/intro.html#c.Py_DEPRECATED" title="Py_DEPRECATED"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_DEPRECATED()</span></code></a> ha sido implementada para MSVC. La macro ahora debe ser colocada antes del nombre del símbolo.</p>
<p class="translated">Ejemplo:</p>
<div class="untranslated highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">Py_DEPRECATED</span><span class="p">(</span><span class="mf">3.8</span><span class="p">)</span><span class="w"> </span><span class="n">PyAPI_FUNC</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">Py_OldFunction</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
<p class="translated">(Contribución de Zackery Spytz en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33407">bpo-33407</a>.)</p>
</li>
<li><p class="translated">El intérprete ya no pretende dar suporte nunca más a la compatibilidad binaria de tipos de extensión entre versiones de características. Un <a class="reference internal" href="../c-api/type.html#c.PyTypeObject" title="PyTypeObject"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyTypeObject</span></code></a> exportado por un módulo de extensión de terceros se supone que tiene todas las ranuras esperadas por la versión actual de Python, incluyendo <a class="reference internal" href="../c-api/typeobj.html#c.PyTypeObject.tp_finalize" title="PyTypeObject.tp_finalize"><code class="xref c c-member docutils literal notranslate"><span class="pre">tp_finalize</span></code></a> (<a class="reference internal" href="../c-api/typeobj.html#c.Py_TPFLAGS_HAVE_FINALIZE" title="Py_TPFLAGS_HAVE_FINALIZE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">Py_TPFLAGS_HAVE_FINALIZE</span></code></a> ya no se verifica antes de leer <a class="reference internal" href="../c-api/typeobj.html#c.PyTypeObject.tp_finalize" title="PyTypeObject.tp_finalize"><code class="xref c c-member docutils literal notranslate"><span class="pre">tp_finalize</span></code></a>).</p>
<p class="translated">(Contribución de Antoine Pitrou en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=32388">bpo-32388</a>.)</p>
</li>
<li><p class="translated">Las funciones <code class="xref c c-func docutils literal notranslate"><span class="pre">PyNode_AddChild()</span></code> y <code class="xref c c-func docutils literal notranslate"><span class="pre">PyParser_AddToken()</span></code> ahora aceptan dos argumentos <code class="docutils literal notranslate"><span class="pre">int</span></code> adicionales, <em>end_lineno</em> y <em>end_col_offset</em>.</p></li>
<li><p class="translated">El archivo <code class="file docutils literal notranslate"><span class="pre">libpython38.a</span></code> ya no se incluye en la distribución normal de Windows. Si se necesita este archivo, se puede generar con las herramientas <code class="docutils literal notranslate"><span class="pre">gendef</span></code> y <code class="docutils literal notranslate"><span class="pre">dlltool</span></code>, que son parte del paquete binutils de MinGW:</p>
<div class="untranslated highlight-shell notranslate"><div class="highlight"><pre><span></span>gendef<span class="w"> </span>-<span class="w"> </span>python38.dll<span class="w"> </span>&gt;<span class="w"> </span>tmp.def
dlltool<span class="w"> </span>--dllname<span class="w"> </span>python38.dll<span class="w"> </span>--def<span class="w"> </span>tmp.def<span class="w"> </span>--output-lib<span class="w"> </span>libpython38.a
</pre></div>
</div>
<p class="translated">La ubicación de un archivo <code class="file docutils literal notranslate"><span class="pre">pythonXY.dll</span></code> instalado dependerá de las opciones de instalación y de la versión y el idioma de Windows. Consultar <a class="reference internal" href="../using/windows.html#using-on-windows"><span class="std std-ref">Uso de Python en Windows</span></a> para obtener más información. La biblioteca resultante debe colocarse en el mismo directorio que <code class="file docutils literal notranslate"><span class="pre">pythonXY.lib</span></code>, que generalmente es el directorio <code class="file docutils literal notranslate"><span class="pre">libs</span></code> en tu instalación de Python.</p>
<p class="translated">(Contribución de Steve Dower en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37351">bpo-37351</a>.)</p>
</li>
</ul>
</section>
<section id="cpython-bytecode-changes">
<h3 class="translated">Cambios en el bytecode de CPython<a class="headerlink" href="#cpython-bytecode-changes" title="Link to this heading">¶</a></h3>
<ul>
<li><p class="translated">El bucle del intérprete se ha simplificado moviendo al compilador la lógica para el desenredo de la pila de bloques. El compilador ahora emite instrucciones explícitas para ajustar la pila de valores y llamar al código de limpieza para <a class="reference internal" href="../reference/simple_stmts.html#break"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">break</span></code></a>, <a class="reference internal" href="../reference/simple_stmts.html#continue"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">continue</span></code></a> y <a class="reference internal" href="../reference/simple_stmts.html#return"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">return</span></code></a>.</p>
<p class="untranslated">Removed opcodes <code class="xref std std-opcode docutils literal notranslate"><span class="pre">BREAK_LOOP</span></code>, <code class="xref std std-opcode docutils literal notranslate"><span class="pre">CONTINUE_LOOP</span></code>,
<code class="xref std std-opcode docutils literal notranslate"><span class="pre">SETUP_LOOP</span></code> and <code class="xref std std-opcode docutils literal notranslate"><span class="pre">SETUP_EXCEPT</span></code>.  Added new opcodes
<code class="xref std std-opcode docutils literal notranslate"><span class="pre">ROT_FOUR</span></code>, <code class="xref std std-opcode docutils literal notranslate"><span class="pre">BEGIN_FINALLY</span></code>, <code class="xref std std-opcode docutils literal notranslate"><span class="pre">CALL_FINALLY</span></code> and
<code class="xref std std-opcode docutils literal notranslate"><span class="pre">POP_FINALLY</span></code>.  Changed the behavior of <code class="xref std std-opcode docutils literal notranslate"><span class="pre">END_FINALLY</span></code>
and <code class="xref std std-opcode docutils literal notranslate"><span class="pre">WITH_CLEANUP_START</span></code>.</p>
<p class="translated">(Contribución de Mark Shannon, Antoine Pitrou y Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=17611">bpo-17611</a>.)</p>
</li>
<li><p class="translated">Agregado el código de operación <a class="reference internal" href="../library/dis.html#opcode-END_ASYNC_FOR"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">END_ASYNC_FOR</span></code></a> para manejar excepciones lanzadas mientras se espera al siguiente elemento en un ciclo <a class="reference internal" href="../reference/compound_stmts.html#async-for"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code></a>. (Contribución de Serhiy Storchaka en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=33041">bpo-33041</a>.)</p></li>
<li><p class="translated">El código de operación <a class="reference internal" href="../library/dis.html#opcode-MAP_ADD"><code class="xref std std-opcode docutils literal notranslate"><span class="pre">MAP_ADD</span></code></a> ahora espera el valor como primer elemento de la pila y la clave como segundo elemento. Este cambio se realizó para que la clave siempre se evalúe antes que el valor en los diccionarios por compresión, como se propone en <span class="target" id="index-77"></span><a class="pep reference external" href="https://peps.python.org/pep-0572/"><strong>PEP 572</strong></a>. (Contribución de Jörn Heissler en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35224">bpo-35224</a>.)</p></li>
</ul>
</section>
<section id="demos-and-tools">
<h3 class="translated">Demos y herramientas<a class="headerlink" href="#demos-and-tools" title="Link to this heading">¶</a></h3>
<p class="translated">Se ha añadido un script de evaluación de rendimiento para cronometrar varias formas de acceder a variables: <code class="docutils literal notranslate"><span class="pre">Tools/scripts/var_access_benchmark.py</span></code>. (Contribución de Raymond Hettinger en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=35884">bpo-35884</a>.)</p>
<p class="translated">A continuación, se muestra un resumen de las mejoras de rendimiento desde Python 3.3:</p>
<div class="untranslated highlight-none notranslate"><div class="highlight"><pre><span></span>Python version                       3.3     3.4     3.5     3.6     3.7     3.8
--------------                       ---     ---     ---     ---     ---     ---

Variable and attribute read access:
    read_local                       4.0     7.1     7.1     5.4     5.1     3.9
    read_nonlocal                    5.3     7.1     8.1     5.8     5.4     4.4
    read_global                     13.3    15.5    19.0    14.3    13.6     7.6
    read_builtin                    20.0    21.1    21.6    18.5    19.0     7.5
    read_classvar_from_class        20.5    25.6    26.5    20.7    19.5    18.4
    read_classvar_from_instance     18.5    22.8    23.5    18.8    17.1    16.4
    read_instancevar                26.8    32.4    33.1    28.0    26.3    25.4
    read_instancevar_slots          23.7    27.8    31.3    20.8    20.8    20.2
    read_namedtuple                 68.5    73.8    57.5    45.0    46.8    18.4
    read_boundmethod                29.8    37.6    37.9    29.6    26.9    27.7

Variable and attribute write access:
    write_local                      4.6     8.7     9.3     5.5     5.3     4.3
    write_nonlocal                   7.3    10.5    11.1     5.6     5.5     4.7
    write_global                    15.9    19.7    21.2    18.0    18.0    15.8
    write_classvar                  81.9    92.9    96.0   104.6   102.1    39.2
    write_instancevar               36.4    44.6    45.8    40.0    38.9    35.5
    write_instancevar_slots         28.7    35.6    36.1    27.3    26.6    25.7

Data structure read access:
    read_list                       19.2    24.2    24.5    20.8    20.8    19.0
    read_deque                      19.9    24.7    25.5    20.2    20.6    19.8
    read_dict                       19.7    24.3    25.7    22.3    23.0    21.0
    read_strdict                    17.9    22.6    24.3    19.5    21.2    18.9

Data structure write access:
    write_list                      21.2    27.1    28.5    22.5    21.6    20.0
    write_deque                     23.8    28.7    30.1    22.7    21.8    23.5
    write_dict                      25.9    31.4    33.3    29.3    29.2    24.7
    write_strdict                   22.9    28.4    29.9    27.5    25.2    23.1

Stack (or queue) operations:
    list_append_pop                144.2    93.4   112.7    75.4    74.2    50.8
    deque_append_pop                30.4    43.5    57.0    49.4    49.2    42.5
    deque_append_popleft            30.8    43.7    57.3    49.7    49.7    42.8

Timing loop:
    loop_overhead                    0.3     0.5     0.6     0.4     0.3     0.3
</pre></div>
</div>
<p class="translated">Las evaluaciones de rendimiento se realizaron en un <a class="reference external" href="https://ark.intel.com/content/www/us/en/ark/products/76088/intel-core-i7-4960hq-processor-6m-cache-up-to-3-80-ghz.html">procesador Intel® Core™ i7-4960HQ</a> ejecutando las compilaciones de 64-bits para macOS disponibles en <a class="reference external" href="https://www.python.org/downloads/macos/">python.org</a>. El script de evaluación de rendimiento muestra los tiempos en nanosegundos.</p>
</section>
</section>
<section id="notable-changes-in-python-3-8-1">
<h2 class="translated">Cambios notables en Python 3.8.1<a class="headerlink" href="#notable-changes-in-python-3-8-1" title="Link to this heading">¶</a></h2>
<p class="translated">Debido a importantes preocupaciones de seguridad, el parámetro <em>reuse_address</em> de <a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.loop.create_datagram_endpoint" title="asyncio.loop.create_datagram_endpoint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">asyncio.loop.create_datagram_endpoint()</span></code></a> ya no está soportado. Esto se debe al comportamiento de la opción <code class="docutils literal notranslate"><span class="pre">SO_REUSEADDR</span></code> del socket en UDP. Para obtener más detalles, consulta la documentación de <code class="docutils literal notranslate"><span class="pre">loop.create_datagram_endpoint()</span></code>. (Contribución de Kyle Stanley, Antoine Pitrou y Yury Selivanov en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=37228">bpo-37228</a>.)</p>
</section>
<section id="notable-changes-in-python-3-8-2">
<h2 class="untranslated">Notable changes in Python 3.8.2<a class="headerlink" href="#notable-changes-in-python-3-8-2" title="Link to this heading">¶</a></h2>
<p class="untranslated">Fixed a regression with the <code class="docutils literal notranslate"><span class="pre">ignore</span></code> callback of <a class="reference internal" href="../library/shutil.html#shutil.copytree" title="shutil.copytree"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.copytree()</span></code></a>.
The argument types are now str and List[str] again.
(Contributed by Manuel Barkhau and Giampaolo Rodola in <a class="reference external" href="https://github.com/python/cpython/issues/83571">gh-83571</a>.)</p>
</section>
<section id="notable-changes-in-python-3-8-3">
<h2 class="untranslated">Notable changes in Python 3.8.3<a class="headerlink" href="#notable-changes-in-python-3-8-3" title="Link to this heading">¶</a></h2>
<p class="untranslated">The constant values of future flags in the <a class="reference internal" href="../library/__future__.html#module-__future__" title="__future__: Future statement definitions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">__future__</span></code></a> module
are updated in order to prevent collision with compiler flags. Previously
<code class="docutils literal notranslate"><span class="pre">PyCF_ALLOW_TOP_LEVEL_AWAIT</span></code> was clashing with <code class="docutils literal notranslate"><span class="pre">CO_FUTURE_DIVISION</span></code>.
(Contributed by Batuhan Taskaya in <a class="reference external" href="https://github.com/python/cpython/issues/83743">gh-83743</a>)</p>
</section>
<section id="notable-changes-in-python-3-8-8">
<h2 class="translated">Cambios notables en Python 3.8.8<a class="headerlink" href="#notable-changes-in-python-3-8-8" title="Link to this heading">¶</a></h2>
<p class="untranslated">Earlier Python versions allowed using both <code class="docutils literal notranslate"><span class="pre">;</span></code> and <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> as
query parameter separators in <a class="reference internal" href="../library/urllib.parse.html#urllib.parse.parse_qs" title="urllib.parse.parse_qs"><code class="xref py py-func docutils literal notranslate"><span class="pre">urllib.parse.parse_qs()</span></code></a> and
<a class="reference internal" href="../library/urllib.parse.html#urllib.parse.parse_qsl" title="urllib.parse.parse_qsl"><code class="xref py py-func docutils literal notranslate"><span class="pre">urllib.parse.parse_qsl()</span></code></a>.  Due to security concerns, and to conform with
newer W3C recommendations, this has been changed to allow only a single
separator key, with <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> as the default.  This change also affects
<code class="xref py py-func docutils literal notranslate"><span class="pre">cgi.parse()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">cgi.parse_multipart()</span></code> as they use the affected
functions internally. For more details, please see their respective
documentation.
(Contributed by Adam Goldschmidt, Senthil Kumaran and Ken Jin in <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=42967">bpo-42967</a>.)</p>
</section>
<section id="notable-changes-in-python-3-8-9">
<h2 class="untranslated">Notable changes in Python 3.8.9<a class="headerlink" href="#notable-changes-in-python-3-8-9" title="Link to this heading">¶</a></h2>
<p class="untranslated">A security fix alters the <a class="reference internal" href="../library/ftplib.html#ftplib.FTP" title="ftplib.FTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">ftplib.FTP</span></code></a> behavior to not trust the
IPv4 address sent from the remote server when setting up a passive data
channel.  We reuse the ftp server IP address instead.  For unusual code
requiring the old behavior, set a <code class="docutils literal notranslate"><span class="pre">trust_server_pasv_ipv4_address</span></code>
attribute on your FTP instance to <code class="docutils literal notranslate"><span class="pre">True</span></code>.  (See <a class="reference external" href="https://github.com/python/cpython/issues/87451">gh-87451</a>)</p>
</section>
<section id="notable-changes-in-python-3-8-10">
<h2 class="untranslated">Notable changes in Python 3.8.10<a class="headerlink" href="#notable-changes-in-python-3-8-10" title="Link to this heading">¶</a></h2>
<section id="macos-11-0-big-sur-and-apple-silicon-mac-support">
<h3 class="untranslated">macOS 11.0 (Big Sur) and Apple Silicon Mac support<a class="headerlink" href="#macos-11-0-big-sur-and-apple-silicon-mac-support" title="Link to this heading">¶</a></h3>
<p class="untranslated">As of 3.8.10, Python now supports building and running on macOS 11
(Big Sur) and on Apple Silicon Macs (based on the <code class="docutils literal notranslate"><span class="pre">ARM64</span></code> architecture).
A new universal build variant, <code class="docutils literal notranslate"><span class="pre">universal2</span></code>, is now available to natively
support both <code class="docutils literal notranslate"><span class="pre">ARM64</span></code> and <code class="docutils literal notranslate"><span class="pre">Intel</span> <span class="pre">64</span></code> in one set of executables.
Note that support for «weaklinking», building binaries targeted for newer
versions of macOS that will also run correctly on older versions by
testing at runtime for missing features, is not included in this backport
from Python 3.9; to support a range of macOS versions, continue to target
for and build on the oldest version in the range.</p>
<p class="untranslated">(Originally contributed by Ronald Oussoren and Lawrence D’Anna in <a class="reference external" href="https://github.com/python/cpython/issues/85272">gh-85272</a>,
with fixes by FX Coudert and Eli Rykoff, and backported to 3.8 by Maxime Bélanger
and Ned Deily)</p>
</section>
</section>
<section id="id1">
<h2 class="untranslated">Notable changes in Python 3.8.10<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h2>
<section id="urllib-parse">
<h3 class="untranslated">urllib.parse<a class="headerlink" href="#urllib-parse" title="Link to this heading">¶</a></h3>
<p class="untranslated">The presence of newline or tab characters in parts of a URL allows for some
forms of attacks. Following the WHATWG specification that updates <span class="target" id="index-25"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3986.html"><strong>RFC 3986</strong></a>,
ASCII newline <code class="docutils literal notranslate"><span class="pre">\n</span></code>, <code class="docutils literal notranslate"><span class="pre">\r</span></code> and tab <code class="docutils literal notranslate"><span class="pre">\t</span></code> characters are stripped from the
URL by the parser in <a class="reference internal" href="../library/urllib.parse.html#module-urllib.parse" title="urllib.parse: Parse URLs into or assemble them from components."><code class="xref py py-mod docutils literal notranslate"><span class="pre">urllib.parse</span></code></a> preventing such attacks. The removal
characters are controlled by a new module level variable
<code class="docutils literal notranslate"><span class="pre">urllib.parse._UNSAFE_URL_BYTES_TO_REMOVE</span></code>. (See <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43882">bpo-43882</a>)</p>
</section>
</section>
<section id="notable-changes-in-python-3-8-12">
<h2 class="translated">Cambios notables en Python 3.8.1<a class="headerlink" href="#notable-changes-in-python-3-8-12" title="Link to this heading">¶</a></h2>
<section id="id2">
<h3 class="translated">Cambios en la API de Python<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<p class="translated">A partir de Python 3.8.12, el módulo <a class="reference internal" href="../library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ipaddress</span></code></a> ya no acepta ceros a la izquierda en las cadenas de direcciones IPv4. Los ceros iniciales son ambiguos y algunas bibliotecas los interpretan como notación octal. Por ejemplo, la función heredada <a class="reference internal" href="../library/socket.html#socket.inet_aton" title="socket.inet_aton"><code class="xref py py-func docutils literal notranslate"><span class="pre">socket.inet_aton()</span></code></a> trata los ceros iniciales como notación octal. La implementación glibc del <a class="reference internal" href="../library/socket.html#socket.inet_pton" title="socket.inet_pton"><code class="xref py py-func docutils literal notranslate"><span class="pre">inet_pton()</span></code></a> moderno no acepta ceros a la izquierda.</p>
<p class="translated">(Contribuido originalmente por Christian Heimes en <a class="reference external" href="https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=36384">bpo-36384</a>, y actualizado a 3.8 por Achraf Merzouki).</p>
</section>
</section>
<section id="notable-security-feature-in-3-8-14">
<h2 class="untranslated">Notable security feature in 3.8.14<a class="headerlink" href="#notable-security-feature-in-3-8-14" title="Link to this heading">¶</a></h2>
<p class="untranslated">Converting between <a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a> and <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> in bases other than 2
(binary), 4, 8 (octal), 16 (hexadecimal), or 32 such as base 10 (decimal)
now raises a <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> if the number of digits in string form is
above a limit to avoid potential denial of service attacks due to the
algorithmic complexity. This is a mitigation for <span class="target" id="index-26"></span><a class="cve reference external" href="https://www.cve.org/CVERecord?id=CVE-2020-10735"><strong>CVE 2020-10735</strong></a>.
This limit can be configured or disabled by environment variable, command
line flag, or <a class="reference internal" href="../library/sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys</span></code></a> APIs. See the <a class="reference internal" href="../library/stdtypes.html#int-max-str-digits"><span class="std std-ref">integer string conversion
length limitation</span></a> documentation.  The default limit
is 4300 digits in string form.</p>
</section>
<section id="notable-changes-in-3-8-17">
<h2 class="untranslated">Notable changes in 3.8.17<a class="headerlink" href="#notable-changes-in-3-8-17" title="Link to this heading">¶</a></h2>
<section id="id3">
<h3 class="translated">tarfile<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p class="untranslated">The extraction methods in <a class="reference internal" href="../library/tarfile.html#module-tarfile" title="tarfile: Read and write tar-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tarfile</span></code></a>, and <a class="reference internal" href="../library/shutil.html#shutil.unpack_archive" title="shutil.unpack_archive"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.unpack_archive()</span></code></a>,
have a new a <em>filter</em> argument that allows limiting tar features than may be
surprising or dangerous, such as creating files outside the destination
directory.
See <a class="reference internal" href="../library/tarfile.html#tarfile-extraction-filter"><span class="std std-ref">Extraction filters</span></a> for details.
In Python 3.12, use without the <em>filter</em> argument will show a
<a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a>.
In Python 3.14, the default will switch to <code class="docutils literal notranslate"><span class="pre">'data'</span></code>.
(Contributed by Petr Viktorin in <span class="target" id="index-27"></span><a class="pep reference external" href="https://peps.python.org/pep-0706/"><strong>PEP 706</strong></a>.)</p></li>
</ul>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">Tabla de contenido</a></h3>
    <ul>
<li><a class="reference internal" href="#">Qué hay de nuevo en Python 3.8</a><ul>
<li><a class="reference internal" href="#summary-release-highlights">Resumen – Aspectos destacados de la versión</a></li>
<li><a class="reference internal" href="#new-features">Nuevas características</a><ul>
<li><a class="reference internal" href="#assignment-expressions">Expresiones de asignación</a></li>
<li><a class="reference internal" href="#positional-only-parameters">Parámetros solo posicionales</a></li>
<li><a class="reference internal" href="#parallel-filesystem-cache-for-compiled-bytecode-files">Caché del sistema de archivos paralelo para archivos de bytecode compilados</a></li>
<li><a class="reference internal" href="#debug-build-uses-the-same-abi-as-release-build">La compilación de depuración usa la misma ABI que la compilación de lanzamiento</a></li>
<li><a class="reference internal" href="#f-strings-support-for-self-documenting-expressions-and-debugging">los f-strings soportan <code class="docutils literal notranslate"><span class="pre">=</span></code> para expresiones autodocumentadas y depuración</a></li>
<li><a class="reference internal" href="#pep-578-python-runtime-audit-hooks">PEP 578: Ganchos de auditoría en tiempo de ejecución de Python</a></li>
<li><a class="reference internal" href="#pep-587-python-initialization-configuration">PEP 587: Configuración de inicialización de Python</a></li>
<li><a class="reference internal" href="#pep-590-vectorcall-a-fast-calling-protocol-for-cpython">PEP 590: Vectorcall: un protocolo de llamada rápida para CPython</a></li>
<li><a class="reference internal" href="#pickle-protocol-5-with-out-of-band-data-buffers">Protocolo 5 de Pickle con búferes de datos fuera de banda</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-language-changes">Otros cambios en el lenguaje</a></li>
<li><a class="reference internal" href="#new-modules">Nuevos módulos</a></li>
<li><a class="reference internal" href="#improved-modules">Módulos mejorados</a><ul>
<li><a class="reference internal" href="#ast">ast</a></li>
<li><a class="reference internal" href="#asyncio">asyncio</a></li>
<li><a class="reference internal" href="#builtins">builtins</a></li>
<li><a class="reference internal" href="#collections">collections</a></li>
<li><a class="reference internal" href="#cprofile">cProfile</a></li>
<li><a class="reference internal" href="#csv">csv</a></li>
<li><a class="reference internal" href="#curses">curses</a></li>
<li><a class="reference internal" href="#ctypes">ctypes</a></li>
<li><a class="reference internal" href="#datetime">datetime</a></li>
<li><a class="reference internal" href="#functools">functools</a></li>
<li><a class="reference internal" href="#gc">gc</a></li>
<li><a class="reference internal" href="#gettext">gettext</a></li>
<li><a class="reference internal" href="#gzip">gzip</a></li>
<li><a class="reference internal" href="#idle-and-idlelib">IDLE e idlelib</a></li>
<li><a class="reference internal" href="#inspect">inspect</a></li>
<li><a class="reference internal" href="#io">io</a></li>
<li><a class="reference internal" href="#itertools">itertools</a></li>
<li><a class="reference internal" href="#json-tool">json.tool</a></li>
<li><a class="reference internal" href="#logging">logging</a></li>
<li><a class="reference internal" href="#math">math</a></li>
<li><a class="reference internal" href="#mmap">mmap</a></li>
<li><a class="reference internal" href="#multiprocessing">multiprocessing</a></li>
<li><a class="reference internal" href="#os">os</a></li>
<li><a class="reference internal" href="#os-path">os.path</a></li>
<li><a class="reference internal" href="#pathlib">pathlib</a></li>
<li><a class="reference internal" href="#pickle">pickle</a></li>
<li><a class="reference internal" href="#plistlib">plistlib</a></li>
<li><a class="reference internal" href="#pprint">pprint</a></li>
<li><a class="reference internal" href="#py-compile">py_compile</a></li>
<li><a class="reference internal" href="#shlex">shlex</a></li>
<li><a class="reference internal" href="#shutil">shutil</a></li>
<li><a class="reference internal" href="#socket">socket</a></li>
<li><a class="reference internal" href="#ssl">ssl</a></li>
<li><a class="reference internal" href="#statistics">statistics</a></li>
<li><a class="reference internal" href="#sys">sys</a></li>
<li><a class="reference internal" href="#tarfile">tarfile</a></li>
<li><a class="reference internal" href="#threading">threading</a></li>
<li><a class="reference internal" href="#tokenize">tokenize</a></li>
<li><a class="reference internal" href="#tkinter">tkinter</a></li>
<li><a class="reference internal" href="#time">time</a></li>
<li><a class="reference internal" href="#typing">typing</a></li>
<li><a class="reference internal" href="#unicodedata">unicodedata</a></li>
<li><a class="reference internal" href="#unittest">unittest</a></li>
<li><a class="reference internal" href="#venv">venv</a></li>
<li><a class="reference internal" href="#weakref">weakref</a></li>
<li><a class="reference internal" href="#xml">xml</a></li>
<li><a class="reference internal" href="#xmlrpc">xmlrpc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#optimizations">Optimizaciones</a></li>
<li><a class="reference internal" href="#build-and-c-api-changes">Cambios en la compilación y la API de C</a></li>
<li><a class="reference internal" href="#deprecated">Obsoleto</a></li>
<li><a class="reference internal" href="#api-and-feature-removals">APIs y características eliminadas</a></li>
<li><a class="reference internal" href="#porting-to-python-3-8">Portando a Python 3.8</a><ul>
<li><a class="reference internal" href="#changes-in-python-behavior">Cambios en el comportamiento de Python</a></li>
<li><a class="reference internal" href="#changes-in-the-python-api">Cambios en la API de Python</a></li>
<li><a class="reference internal" href="#changes-in-the-c-api">Cambios en la API de C</a></li>
<li><a class="reference internal" href="#cpython-bytecode-changes">Cambios en el bytecode de CPython</a></li>
<li><a class="reference internal" href="#demos-and-tools">Demos y herramientas</a></li>
</ul>
</li>
<li><a class="reference internal" href="#notable-changes-in-python-3-8-1">Cambios notables en Python 3.8.1</a></li>
<li><a class="reference internal" href="#notable-changes-in-python-3-8-2">Notable changes in Python 3.8.2</a></li>
<li><a class="reference internal" href="#notable-changes-in-python-3-8-3">Notable changes in Python 3.8.3</a></li>
<li><a class="reference internal" href="#notable-changes-in-python-3-8-8">Cambios notables en Python 3.8.8</a></li>
<li><a class="reference internal" href="#notable-changes-in-python-3-8-9">Notable changes in Python 3.8.9</a></li>
<li><a class="reference internal" href="#notable-changes-in-python-3-8-10">Notable changes in Python 3.8.10</a><ul>
<li><a class="reference internal" href="#macos-11-0-big-sur-and-apple-silicon-mac-support">macOS 11.0 (Big Sur) and Apple Silicon Mac support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id1">Notable changes in Python 3.8.10</a><ul>
<li><a class="reference internal" href="#urllib-parse">urllib.parse</a></li>
</ul>
</li>
<li><a class="reference internal" href="#notable-changes-in-python-3-8-12">Cambios notables en Python 3.8.1</a><ul>
<li><a class="reference internal" href="#id2">Cambios en la API de Python</a></li>
</ul>
</li>
<li><a class="reference internal" href="#notable-security-feature-in-3-8-14">Notable security feature in 3.8.14</a></li>
<li><a class="reference internal" href="#notable-changes-in-3-8-17">Notable changes in 3.8.17</a><ul>
<li><a class="reference internal" href="#id3">tarfile</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Tema anterior</h4>
    <p class="topless"><a href="3.9.html"
                          title="capítulo anterior">Qué hay de nuevo en Python 3.9</a></p>
  </div>
  <div>
    <h4>Próximo tema</h4>
    <p class="topless"><a href="3.7.html"
                          title="próximo capítulo">Qué hay de nuevo en Python 3.7</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Report a bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/whatsnew/3.8.rst?plain=1"
            rel="nofollow">Show source
        </a>
      </li>
    </ul>
  </div>
        </div>
<div id="sidebarbutton" title="Contraer barra lateral">
<span>«</span>
</div>

      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Índice general"
             >índice</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Índice de Módulos Python"
             >módulos</a> |</li>
        <li class="right" >
          <a href="3.7.html" title="Qué hay de nuevo en Python 3.7"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="3.9.html" title="Qué hay de nuevo en Python 3.9"
             >anterior</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.15.0a0 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Qué hay de nuevo en Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Qué hay de nuevo en Python 3.8</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Búsqueda rápida" aria-label="Búsqueda rápida" type="search" name="q" id="search-box">
          <input type="submit" value="Ir">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Tema
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Claro</option>
        <option value="dark">Oscuro</option>
    </select>
</label> |</li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Derechos de autor</a> 2001 Python Software Foundation.
    <br>
    Ésta página tiene la licencia Python Software Foundation Versión 2.
    <br>
    Ejemplos, guías, y otro código en la documentación están bajo la licencia adicional Zero Clause BSD.
    <br>
    
      Ver <a href="/license.html">Historia y Licencia</a> para más información.<br>
    
    
    <br>

    La Python Software Foundation es una corporación sin fines de lucro.
<a href="https://www.python.org/psf/donations/">Por favor dona.</a>
<br>
    <br>
      Última actualización en oct 06, 2025 (04:51 UTC).
    
      <a href="/bugs.html">Encontraste un bug</a>?
    
    <br>

    Creado usando <a href="https://www.sphinx-doc.org/">Sphinx</a>8.2.3.
    </div>

  </body>
</html>